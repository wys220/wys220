import{X as e}from"./xe-utils-c57e546e.js";import{D as t}from"./dom-zindex-e3f8f991.js";import{e as l,Z as o,ah as n,ai as r,d as a,B as i,k as s,n as c,au as d,R as u,b as p,a6 as m,G as f,j as g,Y as h,A as v,a0 as b,i as x,a3 as w,a7 as C}from"./@vue-a48b1e2a.js";const y="vxe-icon-",E={size:null,zIndex:999,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single"},columnConfig:{maxFixedSize:4},customConfig:{allowFixed:!0,showFooter:!0},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{_typeMaps:{},modes:["insert","covering"]},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1},modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},export:{types:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},icon:{LOADING:y+"spinner roll vxe-loading--default-icon",TABLE_SORT_ASC:y+"caret-up",TABLE_SORT_DESC:y+"caret-down",TABLE_FILTER_NONE:y+"funnel",TABLE_FILTER_MATCH:y+"funnel",TABLE_EDIT:y+"edit",TABLE_TITLE_PREFIX:y+"question-circle-fill",TABLE_TITLE_SUFFIX:y+"question-circle-fill",TABLE_TREE_LOADED:y+"spinner roll",TABLE_TREE_OPEN:y+"caret-right rotate90",TABLE_TREE_CLOSE:y+"caret-right",TABLE_EXPAND_LOADED:y+"spinner roll",TABLE_EXPAND_OPEN:y+"arrow-right rotate90",TABLE_EXPAND_CLOSE:y+"arrow-right",TABLE_CHECKBOX_CHECKED:y+"checkbox-checked",TABLE_CHECKBOX_UNCHECKED:y+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:y+"checkbox-indeterminate",TABLE_RADIO_CHECKED:y+"radio-checked",TABLE_RADIO_UNCHECKED:y+"radio-unchecked",BUTTON_DROPDOWN:y+"arrow-down",BUTTON_LOADING:y+"spinner roll",SELECT_LOADED:y+"spinner roll",SELECT_OPEN:y+"caret-down rotate180",SELECT_CLOSE:y+"caret-down",PAGER_HOME:y+"home-page",PAGER_END:y+"end-page",PAGER_JUMP_PREV:y+"arrow-double-left",PAGER_JUMP_NEXT:y+"arrow-double-right",PAGER_PREV_PAGE:y+"arrow-left",PAGER_NEXT_PAGE:y+"arrow-right",PAGER_JUMP_MORE:y+"ellipsis-h",INPUT_CLEAR:y+"error-circle-fill",INPUT_PWD:y+"eye-fill",INPUT_SHOW_PWD:y+"eye-fill-close",INPUT_PREV_NUM:y+"caret-up",INPUT_NEXT_NUM:y+"caret-down",INPUT_DATE:y+"calendar",INPUT_SEARCH:y+"search",MODAL_ZOOM_IN:y+"square",MODAL_ZOOM_OUT:y+"maximize",MODAL_CLOSE:y+"close",MODAL_INFO:y+"info-circle-fill",MODAL_SUCCESS:y+"success-circle-fill",MODAL_WARNING:y+"warnion-circle-fill",MODAL_ERROR:y+"error-circle-fill",MODAL_QUESTION:y+"question-circle-fill",MODAL_LOADING:y+"spinner roll",TOOLBAR_TOOLS_REFRESH:y+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:y+"repeat roll",TOOLBAR_TOOLS_IMPORT:y+"upload",TOOLBAR_TOOLS_EXPORT:y+"download",TOOLBAR_TOOLS_PRINT:y+"print",TOOLBAR_TOOLS_FULLSCREEN:y+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:y+"minimize",TOOLBAR_TOOLS_CUSTOM:y+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:y+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:y+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:y+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:y+"fixed-right-fill",FORM_PREFIX:y+"question-circle-fill",FORM_SUFFIX:y+"question-circle-fill",FORM_FOLDING:y+"arrow-up rotate180",FORM_UNFOLDING:y+"arrow-up"},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},button:{},buttonGroup:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},checkboxGroup:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,showConfirmButton:null,storageKey:"VXE_MODAL_POSITION"},drawer:{showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0},list:{scrollY:{enabled:!0,gt:100}},i18n:e=>e};function S(e,t){return`[vxe-table v4.6.18] ${E.i18n(e,t)}`}function T(e){return function(e,t){return S(e,t)}}const O=T(),R=T(),k={},$={mixin:t=>(e.each(t,((e,t)=>$.add(t,e))),$),get:e=>k[e]||[],add(e,t){if(t){let l=k[e];l||(l=k[e]=[]),l.push(t)}return $},delete(t,l){const o=k[t];o&&(l?e.remove(o,(e=>e===l)):delete k[t])}};const M=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return e.each(t,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(t,l){const o=this.store[t];return e.isFunction(l)&&(l={cellFormatMethod:l}),this.store[t]=o?e.merge(o,l):l,this}delete(e){delete this.store[e]}forEach(t){e.objectEach(this.store,t)}};function I(e){return e&&!1!==e.enabled}function D(e){return null==e||""===e}function F(t){const l=t.name,o=e.lastIndexOf(l,"."),n=l.substring(o+1,l.length).toLowerCase();return{filename:l.substring(0,o),type:n}}function N(){return t.getNext()}function L(){return t.getCurrent()}function A(e){return e&&e.children&&e.children.length>0}function P(t){return t?e.toValueString(E.translate?E.translate(""+t):t):""}function V(e,t){return""+(D(e)?t?E.emptyCell:"":e)}function j(t){return""===t||e.eqNull(t)}class B{constructor(t,l,{renderHeader:o,renderCell:n,renderFooter:r,renderData:a}={}){const i=t.xegrid,s=l.formatter,c=!e.isBoolean(l.visible)||l.visible;if(Object.assign(this,{type:l.type,property:l.field,field:l.field,title:l.title,width:l.width,minWidth:l.minWidth,maxWidth:l.maxWidth,resizable:l.resizable,fixed:l.fixed,align:l.align,headerAlign:l.headerAlign,footerAlign:l.footerAlign,showOverflow:l.showOverflow,showHeaderOverflow:l.showHeaderOverflow,showFooterOverflow:l.showFooterOverflow,className:l.className,headerClassName:l.headerClassName,footerClassName:l.footerClassName,formatter:s,sortable:l.sortable,sortBy:l.sortBy,sortType:l.sortType,filters:Ce(l.filters),filterMultiple:!e.isBoolean(l.filterMultiple)||l.filterMultiple,filterMethod:l.filterMethod,filterResetMethod:l.filterResetMethod,filterRecoverMethod:l.filterRecoverMethod,filterRender:l.filterRender,treeNode:l.treeNode,cellType:l.cellType,cellRender:l.cellRender,editRender:l.editRender,contentRender:l.contentRender,headerExportMethod:l.headerExportMethod,exportMethod:l.exportMethod,footerExportMethod:l.footerExportMethod,titleHelp:l.titleHelp,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,params:l.params,id:l.colId||e.uniqueId("col_"),parentId:null,visible:c,halfVisible:!1,defaultVisible:c,defaultFixed:l.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:o||l.renderHeader,renderCell:n||l.renderCell,renderFooter:r||l.renderFooter,renderData:a,slots:l.slots}),i){const{computeProxyOpts:e}=i.getComputeMaps(),t=e.value;t.beforeColumn&&t.beforeColumn({$grid:i,column:this})}}getTitle(){return P(this.title||("seq"===this.type?E.i18n("vxe.table.seqTitle"):""))}getKey(){return this.field||(this.type?`type=${this.type}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const _={},H=e.browse();function z(t,l){return t?e.isFunction(t)?t(l):t:""}function W(e){return _[e]||(_[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),_[e]}function q(e,t,l){if(e){const o=e.parentNode;if(l.top+=e.offsetTop,l.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(l.top-=o.scrollTop,l.left-=o.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return q(e.offsetParent,t,l)}return l}function U(e){return e&&/^\d+(px)?$/.test(e)}function Y(e){return e&&/^\d+%$/.test(e)}function X(e,t){return e&&e.className&&e.className.match&&e.className.match(W(t))}function G(e,t){e&&X(e,t)&&(e.className=e.className.replace(W(t),""))}function K(e,t){e&&!X(e,t)&&(G(e,t),e.className=`${e.className} ${t}`)}function Z(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function J(e){return e?e.offsetHeight:0}function Q(t){if(t){const l=getComputedStyle(t);return e.toNumber(l.paddingTop)+e.toNumber(l.paddingBottom)}return 0}function ee(e,t){e&&(e.scrollTop=t)}function te(e,t){e&&(e.scrollLeft=t)}function le(e,t){const l="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==l&&e.setAttribute("title",l)}function oe(e,t,l,o){let n,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(l&&X(r,l)&&(!o||o(r)))n=r;else if(r===t)return{flag:!l||!!n,container:t,targetElem:n};r=r.parentNode}return{flag:!1}}function ne(e,t){return q(e,t,{left:0,top:0})}function re(e){const t=e.getBoundingClientRect(),l=t.top,o=t.left,{scrollTop:n,scrollLeft:r,visibleHeight:a,visibleWidth:i}=Z();return{boundingTop:l,top:n+l,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}}const ae="scrollIntoViewIfNeeded",ie="scrollIntoView";function se(e){e&&(e[ae]?e[ae]():e[ie]&&e[ie]())}function ce(e){return e&&1===e.nodeType}const de=(e,t)=>{const l=[];return e.forEach((e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some((e=>e.visible))?(l.push(e),l.push(...de(e.children,e))):l.push(e))})),l};function ue(e,t,l){const{internalData:o}=e;return e.clearScroll().then((()=>{if(t||l)return o.lastScrollLeft=0,o.lastScrollTop=0,e.scrollTo(t,l)}))}function pe(e){e&&e._onscroll&&(e.onscroll=null)}function me(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function fe(){return e.uniqueId("row_")}function ge(e){const{props:t}=e,{computeRowOpts:l}=e.getComputeMaps(),{rowId:o}=t,n=l.value;return o||n.keyField||"_X_ROW_KEY"}function he(t,l){const o=e.get(l,ge(t));return e.eqNull(o)?"":encodeURIComponent(o)}const ve=(t,l)=>l?e.isString(l)?t.getColumnByField(l):l:null;function be(t){if(t){const l=getComputedStyle(t);return e.toNumber(l.paddingLeft)+e.toNumber(l.paddingRight)}return 0}function xe(t){if(t){const l=getComputedStyle(t),o=e.toNumber(l.marginLeft),n=e.toNumber(l.marginRight);return t.offsetWidth+o+n}return 0}function we(e,t){return e.querySelector(".vxe-cell"+t)}function Ce(t){return t&&e.isArray(t)?t.map((({label:e,value:t,data:l,resetValue:o,checked:n})=>({label:e,value:t,data:l,resetValue:o,checked:!!n,_checked:!!n}))):t}function ye(t,l){return e.get(t,l.field)}function Ee(t,l,o){return e.set(t,l.field,o)}function Se(e){return e&&(e.constructor===B||e instanceof B)}function Te(e,t,o){Object.keys(t).forEach((n=>{l((()=>t[n]),(t=>{o.update(n,t),e&&("filters"===n?(e.setFilter(o,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())}))}))}function Oe(t,l,o,n){const{reactData:r}=t,{staticColumns:a}=r,i=l.parentNode,s=n?n.column:null,c=s?s.children:a;i&&c&&(c.splice(e.arrayIndexOf(i.children,l),0,o),r.staticColumns=a.slice(0))}function Re(t,l){const{reactData:o}=t,{staticColumns:n}=o,r=e.findTree(n,(e=>e.id===l.id),{children:"children"});r&&r.items.splice(r.index,1),o.staticColumns=n.slice(0)}function ke(e,t){const{internalData:l}=e,{fullColumnIdData:o}=l;if(!t)return null;let n=t.parentId;for(;o[n];){const e=o[n].column;if(n=e.parentId,!n)return e}return t}function $e(e,t,l){for(let o=0;o<e.length;o++){const{row:n,col:r,rowspan:a,colspan:i}=e[o];if(r>-1&&n>-1&&a&&i){if(n===t&&r===l)return{rowspan:a,colspan:i};if(t>=n&&t<n+a&&l>=r&&l<r+i)return{rowspan:0,colspan:0}}}}function Me(e,t){const{reactData:l,internalData:o}=e,{refTableBody:n}=e.getRefMaps(),{scrollYLoad:r}=l,{afterFullData:a,scrollYStore:i}=o,s=n.value,c=s?s.$el:null;if(c){const l=c.querySelector(`[rowid="${he(e,t)}"]`);if(l){const t=c.clientHeight,o=c.scrollTop,n=l.offsetParent,r=l.offsetTop+(n?n.offsetTop:0),a=l.clientHeight;if(r<o||r>o+t)return e.scrollTo(null,r);if(r+a>=t+o)return e.scrollTo(null,o+a)}else if(r)return e.scrollTo(null,(a.indexOf(t)-1)*i.rowHeight)}return Promise.resolve()}function Ie(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function De(t){return e.isArray(t)?t:[t]}const Fe="modelValue",Ne={transfer:!0};function Le(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function Ae(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Pe(t,l,o){const{dateConfig:n={}}=l;return e.toDateString(function(t,l){return t&&l.valueFormat?e.toStringDate(t,l.valueFormat):t}(t,l),n.labelFormat||o)}function Ve(e,t){return Pe(e,t,E.i18n(`vxe.input.date.labelFormat.${t.type}`))}function je(e){return`vxe-${e.replace("$","")}`}function Be({name:e}){return r(e)}function _e({name:e}){return r(je(e))}function He(e,t,l){const{$panel:o}=e;o.changeOption({},t,l)}function ze(e){let{name:t,attrs:l}=e;return"input"===t&&(l=Object.assign({type:"text"},l)),l}function We(e){const{name:t,immediate:l,props:o}=e;if(!l){if("VxeInput"===t||"$input"===t){const{type:e}=o||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return l}function qe(t,l,o,n){return e.assign({immediate:We(t)},Ne,n,t.props,{[Fe]:o})}function Ue(t,l,o,n){return e.assign({},Ne,n,t.props,{[Fe]:o})}function Ye(t,l,o,n){return e.assign({},Ne,n,t.props,{[Fe]:o})}function Xe(e,t){return"cell"===t.$type||We(e)}function Ge(e,t,l){const{placeholder:o}=e;return[n("span",{class:"vxe-cell--label"},o&&D(l)?[n("span",{class:"vxe-cell--placeholder"},V(P(o),1))]:V(l,1))]}function Ke(t,l,o,n){const{events:r}=t,a=Le(t),i=Ae(t),s=i===a,c={};return r&&e.objectEach(r,((e,t)=>{c[Ie(t)]=function(...t){e(l,...t)}})),o&&(c[Ie(a)]=function(e){o(e),s&&n&&n(e),r&&r[a]&&r[a](l,e)}),!s&&n&&(c[Ie(i)]=function(...e){n(...e),r&&r[i]&&r[i](l,...e)}),c}function Ze(t,l,o,n){const{events:r}=t,a=Le(t),i=Ae(t),s={};return e.objectEach(r,((e,t)=>{s[Ie(t)]=function(...t){e(l,...t)}})),o&&(s[Ie(a)]=function(e){o(e),r&&r[a]&&r[a](l,e)}),n&&(s[Ie(i)]=function(...e){n(...e),r&&r[i]&&r[i](l,...e)}),s}function Je(e,t){const{$table:l,row:o,column:n}=t,{name:r}=e,{model:a}=n,i=Xe(e,t);return Ze(e,t,(e=>{i?Ee(o,n,e):(a.update=!0,a.value=e)}),(e=>{if(!i&&["VxeInput","VxeTextarea","$input","$textarea"].includes(r)){const o=e.value;a.update=!0,a.value=o,l.updateStatus(t,o)}else l.updateStatus(t)}))}function Qe(t,l,o){return Ze(t,l,(e=>{o.data=e}),(()=>{He(l,!e.eqNull(o.data),o)}))}function et(t,l){const{$form:o,data:n,property:r}=l;return Ze(t,l,(t=>{e.set(n,r,t)}),(()=>{o.updateStatus(l)}))}function tt(e,t){const{$table:l,row:o,column:n}=t,{model:r}=n;return Ke(e,t,(l=>{const a=l.target.value;Xe(e,t)?Ee(o,n,a):(r.update=!0,r.value=a)}),(e=>{const o=e.target.value;l.updateStatus(t,o)}))}function lt(t,l,o){return Ke(t,l,(e=>{o.data=e.target.value}),(()=>{He(l,!e.eqNull(o.data),o)}))}function ot(t,l){const{$form:o,data:n,property:r}=l;return Ke(t,l,(t=>{const l=t.target.value;e.set(n,r,l)}),(()=>{o.updateStatus(l)}))}function nt(e,t){const{row:l,column:o}=t,{name:r}=e,a=Xe(e,t)?ye(l,o):o.model.value;return[n(r,Object.assign(Object.assign(Object.assign({class:`vxe-default-${r}`},ze(e)),{value:a}),tt(e,t)))]}function rt(e,t){return[n(Be(e),Object.assign(Object.assign({},qe(e,0,null)),Ze(e,t)))]}function at(e,t){const{row:l,column:o}=t,r=ye(l,o);return[n(Be(e),Object.assign(Object.assign({},qe(e,0,r)),Je(e,t)))]}function it(e,t){const{row:l,column:o}=t,r=ye(l,o);return[n(_e(e),Object.assign(Object.assign({},qe(e,0,r)),Je(e,t)))]}function st(e,t){return[n(r("vxe-button"),Object.assign(Object.assign({},qe(e,0,null)),Ze(e,t)))]}function ct(e,t,l){const{optionGroups:o,optionGroupProps:r={}}=e,a=r.options||"options",i=r.label||"label";return o.map(((o,r)=>n("optgroup",{key:r,label:o[i]},l(o[a],e,t))))}function dt(e,t,l){const{optionProps:o={}}=t,{row:r,column:a}=l,i=o.label||"label",s=o.value||"value",c=o.disabled||"disabled",d=Xe(t,l)?ye(r,a):a.model.value;return e.map(((e,t)=>n("option",{key:t,value:e[s],disabled:e[c],selected:e[s]==d},e[i])))}function ut({option:t,row:l,column:o}){const{data:n}=t;return e.get(l,o.property)==n}function pt(e,t){return[n("select",Object.assign(Object.assign({class:"vxe-default-select"},ze(e)),tt(e,t)),e.optionGroups?ct(e,t,dt):dt(e.options,e,t))]}function mt(e,t){const{row:l,column:o}=t,{options:r,optionProps:a,optionGroups:i,optionGroupProps:s}=e,c=ye(l,o);return[n(Be(e),Object.assign(Object.assign({},qe(e,0,c,{options:r,optionProps:a,optionGroups:i,optionGroupProps:s})),Je(e,t)))]}function ft(e,t){const{row:l,column:o}=t,{options:r,optionProps:a,optionGroups:i,optionGroupProps:s}=e,c=ye(l,o);return[n(_e(e),Object.assign(Object.assign({},qe(e,0,c,{options:r,optionProps:a,optionGroups:i,optionGroupProps:s})),Je(e,t)))]}function gt(t,{row:l,column:o}){const{props:n={},options:r,optionGroups:a,optionProps:i={},optionGroupProps:s={}}=t,c=e.get(l,o.property);let d;const u=i.label||"label",p=i.value||"value";return D(c)?"":e.map(n.multiple?c:[c],a?t=>{const l=s.options||"options";for(let o=0;o<a.length&&(d=e.find(a[o][l],(e=>e[p]==t)),!d);o++);return d?d[u]:t}:t=>(d=e.find(r,(e=>e[p]==t)),d?d[u]:t)).join(", ")}function ht(t,l){const{data:o,property:r}=l,{name:a}=t,i=ze(t),s=e.get(o,r);return[n(a,Object.assign(Object.assign(Object.assign({class:`vxe-default-${a}`},i),{value:!i||"input"!==a||"submit"!==i.type&&"reset"!==i.type?s:null}),ot(t,l)))]}function vt(t,l){const{data:o,property:r}=l,a=e.get(o,r);return[n(Be(t),Object.assign(Object.assign({},Ye(t,0,a)),et(t,l)))]}function bt(t,l){const{data:o,property:r}=l,a=e.get(o,r);return[n(_e(t),Object.assign(Object.assign({},Ye(t,0,a)),et(t,l)))]}function xt(e,t){return[n(r("vxe-button"),Object.assign(Object.assign({},Ye(e,0,null)),Ze(e,t)))]}function wt(t,l,o){const{data:r,property:a}=o,{optionProps:i={}}=l,s=i.label||"label",c=i.value||"value",d=i.disabled||"disabled",u=e.get(r,a);return t.map(((e,t)=>n("option",{key:t,value:e[c],disabled:e[d],selected:e[c]==u},e[s])))}function Ct(e){const{row:t,column:l,options:o}=e;return o.original?ye(t,l):gt(l.editRender||l.cellRender,e)}function yt(t,l){const{data:o,property:r}=l,a=e.get(o,r);return[n(Be(t),Object.assign(Object.assign({},Ye(t,0,a)),et(t,l)))]}function Et(t,l){const{options:o,optionProps:r}=t,{data:a,property:i}=l,s=e.get(a,i);return[n(Be(t),Object.assign(Object.assign({options:o,optionProps:r},Ye(t,0,s)),et(t,l)))]}function St(t,l){const{name:o,options:a,optionProps:i={}}=t,{data:s,property:c}=l,d=i.label||"label",u=i.value||"value",p=i.disabled||"disabled",m=e.get(s,c),f=je(o);return a?[n(r(`${f}-group`),Object.assign(Object.assign({},Ye(t,0,m)),et(t,l)),{default:()=>a.map(((e,t)=>n(r(f),{key:t,label:e[u],content:e[d],disabled:e[p]})))})]:[n(r(f),Object.assign(Object.assign({},Ye(t,0,m)),et(t,l)))]}const Tt={input:{autofocus:"input",renderEdit:nt,renderDefault:nt,renderFilter:function(e,t){const{column:l}=t,{name:o}=e,r=ze(e);return l.filters.map(((l,a)=>n(o,Object.assign(Object.assign(Object.assign({key:a,class:`vxe-default-${o}`},r),{value:l.data}),lt(e,t,l)))))},defaultFilterMethod:ut,renderItemContent:ht},textarea:{autofocus:"textarea",renderEdit:nt,renderItemContent:ht},select:{renderEdit:pt,renderDefault:pt,renderCell:(e,t)=>Ge(e,0,gt(e,t)),renderFilter(e,t){const{column:l}=t;return l.filters.map(((l,o)=>n("select",Object.assign(Object.assign({key:o,class:"vxe-default-select"},ze(e)),lt(e,t,l)),e.optionGroups?ct(e,t,dt):dt(e.options,e,t))))},defaultFilterMethod:ut,renderItemContent:(e,t)=>[n("select",Object.assign(Object.assign({class:"vxe-default-select"},ze(e)),ot(e,t)),e.optionGroups?ct(e,t,wt):wt(e.options,e,t))],exportMethod:Ct},VxeInput:{autofocus:".vxe-input--inner",renderEdit:at,renderCell(t,l){const{props:o={}}=t,{row:n,column:r}=l,a=o.digits||E.input.digits;let i=e.get(n,r.property);if(i)switch(o.type){case"date":case"week":case"month":case"year":i=Ve(i,o);break;case"float":i=e.toFixed(e.floor(i,a),a)}return Ge(t,0,i)},renderDefault:at,renderFilter:function(e,t){const{column:l}=t;return l.filters.map(((l,o)=>{const r=l.data;return n(Be(e),Object.assign(Object.assign({key:o},Ue(e,0,r)),Qe(e,t,l)))}))},defaultFilterMethod:ut,renderItemContent:vt},VxeTextarea:{autofocus:".vxe-textarea--inner",renderItemContent:vt},VxeButton:{renderDefault:rt,renderItemContent:yt},VxeButtonGroup:{renderDefault:rt,renderItemContent(t,l){const{options:o}=t,{data:r,property:a}=l,i=e.get(r,a);return[n(Be(t),Object.assign(Object.assign({options:o},Ye(t,0,i)),et(t,l)))]}},VxeSelect:{autofocus:".vxe-input--inner",renderEdit:mt,renderDefault:mt,renderCell:(e,t)=>Ge(e,0,gt(e,t)),renderFilter(e,t){const{column:l}=t,{options:o,optionProps:r,optionGroups:a,optionGroupProps:i}=e;return l.filters.map(((l,s)=>{const c=l.data;return n(Be(e),Object.assign(Object.assign({key:s},Ue(e,0,c,{options:o,optionProps:r,optionGroups:a,optionGroupProps:i})),Qe(e,t,l)))}))},defaultFilterMethod:ut,renderItemContent(t,l){const{data:o,property:r}=l,{options:a,optionProps:i,optionGroups:s,optionGroupProps:c}=t,d=e.get(o,r);return[n(Be(t),Object.assign(Object.assign({},Ye(t,0,d,{options:a,optionProps:i,optionGroups:s,optionGroupProps:c})),et(t,l)))]},exportMethod:Ct},VxeRadio:{autofocus:".vxe-radio--input",renderItemContent:yt},VxeRadioGroup:{autofocus:".vxe-radio--input",renderItemContent:Et},VxeCheckbox:{autofocus:".vxe-checkbox--input",renderItemContent:yt},VxeCheckboxGroup:{autofocus:".vxe-checkbox--input",renderItemContent:Et},VxeSwitch:{autofocus:".vxe-switch--button",renderEdit:at,renderDefault:at,renderItemContent:vt},$input:{autofocus:".vxe-input--inner",renderEdit:it,renderCell(t,l){const{props:o={}}=t,{row:n,column:r}=l,a=o.digits||E.input.digits;let i=e.get(n,r.property);if(i)switch(o.type){case"date":case"week":case"month":case"year":i=Ve(i,o);break;case"float":i=e.toFixed(e.floor(i,a),a)}return Ge(t,0,i)},renderDefault:it,renderFilter:function(e,t){const{column:l}=t;return l.filters.map(((l,o)=>{const r=l.data;return n(_e(e),Object.assign(Object.assign({key:o},Ue(e,0,r)),Qe(e,t,l)))}))},defaultFilterMethod:ut,renderItemContent:bt},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:bt},$button:{renderDefault:st,renderItemContent:xt},$buttons:{renderDefault:function(e,t){return e.children.map((e=>st(e,t)[0]))},renderItemContent:function(e,t){return e.children.map((e=>xt(e,t)[0]))}},$select:{autofocus:".vxe-input--inner",renderEdit:ft,renderDefault:ft,renderCell:(e,t)=>Ge(e,0,gt(e,t)),renderFilter(e,t){const{column:l}=t,{options:o,optionProps:r,optionGroups:a,optionGroupProps:i}=e;return l.filters.map(((l,s)=>{const c=l.data;return n(_e(e),Object.assign(Object.assign({key:s},Ue(e,0,c,{options:o,optionProps:r,optionGroups:a,optionGroupProps:i})),Qe(e,t,l)))}))},defaultFilterMethod:ut,renderItemContent(t,l){const{data:o,property:r}=l,{options:a,optionProps:i,optionGroups:s,optionGroupProps:c}=t,d=e.get(o,r);return[n(_e(t),Object.assign(Object.assign({},Ye(t,0,d,{options:a,optionProps:i,optionGroups:s,optionGroupProps:c})),et(t,l)))]},exportMethod:Ct},$radio:{autofocus:".vxe-radio--input",renderItemContent:St},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:St},$switch:{autofocus:".vxe-switch--button",renderEdit:it,renderDefault:it,renderItemContent:bt}},Ot={mixin:t=>(e.each(t,((e,t)=>Ot.add(t,e))),Ot),get:e=>Tt[e]||null,add(e,t){if(e&&t){const l=Tt[e];l?Object.assign(l,t):Tt[e]=t}return Ot},delete:e=>(delete Tt[e],Ot)};const Rt=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return e.each(t,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(t,l){const o=this.store[t];return e.isFunction(l)&&(l={commandMethod:l}),this.store[t]=o?e.merge(o,l):l,this}delete(e){delete this.store[e]}forEach(t){e.objectEach(this.store,t)}};const kt=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return e.each(t,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(t,l){const o=this.store[t];return e.isFunction(l)&&(l={menuMethod:l}),this.store[t]=o?e.merge(o,l):l,this}delete(e){delete this.store[e]}forEach(t){e.objectEach(this.store,t)}};class $t{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return e.each(t,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(t,l){const o=this.store[t];return this.store[t]=o?e.merge(o,l):l,this}delete(e){delete this.store[e]}forEach(t){e.objectEach(this.store,t)}}const Mt=new $t,It=new $t;function Dt(e){let t=e||E.theme;if(t&&"default"!==t||(t="light"),E.theme=t,"undefined"!=typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-ui-theme",t)}}function Ft(t,l){const o=[];return e.objectEach(t,((e,t)=>{0!==e&&e!==l||o.push(t)})),o}const Nt=[];function Lt(e,t){return e&&e.install&&-1===Nt.indexOf(e)&&(e.install(Xt,t),Nt.push(e)),Xt}function At(e,t){return E.i18n(e,t)}function Pt(t,l){return t?e.toValueString(E.translate?E.translate(t,l):t):""}const Vt=l=>(l&&(l.theme&&Dt(l.theme),l.zIndex&&t.setCurrent(l.zIndex),e.merge(E,l)),Xt);const jt=new class{get zIndex(){return L()}get nextZIndex(){return N()}get exportTypes(){return Ft(E.export.types,1)}get importTypes(){return Ft(E.export.types,2)}},Bt=e=>(Vt(e),E),_t=e=>(Vt(e),E);function Ht(e){return e&&Object.assign(E.icon,e),Xt}const zt={},Wt={};function qt(e){return Wt[e]||null}const Ut="4.6.18",Yt=Ut,Xt={v:"v4",version:Ut,tableVersion:Yt,setConfig:Vt,setIcon:Ht,globalStore:zt,interceptor:$,renderer:Ot,commands:Rt,formats:M,validators:Mt,menus:kt,hooks:It,use:Lt,t:At,_t:Pt,setTheme:Dt,getTheme:function(){return E.theme},getComponent:qt,config:_t,setup:Bt,globalConfs:jt},Gt=Xt;Dt("light");const Kt=a({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const t=i("$xetable",{}),{reactData:l,internalData:o,getComputeMaps:r}=t,{computeFilterOpts:a}=r(),c=s((()=>{const{filterStore:t}=e;return t&&t.options.some((e=>e.checked))})),d=l=>{const{filterStore:o}=e;o.options.forEach((e=>{e.checked=e._checked})),t.confirmFilterEvent(l)},u=(l,o,n)=>{const{filterStore:r}=e;r.options.forEach((e=>{e._checked=!1})),n._checked=o,t.checkFilterOptions(),d(l)},p=l=>{const{filterStore:o}=e;t.handleClearFilter(o.column),t.confirmFilterEvent(l)},m=(e,l,o)=>{o._checked=l,t.checkFilterOptions()},f=(t,l,o)=>{const{filterStore:n}=e;n.multiple?m(0,l,o):u(t,l,o)},g=(t,l)=>{const{filterStore:o}=e;o.multiple?((t,l)=>{const{filterStore:o}=e;o.options.forEach((e=>{e._checked=l,e.checked=l})),o.isAllSelected=l,o.isIndeterminate=!1})(0,l):p(t)},h={changeRadioOption:u,changeMultipleOption:m,changeAllOption:g,changeOption:f,confirmFilter:d,resetFilter:p};return()=>{const{filterStore:r}=e,{initStore:i}=l,{column:s}=r,u=s?s.filterRender:null,m=u?Xt.renderer.get(u.name):null,v=m?m.filterClassName:"",b=Object.assign({},o._currFilterParams,{$panel:h,$table:t});return n("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",z(v,b),{"is--animat":t.props.animat,"is--multiple":r.multiple,"is--active":r.visible}],style:r.style},i.filter&&r.visible?((l,r)=>{const{filterStore:a}=e,{column:i,multiple:s,maxHeight:c}=a,{slots:d}=i,u=d?d.filter:null,p=Object.assign({},o._currFilterParams,{$panel:h,$table:t});if(u)return[n("div",{class:"vxe-table--filter-template"},t.callSlot(u,p))];if(r&&r.renderFilter)return[n("div",{class:"vxe-table--filter-template"},De(r.renderFilter(l,p)))];const m=s?a.isAllSelected:!a.options.some((e=>e._checked)),v=s&&a.isIndeterminate;return[n("ul",{class:"vxe-table--filter-header"},[n("li",{class:["vxe-table--filter-option",{"is--checked":m,"is--indeterminate":v}],title:E.i18n(s?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{g(e,!a.isAllSelected)}},(s?[n("span",{class:["vxe-checkbox--icon",v?E.icon.TABLE_CHECKBOX_INDETERMINATE:m?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([n("span",{class:"vxe-checkbox--label"},E.i18n("vxe.table.allFilter"))]))]),n("ul",{class:"vxe-table--filter-body",style:c?{maxHeight:`${c}px`}:{}},a.options.map((e=>{const t=e._checked;return n("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{f(t,!e._checked,e)}},(s?[n("span",{class:["vxe-checkbox--icon",t?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([n("span",{class:"vxe-checkbox--label"},V(e.label,1))]))})))]})(u,m).concat((()=>{const{filterStore:t}=e,{column:l,multiple:o}=t,r=a.value,i=c.value,s=l.filterRender,u=s?Xt.renderer.get(s.name):null,m=!i&&!t.isAllSelected&&!t.isIndeterminate;return!o||u&&!1===u.showFilterFooter?[]:[n("div",{class:"vxe-table--filter-footer"},[n("button",{class:{"is--disabled":m},disabled:m,onClick:d},r.confirmButtonText||E.i18n("vxe.table.confirmFilter")),n("button",{onClick:p},r.resetButtonText||E.i18n("vxe.table.resetFilter"))])]})()):[])}}}),Zt=["setFilter","clearFilter","getCheckedFilters"],Jt={setupTable(t){const{props:l,reactData:o,internalData:n}=t,{refTableBody:r,refTableFilter:a}=t.getRefMaps(),{computeFilterOpts:i,computeMouseOpts:s}=t.getComputeMaps(),d={checkFilterOptions(){const{filterStore:e}=o;e.isAllSelected=e.options.every((e=>e._checked)),e.isIndeterminate=!e.isAllSelected&&e.options.some((e=>e._checked))},triggerFilterEvent(e,l,i){const{initStore:s,filterStore:d}=o;if(d.column===l&&d.visible)d.visible=!1;else{const{target:o,pageX:u}=e,{visibleWidth:p}=Z(),{filters:m,filterMultiple:f,filterRender:g}=l,h=g?Xt.renderer.get(g.name):null,v=l.filterRecoverMethod||(h?h.filterRecoverMethod:null);n._currFilterParams=i,Object.assign(d,{multiple:f,options:m,column:l,style:null}),d.options.forEach((e=>{const{_checked:o,checked:n}=e;e._checked=n,n||o===n||v&&v({option:e,column:l,$table:t})})),this.checkFilterOptions(),d.visible=!0,s.filter=!0,c((()=>{const e=r.value.$el,t=a.value,n=t?t.$el:null;let i=0,s=0,c=null,m=null;n&&(i=n.offsetWidth,s=n.offsetHeight,c=n.querySelector(".vxe-table--filter-header"),m=n.querySelector(".vxe-table--filter-footer"));const f=i/2,g=e.clientWidth-i-10;let h,v;const b={top:`${o.offsetTop+o.offsetParent.offsetTop+o.offsetHeight+8}px`};let x=null;if(s>=e.clientHeight&&(x=Math.max(60,e.clientHeight-(m?m.offsetHeight:0)-(c?c.offsetHeight:0))),"left"===l.fixed?h=o.offsetLeft+o.offsetParent.offsetLeft-f:"right"===l.fixed?v=o.offsetParent.offsetWidth-o.offsetLeft+(o.offsetParent.offsetParent.offsetWidth-o.offsetParent.offsetLeft)-l.renderWidth-f:h=o.offsetLeft+o.offsetParent.offsetLeft-f-e.scrollLeft,h){const e=u+i-f+10-p;e>0&&(h-=e),b.left=`${Math.min(g,Math.max(10,h))}px`}else if(v){const e=u+i-f+10-p;e>0&&(v+=e),b.right=`${Math.max(10,v)}px`}d.style=b,d.maxHeight=x}))}t.dispatchEvent("filter-visible",{column:l,field:l.field,property:l.field,filterList:t.getCheckedFilters(),visible:d.visible},e)},handleClearFilter(l){if(l){const{filters:o,filterRender:n}=l;if(o){const r=n?Xt.renderer.get(n.name):null,a=l.filterResetMethod||(r?r.filterResetMethod:null);o.forEach((t=>{t._checked=!1,t.checked=!1,a||(t.data=e.clone(t.resetValue,!0))})),a&&a({options:o,column:l,$table:t})}}},confirmFilterEvent(e){const{mouseConfig:n}=l,{filterStore:r,scrollXLoad:a,scrollYLoad:c}=o,d=i.value,u=s.value,{column:p}=r,{field:m}=p,f=[],g=[];p.filters.forEach((e=>{e.checked&&(f.push(e.value),g.push(e.data))}));const h=t.getCheckedFilters(),v={$table:t,$event:e,column:p,field:m,property:m,values:f,datas:g,filters:h,filterList:h};d.remote||(t.handleTableData(!0),t.checkSelectionStatus()),n&&u.area&&t.handleFilterEvent&&t.handleFilterEvent(e,v),t.dispatchEvent("filter-change",v,e),t.closeFilter(),t.updateFooter().then((()=>{const{scrollXLoad:e,scrollYLoad:l}=o;if(a||e||c||l)return(a||e)&&t.updateScrollXSpace(),(c||l)&&t.updateScrollYSpace(),t.refreshScroll()})).then((()=>(t.updateCellAreas(),t.recalculate(!0)))).then((()=>{setTimeout((()=>t.recalculate()),50)}))}},u={openFilter(e){const l=ve(t,e);if(l&&l.filters){const{elemStore:e}=n,{fixed:o}=l;return t.scrollToColumn(l).then((()=>{const t=e[`${o||"main"}-header-wrapper`]||e["main-header-wrapper"],n=t?t.value:null;if(n){const e=n.querySelector(`.vxe-header--column.${l.id} .vxe-filter--btn`);a="click",(r=e)&&r.dispatchEvent(new Event(a))}var r,a}))}return c()},setFilter(e,l){const o=ve(t,e);return o&&o.filters&&(o.filters=Ce(l||[])),c()},clearFilter(e){const{filterStore:l}=o,{tableFullColumn:r}=n,a=i.value;let s;return e?(s=ve(t,e),s&&d.handleClearFilter(s)):r.forEach(d.handleClearFilter),e&&s===l.column||Object.assign(l,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),a.remote?c():t.updateData()},getCheckedFilters(){const{tableFullColumn:e}=n,t=[];return e.forEach((e=>{const{field:l,filters:o}=e,n=[],r=[];o&&o.length&&(o.forEach((e=>{e.checked&&(n.push(e.value),r.push(e.data))})),n.length&&t.push({column:e,field:l,property:l,values:n,datas:r}))})),t}};return Object.assign(Object.assign({},u),d)},setupGrid:e=>e.extendTableMethods(Zt)};let Qt;const el=o({modals:[],drawers:[]}),tl=d(a({setup:()=>()=>{const{modals:e,drawers:t}=el;return[e.length?n("div",{class:"vxe-dynamics--modal"},e.map((e=>n(r("vxe-modal"),e)))):u(),t.length?n("div",{class:"vxe-dynamics--drawer"},t.map((e=>n(r("vxe-drawer"),e)))):u()]}}));function ll(){Qt||(Qt=document.createElement("div"),Qt.className="vxe-dynamics",document.body.appendChild(Qt),tl.mount(Qt))}const ol={Panel:Kt,install(e){Xt.hooks.add("$tableFilter",Jt),e.component(Kt.name,Kt)}},nl=ol;tl.component(Kt.name,Kt);const rl=a({name:"VxeTableMenuPanel",setup(t,l){const o=e.uniqueId(),r=i("$xetable",{}),{reactData:a}=r,s=p(),c={refElem:s},d={xID:o,props:t,context:l,getRefMaps:()=>c};return d.renderVN=()=>{const{ctxMenuStore:e}=a,{computeMenuOpts:t}=r.getComputeMaps(),l=t.value;return n(m,{to:"body",disabled:!1},[n("div",{ref:s,class:["vxe-table--context-menu-wrapper",l.className,{"is--visible":e.visible}],style:e.style},e.list.map(((t,l)=>t.every((e=>!1===e.visible))?u():n("ul",{class:"vxe-context-menu--option-wrapper",key:l},t.map(((t,o)=>{const a=t.children&&t.children.some((e=>!1!==e.visible));return!1===t.visible?null:n("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${l}_${o}`},[n("a",{class:"vxe-context-menu--link",onClick(e){r.ctxMenuLinkEvent(e,t)},onMouseover(e){r.ctxMenuMouseoverEvent(e,t)},onMouseout(e){r.ctxMenuMouseoutEvent(e,t)}},[n("i",{class:["vxe-context-menu--link-prefix",t.prefixIcon]}),n("span",{class:"vxe-context-menu--link-content"},P(t.name)),n("i",{class:["vxe-context-menu--link-suffix",a?t.suffixIcon||"suffix--haschild":t.suffixIcon]})]),a?n("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map(((a,i)=>!1===a.visible?null:n("li",{class:[a.className,{"link--disabled":a.disabled,"link--active":a===e.selectChild}],key:`${l}_${o}_${i}`},[n("a",{class:"vxe-context-menu--link",onClick(e){r.ctxMenuLinkEvent(e,a)},onMouseover(e){r.ctxMenuMouseoverEvent(e,t,a)},onMouseout(e){r.ctxMenuMouseoutEvent(e,t)}},[n("i",{class:["vxe-context-menu--link-prefix",a.prefixIcon]}),n("span",{class:"vxe-context-menu--link-content"},P(a.name))])])))):null])}))))))])},d},render(){return this.renderVN()}}),al="F2",il="Escape",sl="Enter",cl="Tab",dl="Delete",ul="Backspace",pl=" ",ml="ContextMenu",fl="ArrowUp",gl="ArrowDown",hl="ArrowLeft",vl="ArrowRight",bl="PageUp",xl="PageDown",wl={" ":"Spacebar",Apps:ml,Del:dl,Up:fl,Down:gl,Left:hl,Right:vl},Cl=H.firefox?"DOMMouseScroll":"mousewheel",yl=[],El=(e,t)=>{const{key:l}=e;return t=t.toLowerCase(),!!l&&(t===l.toLowerCase()||!(!wl[l]||wl[l].toLowerCase()!==t))};function Sl(e){const t=e.type===Cl;yl.forEach((({type:l,cb:o})=>{e.cancelBubble||(l===e.type||t&&"mousewheel"===l)&&o(e)}))}const Tl={on(e,t,l){yl.push({comp:e,type:t,cb:l})},off(t,l){e.remove(yl,(e=>e.comp===t&&e.type===l))},trigger:Sl,eqKeypad(e,t){const{key:l}=e;return t.toLowerCase()===l.toLowerCase()}};H.isDoc&&(H.msie||(window.addEventListener("copy",Sl,!1),window.addEventListener("cut",Sl,!1),window.addEventListener("paste",Sl,!1)),document.addEventListener("keydown",Sl,!1),document.addEventListener("contextmenu",Sl,!1),window.addEventListener("mousedown",Sl,!1),window.addEventListener("blur",Sl,!1),window.addEventListener("resize",Sl,!1),window.addEventListener(Cl,e.throttle(Sl,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const Ol=["closeMenu"],Rl={setupTable(t){const{xID:l,props:o,reactData:n,internalData:r}=t,{refElem:a,refTableFilter:i,refTableMenu:s}=t.getRefMaps(),{computeMouseOpts:d,computeIsMenu:u,computeMenuOpts:p}=t.getComputeMaps();let m={},f={};const g=(e,l,o)=>{const{ctxMenuStore:a}=n,i=u.value,d=p.value,f=d[l],g=d.visibleMethod;if(f){const{options:l,disabled:n}=f;n?e.preventDefault():i&&l&&l.length&&(o.options=l,t.preventEvent(e,"event.showMenu",o,(()=>{if(!g||g(o)){e.preventDefault(),t.updateZindex();const{scrollTop:n,scrollLeft:i,visibleHeight:d,visibleWidth:u}=Z();let p=e.clientY+n,m=e.clientX+i;const f=()=>{r._currMenuParams=o,Object.assign(a,{visible:!0,list:l,selected:null,selectChild:null,showChild:!1,style:{zIndex:r.tZindex,top:`${p}px`,left:`${m}px`}}),c((()=>{const e=s.value.getRefMaps().refElem.value,t=e.clientHeight,l=e.clientWidth,{boundingTop:o,boundingLeft:r}=re(e),c=r+l-u;o+t-d>-10&&(a.style.top=`${Math.max(n+2,p-t-2)}px`),c>-10&&(a.style.left=`${Math.max(i+2,m-l-2)}px`)}))},{keyboard:g,row:h,column:v}=o;g&&h&&v?t.scrollToRow(h,v).then((()=>{const e=t.getCell(h,v);if(e){const{boundingTop:t,boundingLeft:l}=re(e);p=t+n+Math.floor(e.offsetHeight/2),m=l+i+Math.floor(e.offsetWidth/2)}f()})):f()}else m.closeMenu()})))}t.closeFilter()};return m={closeMenu:()=>(Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),c())},f={moveCtxMenu(t,l,o,n,r,a){let i;const s=e.findIndexOf(a,(e=>l[o]===e));if(n)r&&A(l.selected)?l.showChild=!0:(l.showChild=!1,l.selectChild=null);else if(El(t,fl)){for(let e=s-1;e>=0;e--)if(!1!==a[e].visible){i=a[e];break}l[o]=i||a[a.length-1]}else if(El(t,gl)){for(let e=s+1;e<a.length;e++)if(!1!==a[e].visible){i=a[e];break}l[o]=i||a[0]}else l[o]&&(El(t,sl)||El(t,pl))&&f.ctxMenuLinkEvent(t,l[o])},handleOpenMenuEvent:g,handleGlobalContextmenuEvent(e){const{mouseConfig:c,menuConfig:u}=o,{editStore:f,ctxMenuStore:h}=n,{visibleColumn:v}=r,b=i.value,x=s.value,w=d.value,C=p.value,y=a.value,{selected:E}=f,S=["header","body","footer"];if(I(u)){if(h.visible&&x&&oe(e,x.getRefMaps().refElem.value).flag)return void e.preventDefault();if(r._keyCtx){const l="body",o={type:l,$table:t,keyboard:!0,columns:v.slice(0),$event:e};if(c&&w.area){const n=t.getActiveCellArea();if(n&&n.row&&n.column)return o.row=n.row,o.column=n.column,void g(e,l,o)}else if(c&&w.selected&&E.row&&E.column)return o.row=E.row,o.column=E.column,void g(e,l,o)}for(let o=0;o<S.length;o++){const n=S[o],r=oe(e,y,`vxe-${n}--column`,(e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===l)),a={type:n,$table:t,columns:v.slice(0),$event:e};if(r.flag){const l=r.targetElem,o=t.getColumnNode(l),i=o?o.item:null;let s=`${n}-`;if(i&&Object.assign(a,{column:i,columnIndex:t.getColumnIndex(i),cell:l}),"body"===n){const e=t.getRowNode(l.parentNode),o=e?e.item:null;s="",o&&(a.row=o,a.rowIndex=t.getRowIndex(o))}const c=`${s}cell-menu`;return g(e,n,a),void t.dispatchEvent(c,a,e)}if(oe(e,y,`vxe-table--${n}-wrapper`,(e=>e.getAttribute("xid")===l)).flag)return void("cell"===C.trigger?e.preventDefault():g(e,n,a))}}b&&!oe(e,b.$el).flag&&t.closeFilter(),m.closeMenu()},ctxMenuMouseoverEvent(e,t,l){const o=e.currentTarget,{ctxMenuStore:r}=n;e.preventDefault(),e.stopPropagation(),r.selected=t,r.selectChild=l,l||(r.showChild=A(t),r.showChild&&c((()=>{const e=o.nextElementSibling;if(e){const{boundingTop:t,boundingLeft:l,visibleHeight:n,visibleWidth:r}=re(o),a=t+o.offsetHeight;let i="",s="";l+o.offsetWidth+e.offsetWidth>r-10&&(i="auto",s=`${o.offsetWidth}px`);let c="",d="";a+e.offsetHeight>n-10&&(c="auto",d="0"),e.style.left=i,e.style.right=s,e.style.top=c,e.style.bottom=d}})))},ctxMenuMouseoutEvent(e,t){const{ctxMenuStore:l}=n;t.children||(l.selected=null),l.selectChild=null},ctxMenuLinkEvent(e,l){if(!l.disabled&&(l.code||!l.children||!l.children.length)){const o=Xt.menus.get(l.code),n=Object.assign({},r._currMenuParams,{menu:l,$table:t,$grid:t.xegrid,$event:e}),a=o?o.tableMenuMethod||o.menuMethod:null;a&&a(n,e),t.dispatchEvent("menu-click",n,e),m.closeMenu()}}},Object.assign(Object.assign({},m),f)},setupGrid:e=>e.extendTableMethods(Ol)},kl={Panel:rl,install(e){Xt.hooks.add("$tableMenu",Rl),e.component(rl.name,rl)}},$l=kl;tl.component(rl.name,rl);const Ml=["insert","insertAt","insertNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],Il={setupTable(t){const{props:l,reactData:n,internalData:r}=t,{refElem:a}=t.getRefMaps(),{computeMouseOpts:i,computeEditOpts:s,computeCheckboxOpts:d,computeTreeOpts:u}=t.getComputeMaps();let p={},m={};const f=(e,t)=>{const{model:l,editRender:o}=t;o&&(l.value=ye(e,t),l.update=!1)},g=(e,t)=>{const{model:l,editRender:o}=t;o&&l.update&&(Ee(e,t,l.value),l.update=!1,l.value=null)},h=()=>{const e=a.value;if(e){const t=e.querySelector(".col--selected");t&&G(t,"col--selected")}};function v(){const{editStore:e,tableColumn:t}=n,l=s.value,{actived:o}=e,{row:r,column:a}=o;(r||a)&&("row"===l.mode?t.forEach((e=>g(r,e))):g(r,a))}function b(l,o){const{tableFullTreeData:n,afterFullData:a,fullDataRowIdData:i,fullAllDataRowIdData:s}=r,c=u.value,{rowField:d,parentField:p,mapChildrenField:m}=c,f=c.children||c.childrenField,g=o?"push":"unshift";l.forEach((l=>{const o=l[p],r=he(t,l),c=o?e.findTree(n,(e=>o===e[d]),{children:m}):null;if(c){const{item:o}=c,n=s[he(t,o)],a=n?n.level:0;let d=o[f],u=o[m];e.isArray(d)||(d=o[f]=[]),e.isArray(u)||(u=o[f]=[]),d[g](l),u[g](l);const p={row:l,rowid:r,seq:-1,index:-1,_index:-1,$index:-1,items:d,parent:o,level:a+1};i[r]=p,s[r]=p}else{a[g](l),n[g](l);const e={row:l,rowid:r,seq:-1,index:-1,_index:-1,$index:-1,items:n,parent:null,level:0};i[r]=e,s[r]=e}}))}const x=(a,i,s)=>{const{treeConfig:d}=l,{mergeList:p,editStore:m}=n,{tableFullTreeData:f,afterFullData:g,tableFullData:h,fullDataRowIdData:v,fullAllDataRowIdData:x}=r,w=u.value,{transform:C,rowField:y,mapChildrenField:E}=w,T=w.children||w.childrenField;e.isArray(a)||(a=[a]);const O=o(t.defineField(a.map((e=>Object.assign(d&&C?{[E]:[],[T]:[]}:{},e)))));if(e.eqNull(i))d&&C?b(O,!1):(g.unshift(...O),h.unshift(...O),p.forEach((e=>{const{row:t}=e;t>0&&(e.row=t+O.length)})));else if(-1===i)d&&C?b(O,!0):(g.push(...O),h.push(...O),p.forEach((e=>{const{row:t,rowspan:l}=e;t+l>g.length&&(e.rowspan=l+O.length)})));else if(d&&C){const l=e.findTree(f,(e=>i[y]===e[y]),{children:E});if(l){const{parent:o}=l,n=o?o[E]:f,r=x[he(t,o)],a=r?r.level:0;if(O.forEach(((e,r)=>{const i=he(t,e);o&&(e[w.parentField]=o[y]);let c=l.index+r;s&&(c+=1),n.splice(c,0,e);const d={row:e,rowid:i,seq:-1,index:-1,_index:-1,$index:-1,items:n,parent:o,level:a+1};v[i]=d,x[i]=d})),o){const t=e.findTree(f,(e=>i[y]===e[y]),{children:T});if(t){const e=t.items;let l=t.index;s&&(l+=1),e.splice(l,0,...O)}}}else b(O,!0)}else{if(d)throw new Error(S("vxe.error.noTree",["insert"]));let l=-1;if(e.isNumber(i)?i<g.length&&(l=i):l=t.findRowIndexOf(g,i),s&&(l=Math.min(g.length,l+1)),-1===l)throw new Error(R("vxe.error.unableInsert"));g.splice(l,0,...O),h.splice(t.findRowIndexOf(h,i),0,...O),p.forEach((e=>{const{row:t,rowspan:o}=e;t>l?e.row=t+O.length:t+o>l&&(e.rowspan=o+O.length)}))}const{insertMaps:k}=m;return O.forEach((e=>{const l=he(t,e);k[l]=e})),t.cacheRowMap(),t.updateScrollYStatus(),t.handleTableData(d&&C),d&&C||t.updateAfterDataIndex(),t.updateFooter(),t.checkSelectionStatus(),n.scrollYLoad&&t.updateScrollYSpace(),c().then((()=>(t.updateCellAreas(),t.recalculate()))).then((()=>({row:O.length?O[O.length-1]:null,rows:O})))};return p={insert:e=>x(e,null),insertAt:(e,t)=>x(e,t),insertNextAt:(e,t)=>x(e,t,!0),remove(o){const{treeConfig:a}=l,{mergeList:i,editStore:s,selectCheckboxMaps:m}=n,{tableFullTreeData:f,afterFullData:g,tableFullData:h}=r,v=d.value,b=u.value,{transform:x,mapChildrenField:w}=b,C=b.children||b.childrenField,{actived:y,removeMaps:E,insertMaps:S}=s,{checkField:T}=v;let O=[];if(o?e.isArray(o)||(o=[o]):o=h,o.forEach((e=>{if(!t.isInsertByRow(e)){const l=he(t,e);E[l]=e}})),!T){const e=Object.assign({},m);o.forEach((l=>{const o=he(t,l);e[o]&&delete e[o]})),n.selectCheckboxMaps=e}return h===o?(o=O=h.slice(0),r.tableFullData=[],r.afterFullData=[],t.clearMergeCells()):a&&x?o.forEach((l=>{const o=he(t,l),n=e.findTree(f,(e=>o===he(t,e)),{children:w});if(n){const e=n.items.splice(n.index,1);O.push(e[0])}const r=e.findTree(f,(e=>o===he(t,e)),{children:C});r&&r.items.splice(r.index,1);const a=t.findRowIndexOf(g,l);a>-1&&g.splice(a,1)})):o.forEach((e=>{const l=t.findRowIndexOf(h,e);if(l>-1){const e=h.splice(l,1);O.push(e[0])}const o=t.findRowIndexOf(g,e);o>-1&&(i.forEach((e=>{const{row:t,rowspan:l}=e;t>o?e.row=t-1:t+l>o&&(e.rowspan=l-1)})),g.splice(o,1))})),y.row&&t.findRowIndexOf(o,y.row)>-1&&p.clearEdit(),o.forEach((e=>{const l=he(t,e);S[l]&&delete S[l]})),t.updateFooter(),t.cacheRowMap(),t.handleTableData(a&&x),a&&x||t.updateAfterDataIndex(),t.checkSelectionStatus(),n.scrollYLoad&&t.updateScrollYSpace(),c().then((()=>(t.updateCellAreas(),t.recalculate()))).then((()=>({row:O.length?O[O.length-1]:null,rows:O})))},removeCheckboxRow:()=>p.remove(t.getCheckboxRecords()).then((e=>(t.clearCheckboxRow(),e))),removeRadioRow(){const e=t.getRadioRecord();return p.remove(e||[]).then((e=>(t.clearRadioRow(),e)))},removeCurrentRow(){const e=t.getCurrentRecord();return p.remove(e||[]).then((e=>(t.clearCurrentRow(),e)))},getRecordset:()=>({insertRecords:p.getInsertRecords(),removeRecords:p.getRemoveRecords(),updateRecords:p.getUpdateRecords(),pendingRecords:t.getPendingRecords()}),getInsertRecords(){const{editStore:t}=n,{fullAllDataRowIdData:l}=r,{insertMaps:o}=t,a=[];return e.each(o,((e,t)=>{l[t]&&a.push(e)})),a},getRemoveRecords(){const{editStore:t}=n,{removeMaps:l}=t,o=[];return e.each(l,(e=>{o.push(e)})),o},getUpdateRecords(){const{keepSource:o,treeConfig:n}=l,{tableFullData:a}=r,i=u.value;return o?(v(),n?e.filterTree(a,(e=>t.isUpdateByRow(e)),i):a.filter((e=>t.isUpdateByRow(e)))):[]},getActiveRecord(){return this.getEditRecord()},getEditRecord(){const{editStore:e}=n,{afterFullData:l}=r,o=a.value,{args:i,row:s}=e.actived;return i&&t.findRowIndexOf(l,s)>-1&&o.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},i):null},getSelectedCell(){const{editStore:e}=n,{args:t,column:l}=e.selected;return t&&l?Object.assign({},t):null},clearActived(e){return this.clearEdit(e)},clearEdit(e){const{editStore:l}=n,{actived:o,focused:r}=l,{row:a,column:i}=o;return(a||i)&&(v(),o.args=null,o.row=null,o.column=null,t.updateFooter(),t.dispatchEvent("edit-closed",{row:a,rowIndex:t.getRowIndex(a),$rowIndex:t.getVMRowIndex(a),column:i,columnIndex:t.getColumnIndex(i),$columnIndex:t.getVMColumnIndex(i)},e||null)),"obsolete"===E.cellVaildMode&&t.clearValidate?t.clearValidate():(r.row=null,r.column=null,c())},clearSelected(){const{editStore:e}=n,{selected:t}=e;return t.row=null,t.column=null,h(),c()},isActiveByRow(e){return this.isEditByRow(e)},isEditByRow(e){const{editStore:t}=n;return t.actived.row===e},setActiveRow:e=>p.setEditRow(e),setEditRow(l,o){const{visibleColumn:n}=r;let a=e.find(n,(e=>I(e.editRender)));return o&&(a=e.isString(o)?t.getColumnByField(o):o),t.setEditCell(l,a)},setActiveCell:(e,t)=>p.setEditCell(e,t),setEditCell(o,n){const{editConfig:a}=l,i=e.isString(n)?t.getColumnByField(n):n;return o&&i&&I(a)&&I(i.editRender)?t.scrollToRow(o,i).then((()=>{const e=t.getCell(o,i);return e&&(m.handleActived({row:o,rowIndex:t.getRowIndex(o),column:i,columnIndex:t.getColumnIndex(i),cell:e,$table:t}),r._lastCallTime=Date.now()),c()})):c()},setSelectCell(l,o){const{tableData:r}=n,a=s.value,i=e.isString(o)?t.getColumnByField(o):o;if(l&&i&&"manual"!==a.trigger){const e=t.findRowIndexOf(r,l);if(e>-1&&i){const o=t.getCell(l,i),n={row:l,rowIndex:e,column:i,columnIndex:t.getColumnIndex(i),cell:o};t.handleSelected(n,{})}}return c()}},m={handleActived(e,o){const{editConfig:r,mouseConfig:a}=l,{editStore:i,tableColumn:d}=n,u=s.value,{mode:g}=u,{actived:h,focused:v}=i,{row:b,column:x}=e,{editRender:w}=x,C=e.cell||t.getCell(b,x),y=u.beforeEditMethod||u.activeMethod;if(e.cell=C,C&&I(r)&&I(w)&&!t.hasPendingByRow(b)){if(h.row!==b||"cell"===g&&h.column!==x){let l="edit-disabled";if(!y||y(Object.assign(Object.assign({},e),{$table:t,$grid:t.xegrid}))){a&&(p.clearSelected(),t.clearCellAreas&&(t.clearCellAreas(),t.clearCopyCellArea())),t.closeTooltip(),h.column&&p.clearEdit(o),l="edit-activated",x.renderHeight=C.offsetHeight,h.args=e,h.row=b,h.column=x,"row"===g?d.forEach((e=>f(b,e))):f(b,x);const n=u.afterEditMethod;c((()=>{m.handleFocus(e,o),n&&n(Object.assign(Object.assign({},e),{$table:t,$grid:t.xegrid}))}))}t.dispatchEvent(l,{row:b,rowIndex:t.getRowIndex(b),$rowIndex:t.getVMRowIndex(b),column:x,columnIndex:t.getColumnIndex(x),$columnIndex:t.getVMColumnIndex(x)},o),"edit-activated"===l&&t.dispatchEvent("edit-actived",{row:b,rowIndex:t.getRowIndex(b),$rowIndex:t.getVMRowIndex(b),column:x,columnIndex:t.getColumnIndex(x),$columnIndex:t.getVMColumnIndex(x)},o)}else{const{column:l}=h;if(a&&(p.clearSelected(),t.clearCellAreas&&(t.clearCellAreas(),t.clearCopyCellArea())),l!==x){const{model:e}=l;e.update&&Ee(b,l,e.value),t.clearValidate&&t.clearValidate(b,x)}x.renderHeight=C.offsetHeight,h.args=e,h.column=x,setTimeout((()=>{m.handleFocus(e,o)}))}v.column=null,v.row=null,t.focus()}return c()},handleFocus(l){const{row:o,column:n,cell:r}=l,{editRender:a}=n;if(I(a)){const i=Ot.get(a.name);let s,{autofocus:c,autoselect:d}=a;if(!c&&i&&(c=i.autofocus),!d&&i&&(d=i.autoselect),e.isFunction(c)?s=c.call(this,l):c&&(s=r.querySelector(c),s&&s.focus()),s){if(d)s.select();else if(H.msie){const e=s.createTextRange();e.collapse(!1),e.select()}}else t.scrollToRow(o,n)}},handleSelected(e,o){const{mouseConfig:r}=l,{editStore:a}=n,d=i.value,u=s.value,{actived:f,selected:g}=a,{row:h,column:v}=e,b=r&&d.selected;return!b||g.row===h&&g.column===v||(f.row!==h||"cell"===u.mode&&f.column!==v)&&(p.clearEdit(o),p.clearSelected(),t.clearCellAreas&&(t.clearCellAreas(),t.clearCopyCellArea()),g.args=e,g.row=h,g.column=v,b&&m.addCellSelectedClass(),t.focus(),o&&t.dispatchEvent("cell-selected",e,o)),c()},addCellSelectedClass(){const{editStore:e}=n,{selected:l}=e,{row:o,column:r}=l;if(h(),o&&r){const e=t.getCell(o,r);e&&K(e,"col--selected")}}},Object.assign(Object.assign({},p),m)},setupGrid:e=>e.extendTableMethods(Ml)},Dl={install(){Xt.hooks.add("$tableEdit",Il)}},Fl=Dl;function Nl(e){const t=i("xesize",null),l=s((()=>e.size||(t?t.value:null)));return f("xesize",l),l}const Ll=a({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>E.button.size||E.size},name:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:()=>E.button.transfer}},emits:["click","mouseenter","mouseleave","dropdown-click"],setup(t,l){const{slots:r,emit:a}=l,d=e.uniqueId(),u=Nl(t),f=o({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),v={showTime:null},b=p(),x=p(),w=p(),C={refElem:b},y={xID:d,props:t,context:l,reactData:f,internalData:v,getRefMaps:()=>C},S=i("$xebuttongroup",null);let T={};const O=s((()=>{const{type:e}=t;return!!e&&["submit","reset","button"].indexOf(e)>-1})),R=s((()=>{const{type:e,mode:l}=t;return"text"===l||"text"===e||S&&"text"===S.props.mode?"text":"button"})),k=s((()=>{const{status:e}=t;return e||(S?S.props.status:"")})),$=s((()=>{const{round:e}=t;return e||!!S&&S.props.round})),M=s((()=>{const{circle:e}=t;return e||!!S&&S.props.circle})),I=()=>c().then((()=>{const{transfer:e,placement:l}=t,{panelIndex:o}=f,n=x.value,r=w.value;if(r&&n){const t=n.offsetHeight,a=n.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,d=5,u={zIndex:o},{top:p,left:m,boundingTop:g,visibleHeight:h,visibleWidth:v}=re(n);let b="bottom";if(e){let e=m+a-s,o=p+t;"top"===l?(b="top",o=p-i):l||(g+t+i+d>h&&(b="top",o=p-i),o<d&&(b="bottom",o=p+t)),e+s+d>v&&(e-=e+s+d-v),e<d&&(e=d),Object.assign(u,{left:`${e}px`,right:"auto",top:`${o}px`,minWidth:`${a}px`})}else"top"===l?(b="top",u.bottom=`${t}px`):l||g+t+i>h&&g-t-i>d&&(b="top",u.bottom=`${t}px`);return f.panelStyle=u,f.panelPlacement=b,c()}})),D=e=>{S?S.handleClick({name:t.name},e):T.dispatchEvent("click",{$event:e},e)},F=e=>{0===e.button&&e.stopPropagation()},A=e=>{const t=e.currentTarget,l=w.value,{flag:o,targetElem:n}=oe(e,t,"vxe-button");o&&(l&&(l.dataset.active="N"),f.showPanel=!1,setTimeout((()=>{l&&"Y"===l.dataset.active||(f.animatVisible=!1)}),350),T.dispatchEvent("dropdown-click",{name:n.getAttribute("name"),$event:e},e))},V=()=>{const e=w.value;e&&(e.dataset.active="Y",f.animatVisible=!0,setTimeout((()=>{"Y"===e.dataset.active&&(f.showPanel=!0,f.panelIndex<L()&&(f.panelIndex=N()),I(),setTimeout((()=>{f.showPanel&&I()}),50))}),20))},j=e=>{const t=w.value;t&&(t.dataset.active="Y",f.inited||(f.inited=!0),v.showTime=setTimeout((()=>{"Y"===t.dataset.active?V():f.animatVisible=!1}),250)),_(e)},B=e=>{z(),H(e)},_=e=>{a("mouseenter",{$event:e})},H=e=>{a("mouseleave",{$event:e})},z=()=>{const e=w.value;clearTimeout(v.showTime),e?(e.dataset.active="N",setTimeout((()=>{"Y"!==e.dataset.active&&(f.showPanel=!1,setTimeout((()=>{"Y"!==e.dataset.active&&(f.animatVisible=!1)}),350))}),100)):(f.animatVisible=!1,f.showPanel=!1)},W=()=>{z()},q=()=>{const{content:e,icon:l,loading:o}=t,a=[];return o?a.push(n("i",{class:["vxe-button--loading-icon",E.icon.BUTTON_LOADING]})):r.icon?a.push(n("span",{class:"vxe-button--custom-icon"},r.icon({}))):l&&a.push(n("i",{class:["vxe-button--icon",l]})),r.default?a.push(n("span",{class:"vxe-button--content"},r.default({}))):e&&a.push(n("span",{class:"vxe-button--content"},P(e))),a};T={dispatchEvent(e,t,l){a(e,Object.assign({$button:y,$event:l},t))},focus:()=>(x.value.focus(),c()),blur:()=>(x.value.blur(),c())},Object.assign(y,T),g((()=>{Tl.on(y,"mousewheel",(e=>{const t=w.value;f.showPanel&&!oe(e,t).flag&&z()}))})),h((()=>{Tl.off(y,"mousewheel")}));return y.renderVN=()=>{const{className:l,popupClassName:o,transfer:a,title:i,type:s,destroyOnClose:c,name:d,disabled:p,loading:g}=t,{inited:h,showPanel:v}=f,C=O.value,S=R.value,T=k.value,I=$.value,N=M.value,L=u.value;return r.dropdowns?n("div",{ref:b,class:["vxe-button--dropdown",l?e.isFunction(l)?l({$button:y}):l:"",{[`size--${L}`]:L,"is--active":v}]},[n("button",{ref:x,class:["vxe-button",`type--${S}`,{[`size--${L}`]:L,[`theme--${T}`]:T,"is--round":I,"is--circle":N,"is--disabled":p||g,"is--loading":g}],title:i,name:d,type:C?s:"button",disabled:p||g,onMouseenter:j,onMouseleave:B,onClick:D},q().concat([n("i",{class:`vxe-button--dropdown-arrow ${E.icon.BUTTON_DROPDOWN}`})])),n(m,{to:"body",disabled:!a||!h},[n("div",{ref:w,class:["vxe-button--dropdown-panel",o?e.isFunction(o)?o({$button:y}):o:"",{[`size--${L}`]:L,"animat--leave":f.animatVisible,"animat--enter":v}],placement:f.panelPlacement,style:f.panelStyle},h?[n("div",{class:"vxe-button--dropdown-wrapper",onMousedown:F,onClick:A,onMouseenter:V,onMouseleave:W},c&&!v?[]:r.dropdowns({}))]:[])])]):n("button",{ref:x,class:["vxe-button",`type--${S}`,l?e.isFunction(l)?l({$button:y}):l:"",{[`size--${L}`]:L,[`theme--${T}`]:T,"is--round":I,"is--circle":N,"is--disabled":p||g,"is--loading":g}],title:i,name:d,type:C?s:"button",disabled:p||g,onClick:D,onMouseenter:_,onMouseleave:H},q())},y},render(){return this.renderVN()}}),Al=a({name:"VxeLoading",props:{modelValue:Boolean,icon:String,text:String},setup(e,{slots:t}){const l=s((()=>e.icon||E.icon.LOADING)),o=s((()=>{const t=E.loadingText;return e.text||(null===t?t:E.i18n("vxe.loading.text"))}));return()=>{const r=l.value,a=o.value;return n("div",{class:["vxe-loading",{"is--visible":e.modelValue}]},t.default?[n("div",{class:"vxe-loading--wrapper"},t.default({}))]:[n("div",{class:"vxe-loading--chunk"},[r?n("i",{class:r}):n("div",{class:"vxe-loading--spinner"}),a?n("div",{class:"vxe-loading--text"},`${a}`):null])])}}}),Pl=Object.assign(Al,{install(e){e.component(Al.name,Al)}}),Vl=[],jl=[],Bl=a({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>E.modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>E.modal.duration},message:[Number,String],content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>E.modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>E.modal.showConfirmButton},confirmButtonText:{type:String,default:()=>E.modal.confirmButtonText},lockView:{type:Boolean,default:()=>E.modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>E.modal.mask},maskClosable:{type:Boolean,default:()=>E.modal.maskClosable},escClosable:{type:Boolean,default:()=>E.modal.escClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>E.modal.showHeader},showFooter:{type:Boolean,default:()=>E.modal.showFooter},showZoom:Boolean,showClose:{type:Boolean,default:()=>E.modal.showClose},dblclickZoom:{type:Boolean,default:()=>E.modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>E.modal.minWidth},minHeight:{type:[Number,String],default:()=>E.modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>E.modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>E.modal.draggable},remember:{type:Boolean,default:()=>E.modal.remember},destroyOnClose:{type:Boolean,default:()=>E.modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>E.modal.showTitleOverflow},transfer:{type:Boolean,default:()=>E.modal.transfer},storage:{type:Boolean,default:()=>E.modal.storage},storageKey:{type:String,default:()=>E.modal.storageKey},animat:{type:Boolean,default:()=>E.modal.animat},size:{type:String,default:()=>E.modal.size||E.size},beforeHideMethod:{type:Function,default:()=>E.modal.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(t,r){const{slots:a,emit:i}=r,d=e.uniqueId(),u=Nl(t),f=o({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!0}),v=p(),b=p(),x=p(),w=p(),C={refElem:v},y={xID:d,props:t,context:r,reactData:f,getRefMaps:()=>C};let S={};const T=s((()=>"message"===t.type)),O=()=>b.value,k=()=>{const{width:e,height:l}=t,o=O();return o.style.width=`${e?isNaN(e)?e:`${e}px`:""}`,o.style.height=`${l?isNaN(l)?l:`${l}px`:""}`,c()},$=()=>{const{zIndex:e}=t,{modalZindex:l}=f;e?f.modalZindex=e:l<L()&&(f.modalZindex=N())},M=()=>c().then((()=>{const{position:l}=t,o=e.toNumber(t.marginSize),n=O(),r=document.documentElement.clientWidth||document.body.clientWidth,a=document.documentElement.clientHeight||document.body.clientHeight,i="center"===l,{top:s,left:c}=e.isString(l)?{top:l,left:l}:Object.assign({},l),d=i||"center"===s;let u="",p="";p=c&&!(i||"center"===c)?isNaN(c)?c:`${c}px`:`${Math.max(o,r/2-n.offsetWidth/2)}px`,u=s&&!d?isNaN(s)?s:`${s}px`:`${Math.max(o,a/2-n.offsetHeight/2)}px`,n.style.top=u,n.style.left=p})),I=()=>{c((()=>{let t=0;jl.forEach((l=>{const o=l.getBox();t+=e.toNumber(l.props.top),l.reactData.modalTop=t,t+=o.clientHeight}))}))},D=()=>{jl.indexOf(y)>-1&&e.remove(jl,(e=>e===y)),I()},F=l=>{const{remember:o,beforeHideMethod:n}=t,{visible:r}=f,a=T.value,s={type:l};return r&&Promise.resolve(n?n(s):null).then((t=>{e.isError(t)||(a&&D(),f.contentVisible=!1,o||(f.zoomLocat=null),e.remove(Vl,(e=>e===y)),S.dispatchEvent("before-hide",s),setTimeout((()=>{f.visible=!1,i("update:modelValue",!1),S.dispatchEvent("hide",s)}),200))})).catch((e=>e)),c()},A=e=>{const t="close";S.dispatchEvent(t,{type:t},e),F(t)},V=e=>{const t="confirm";S.dispatchEvent(t,{type:t},e),F(t)},j=e=>{const t="cancel";S.dispatchEvent(t,{type:t},e),F(t)},B=t=>{const l=E.version,o=e.toStringJSON(localStorage.getItem(t)||"");return o&&o._v===l?o:{_v:l}},_=()=>{const{id:l,remember:o,storage:n,storageKey:r}=t,{zoomLocat:a}=f;if(l&&o&&n){const t=O(),o=B(r);o[l]=[t.style.left,t.style.top,t.style.width,t.style.height].concat(a?[a.left,a.top,a.width,a.height]:[]).map((t=>t?e.toNumber(t):"")).join(","),localStorage.setItem(r,e.toJSONString(o))}},H=()=>c().then((()=>{if(!f.zoomLocat){const l=Math.max(0,e.toNumber(t.marginSize)),o=O(),{visibleHeight:n,visibleWidth:r}=Z();f.zoomLocat={top:o.offsetTop,left:o.offsetLeft,width:o.offsetWidth+(o.style.width?0:1),height:o.offsetHeight+(o.style.height?0:1)},Object.assign(o.style,{top:`${l}px`,left:`${l}px`,width:r-2*l+"px",height:n-2*l+"px"}),_()}})),z=()=>{const{duration:l,remember:o,showFooter:n}=t,{inited:r,visible:a}=f,s=T.value;return r||(f.inited=!0),a||(o||k(),f.visible=!0,f.contentVisible=!1,$(),Vl.push(y),setTimeout((()=>{f.contentVisible=!0,c((()=>{if(n){const e=x.value,t=w.value,l=e||t;l&&l.focus()}const e={type:""};i("update:modelValue",!0),S.dispatchEvent("show",e)}))}),10),s?(-1===jl.indexOf(y)&&jl.push(y),I(),-1!==l&&setTimeout((()=>F("close")),e.toNumber(l))):c((()=>{const{fullscreen:e}=t,{firstOpen:l}=f;o&&!l||M().then((()=>{setTimeout((()=>M()),20)})),l?(f.firstOpen=!1,(()=>{const{id:e,remember:l,storage:o,storageKey:n}=t;return!!(e&&l&&o&&B(n)[e])})()?(()=>{const{id:e,remember:l,storage:o,storageKey:n}=t;if(e&&l&&o){const t=B(n)[e];if(t){const e=O(),[l,o,n,r,a,i,s,c]=t.split(",");l&&(e.style.left=`${l}px`),o&&(e.style.top=`${o}px`),n&&(e.style.width=`${n}px`),r&&(e.style.height=`${r}px`),a&&i&&(f.zoomLocat={left:a,top:i,width:s,height:c})}}})():e&&c((()=>H()))):e&&c((()=>H()))}))),c()},W=e=>{const l=v.value;if(t.maskClosable&&e.target===l){F("mask")}},q=t=>{if(El(t,il)){const t=e.max(Vl,(e=>e.reactData.modalZindex));t&&setTimeout((()=>{t===y&&t.props.escClosable&&F("exit")}),10)}},U=()=>!!f.zoomLocat,Y=()=>c().then((()=>{const{zoomLocat:e}=f;if(e){const t=O();f.zoomLocat=null,Object.assign(t.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),_()}})),X=()=>f.zoomLocat?Y().then((()=>U())):H().then((()=>U())),G=e=>{const{zoomLocat:t}=f,l={type:t?"revert":"max"};return X().then((()=>{S.dispatchEvent("zoom",l,e)}))},K=()=>{const{modalZindex:e}=f;Vl.some((t=>t.reactData.visible&&t.reactData.modalZindex>e))&&$()},J=l=>{const{remember:o,storage:n}=t,{zoomLocat:r}=f,a=e.toNumber(t.marginSize),s=O();if(!r&&0===l.button&&!oe(l,s,"trigger--btn").flag){l.preventDefault();const e=document.onmousemove,t=document.onmouseup,r=l.clientX-s.offsetLeft,d=l.clientY-s.offsetTop,{visibleHeight:u,visibleWidth:p}=Z();document.onmousemove=e=>{e.preventDefault();const t=s.offsetWidth,l=s.offsetHeight,o=a,n=p-t-a-1,c=a,m=u-l-a-1;let f=e.clientX-r,g=e.clientY-d;f>n&&(f=n),f<o&&(f=o),g>m&&(g=m),g<c&&(g=c),s.style.left=`${f}px`,s.style.top=`${g}px`,s.className=s.className.replace(/\s?is--drag/,"")+" is--drag",i("move",{type:"move",$event:e})},document.onmouseup=()=>{document.onmousemove=e,document.onmouseup=t,o&&n&&c((()=>{_()})),setTimeout((()=>{s.className=s.className.replace(/\s?is--drag/,"")}),50)}}},Q=l=>{l.preventDefault();const{remember:o,storage:n}=t,{visibleHeight:r,visibleWidth:a}=Z(),i=e.toNumber(t.marginSize),s=l.target.getAttribute("type"),c=e.toNumber(t.minWidth),d=e.toNumber(t.minHeight),u=a,p=r,m=O(),g=document.onmousemove,h=document.onmouseup,v=m.clientWidth,b=m.clientHeight,x=l.clientX,w=l.clientY,C=m.offsetTop,y=m.offsetLeft,E={type:"resize"};document.onmousemove=e=>{let t,l,f,g;switch(e.preventDefault(),s){case"wl":t=x-e.clientX,f=t+v,y-t>i&&f>c&&(m.style.width=`${f<u?f:u}px`,m.style.left=y-t+"px");break;case"swst":t=x-e.clientX,l=w-e.clientY,f=t+v,g=l+b,y-t>i&&f>c&&(m.style.width=`${f<u?f:u}px`,m.style.left=y-t+"px"),C-l>i&&g>d&&(m.style.height=`${g<p?g:p}px`,m.style.top=C-l+"px");break;case"swlb":t=x-e.clientX,l=e.clientY-w,f=t+v,g=l+b,y-t>i&&f>c&&(m.style.width=`${f<u?f:u}px`,m.style.left=y-t+"px"),C+g+i<r&&g>d&&(m.style.height=`${g<p?g:p}px`);break;case"st":l=w-e.clientY,g=b+l,C-l>i&&g>d&&(m.style.height=`${g<p?g:p}px`,m.style.top=C-l+"px");break;case"wr":t=e.clientX-x,f=t+v,y+f+i<a&&f>c&&(m.style.width=`${f<u?f:u}px`);break;case"sest":t=e.clientX-x,l=w-e.clientY,f=t+v,g=l+b,y+f+i<a&&f>c&&(m.style.width=`${f<u?f:u}px`),C-l>i&&g>d&&(m.style.height=`${g<p?g:p}px`,m.style.top=C-l+"px");break;case"selb":t=e.clientX-x,l=e.clientY-w,f=t+v,g=l+b,y+f+i<a&&f>c&&(m.style.width=`${f<u?f:u}px`),C+g+i<r&&g>d&&(m.style.height=`${g<p?g:p}px`);break;case"sb":l=e.clientY-w,g=l+b,C+g+i<r&&g>d&&(m.style.height=`${g<p?g:p}px`)}m.className=m.className.replace(/\s?is--drag/,"")+" is--drag",o&&n&&_(),S.dispatchEvent("resize",E,e)},document.onmouseup=()=>{f.zoomLocat=null,document.onmousemove=g,document.onmouseup=h,setTimeout((()=>{m.className=m.className.replace(/\s?is--drag/,"")}),50)}};S={dispatchEvent(e,t,l){i(e,Object.assign({$modal:y,$event:l},t))},open:z,close:()=>F("close"),getBox:O,getPosition:()=>{if(!T.value){const e=O();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},setPosition:(t,l)=>{if(!T.value){const o=O();e.isNumber(t)&&(o.style.top=`${t}px`),e.isNumber(l)&&(o.style.left=`${l}px`)}return c()},isMaximized:U,zoom:X,maximize:H,revert:Y},Object.assign(y,S);const ee=()=>{const{slots:e={},showZoom:l,draggable:o}=t,r=T.value,i=a.header||e.header,s=[];if(t.showHeader){const e={};o&&(e.onMousedown=J),l&&t.dblclickZoom&&"modal"===t.type&&(e.onDblclick=G),s.push(n("div",Object.assign({class:["vxe-modal--header",{"is--draggable":o,"is--ellipsis":!r&&t.showTitleOverflow}]},e),i?!f.inited||t.destroyOnClose&&!f.visible?[]:De(i({$modal:y})):(()=>{const{slots:e={},showClose:l,showZoom:o,title:r}=t,{zoomLocat:i}=f,s=a.title||e.title,c=a.corner||e.corner,d=[n("div",{class:"vxe-modal--header-title"},s?De(s({$modal:y})):r?P(r):E.i18n("vxe.alert.title"))],u=[];return c&&u.push(n("span",{class:"vxe-modal--corner-wrapper"},De(c({$modal:y})))),o&&u.push(n("i",{class:["vxe-modal--zoom-btn","trigger--btn",i?E.icon.MODAL_ZOOM_OUT:E.icon.MODAL_ZOOM_IN],title:E.i18n("vxe.modal.zoom"+(i?"Out":"In")),onClick:G})),l&&u.push(n("i",{class:["vxe-modal--close-btn","trigger--btn",E.icon.MODAL_CLOSE],title:E.i18n("vxe.modal.close"),onClick:A})),d.push(n("div",{class:"vxe-modal--header-right"},u)),d})()))}return s},te=()=>{const{slots:e={},status:l,message:o}=t,r=t.content||o,i=T.value,s=a.default||e.default,c=[];return l&&c.push(n("div",{class:"vxe-modal--status-wrapper"},[n("i",{class:["vxe-modal--status-icon",t.iconStatus||E.icon[`MODAL_${l}`.toLocaleUpperCase()]]})])),c.push(n("div",{class:"vxe-modal--content"},s?!f.inited||t.destroyOnClose&&!f.visible?[]:De(s({$modal:y})):P(r))),i||c.push(n(Pl,{class:"vxe-modal--loading",modelValue:t.loading})),[n("div",{class:"vxe-modal--body"},c)]},le=()=>{const{slots:l={}}=t,o=T.value,r=a.footer||l.footer,i=[];return t.showFooter&&i.push(n("div",{class:"vxe-modal--footer"},r?!f.inited||t.destroyOnClose&&!f.visible?[]:De(r({$modal:y})):(()=>{const{showCancelButton:l,showConfirmButton:o,type:r}=t,a=[];return(e.isBoolean(l)?l:"confirm"===r)&&a.push(n(Ll,{key:1,ref:w,content:t.cancelButtonText||E.i18n("vxe.button.cancel"),onClick:j})),(e.isBoolean(o)?o:"confirm"===r||"alert"===r)&&a.push(n(Ll,{key:2,ref:x,status:"primary",content:t.confirmButtonText||E.i18n("vxe.button.confirm"),onClick:V})),a})())),!o&&t.resize&&i.push(n("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map((e=>n("span",{class:`${e}-resize`,type:e,onMousedown:Q}))))),i};return y.renderVN=()=>{const{className:e,type:l,animat:o,loading:r,status:a,lockScroll:i,lockView:s,mask:c,resize:d}=t,{inited:p,zoomLocat:g,modalTop:h,contentVisible:x,visible:w}=f,C=u.value;return n(m,{to:"body",disabled:!t.transfer||!p},[n("div",{ref:v,class:["vxe-modal--wrapper",`type--${l}`,e||"",{[`size--${C}`]:C,[`status--${a}`]:a,"is--animat":o,"lock--scroll":i,"lock--view":s,"is--resize":d,"is--mask":c,"is--maximize":g,"is--visible":x,"is--active":w,"is--loading":r}],style:{zIndex:f.modalZindex,top:h?`${h}px`:null},onClick:W},[n("div",{ref:b,class:"vxe-modal--box",onMousedown:K},ee().concat(te(),le()))])])},l((()=>t.width),k),l((()=>t.height),k),l((()=>t.modelValue),(e=>{e?z():F("model")})),g((()=>{c((()=>{t.storage&&!t.id&&R("vxe.error.reqProp",["modal.id"]),t.modelValue&&z(),k()})),t.escClosable&&Tl.on(y,"keydown",q)})),h((()=>{Tl.off(y,"keydown"),D()})),y},render(){return this.renderVN()}});function _l(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function Hl(t){return e.isString(t)?t.replace(/,/g,""):t}function zl(t,l){return/^-/.test(""+t)?e.toFixed(e.ceil(t,l),l):e.toFixed(e.floor(t,l),l)}const Wl=12,ql=a({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>E.input.clearable},readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>e.eqNull(E.input.placeholder)?E.i18n("vxe.base.pleaseInput"):E.input.placeholder},maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>E.input.size||E.size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>E.input.exponential},controls:{type:Boolean,default:()=>E.input.controls},digits:{type:[String,Number],default:()=>E.input.digits},startDate:{type:[String,Number,Date],default:()=>E.input.startDate},endDate:{type:[String,Number,Date],default:()=>E.input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>E.input.startDay},labelFormat:{type:String,default:()=>E.input.labelFormat},valueFormat:{type:String,default:()=>E.input.valueFormat},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>E.input.festivalMethod},disabledMethod:{type:Function,default:()=>E.input.disabledMethod},selectDay:{type:[String,Number],default:()=>E.input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:()=>E.input.transfer}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(t,r){const{slots:a,emit:d}=r,u=i("$xeform",null),f=i("$xeformiteminfo",null),g=e.uniqueId(),v=Nl(t),b=o({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:t.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),x=p(),w=p(),C=p(),y=p(),S={refElem:x,refInput:w},T={xID:g,props:t,context:r,reactData:b,getRefMaps:()=>S};let O={};const R=(l,o)=>{const{type:n}=t;return"time"===n?function(t){if(t){const l=new Date;let o=0,n=0,r=0;if(e.isDate(t))o=t.getHours(),n=t.getMinutes(),r=t.getSeconds();else{const l=(t=e.toValueString(t)).match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);l&&(o=e.toNumber(l[1]),n=e.toNumber(l[3]),r=e.toNumber(l[5]))}return l.setHours(o),l.setMinutes(n),l.setSeconds(r),l}return new Date("")}(l):e.toStringDate(l,o)},k=s((()=>{const{type:e}=t;return"time"===e||"datetime"===e})),$=s((()=>["number","integer","float"].indexOf(t.type)>-1)),M=s((()=>e.getSize(b.inputValue))),I=s((()=>{const l=M.value;return t.maxlength&&l>e.toNumber(t.maxlength)})),D=s((()=>k.value||["date","week","month","quarter","year"].indexOf(t.type)>-1)),F=s((()=>"password"===t.type)),A=s((()=>"search"===t.type)),V=s((()=>e.toInteger(t.digits)||1)),j=s((()=>{const{type:l}=t,o=V.value,n=t.step;return"integer"===l?e.toInteger(n)||1:"float"===l?e.toNumber(n)||1/Math.pow(10,o):e.toNumber(n)||1})),B=s((()=>{const{type:e}=t,l=$.value,o=D.value,n=F.value;return t.clearable&&(n||l||o||"text"===e||"search"===e)})),_=s((()=>t.startDate?e.toStringDate(t.startDate):null)),H=s((()=>t.endDate?e.toStringDate(t.endDate):null)),z=s((()=>["date","week","month","quarter","year"].includes(t.type))),W=s((()=>{const{modelValue:l,multiple:o}=t,n=D.value,r=Y.value;return o&&l&&n?e.toValueString(l).split(",").map((t=>{const l=R(t,r);return e.isValidDate(l)?l:null})):[]})),q=s((()=>{const t=W.value,l=Y.value;return t.map((t=>e.toDateString(t,l)))})),U=s((()=>{const t=W.value,l=ee.value;return t.map((t=>e.toDateString(t,l))).join(", ")})),Y=s((()=>{const{type:e}=t;return"time"===e?"HH:mm:ss":t.valueFormat||("datetime"===e?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),G=s((()=>{const{modelValue:l}=t,o=D.value,n=Y.value;let r=null;if(l&&o){const t=R(l,n);e.isValidDate(t)&&(r=t)}return r})),K=s((()=>{const e=_.value,{selectMonth:t}=b;return!(!t||!e)&&t<=e})),Z=s((()=>{const e=H.value,{selectMonth:t}=b;return!(!t||!e)&&t>=e})),J=s((()=>{const{datetimePanelValue:t}=b;return t?e.toDateString(t,"HH:mm:ss"):""})),Q=s((()=>{const e=G.value,t=k.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),ee=s((()=>D.value?t.labelFormat||E.i18n(`vxe.input.date.labelFormat.${t.type}`):null)),te=s((()=>{const{selectMonth:t,currentDate:l}=b,o=[];if(t&&l){const n=l.getFullYear(),r=t.getFullYear(),a=new Date(r-r%Wl,0,1);for(let t=-4;t<16;t++){const l=e.getWhatYear(a,t,"first"),r=l.getFullYear();o.push({date:l,isCurrent:!0,isPrev:t<0,isNow:n===r,isNext:t>=Wl,year:r})}}return o})),le=s((()=>{if(D.value){const{datePanelType:e,selectMonth:t}=b,l=te.value;let o,n="";return t&&(n=t.getFullYear(),o=t.getMonth()+1),"quarter"===e?E.i18n("vxe.input.date.quarterLabel",[n]):"month"===e?E.i18n("vxe.input.date.monthLabel",[n]):"year"===e?l.length?`${l[0].year} - ${l[l.length-1].year}`:"":E.i18n("vxe.input.date.dayLabel",[n,o?E.i18n(`vxe.input.date.m${o}`):"-"])}return""})),ne=s((()=>{const{startDay:l,startWeek:o}=t;return e.toNumber(e.isNumber(l)||e.isString(l)?l:o)})),ae=s((()=>{const e=[];if(D.value){let t=ne.value;e.push(t);for(let l=0;l<6;l++)t>=6?t=0:t++,e.push(t)}return e})),ie=s((()=>{if(D.value){return ae.value.map((e=>({value:e,label:E.i18n(`vxe.input.date.weeks.w${e}`)})))}return[]})),se=s((()=>{if(D.value){const e=ie.value;return[{label:E.i18n("vxe.input.date.weeks.w")}].concat(e)}return[]})),ce=s((()=>{const t=te.value;return e.chunk(t,4)})),de=s((()=>{const{selectMonth:t,currentDate:l}=b,o=[];if(t&&l){const n=l.getFullYear(),r=_l(l),a=e.getWhatYear(t,0,"first"),i=a.getFullYear();for(let t=-2;t<6;t++){const l=e.getWhatQuarter(a,t),s=l.getFullYear(),c=_l(l),d=s<i;o.push({date:l,isPrev:d,isCurrent:s===i,isNow:s===n&&c===r,isNext:!d&&s>i,quarter:c})}}return o})),ue=s((()=>{const t=de.value;return e.chunk(t,2)})),pe=s((()=>{const{selectMonth:t,currentDate:l}=b,o=[];if(t&&l){const n=l.getFullYear(),r=l.getMonth(),a=e.getWhatYear(t,0,"first").getFullYear();for(let l=-4;l<16;l++){const i=e.getWhatYear(t,0,l),s=i.getFullYear(),c=i.getMonth(),d=s<a;o.push({date:i,isPrev:d,isCurrent:s===a,isNow:s===n&&c===r,isNext:!d&&s>a,month:c})}}return o})),me=s((()=>{const t=pe.value;return e.chunk(t,4)})),fe=s((()=>{const{selectMonth:t,currentDate:l}=b,o=[];if(t&&l){const n=Q.value,r=ae.value,a=l.getFullYear(),i=l.getMonth(),s=l.getDate(),c=t.getFullYear(),d=t.getMonth(),u=t.getDay(),p=-r.indexOf(u),m=new Date(e.getWhatDay(t,p).getTime()+n);for(let l=0;l<42;l++){const n=e.getWhatDay(m,l),r=n.getFullYear(),u=n.getMonth(),p=n.getDate(),f=n<t;o.push({date:n,isPrev:f,isCurrent:r===c&&u===d,isNow:r===a&&u===i&&p===s,isNext:!f&&d!==u,label:p})}}return o})),ge=s((()=>{const t=fe.value;return e.chunk(t,7)})),he=s((()=>{const t=ge.value,l=ne.value;return t.map((t=>{const o=t[0];return[{date:o.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:e.getYearWeek(o.date,l)}].concat(t)}))})),ve=s((()=>{const e=[];if(k.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),be=s((()=>{const e=[];if(k.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),xe=s((()=>be.value)),we=s((()=>{const{type:e,readonly:l,editable:o,multiple:n}=t;return l||n||!o||"week"===e||"quarter"===e})),Ce=s((()=>{const{type:e}=t,{showPwd:l}=b,o=$.value,n=D.value,r=F.value;return n||o||r&&l||"number"===e?"text":e})),ye=s((()=>{const{placeholder:e}=t;return e?P(e):""})),Ee=s((()=>{const{maxlength:l}=t;return $.value&&!e.toNumber(l)?16:l})),Se=s((()=>{const{type:e,immediate:l}=t;return l||!("text"===e||"number"===e||"integer"===e||"float"===e)})),Te=s((()=>{const{type:l}=t,{inputValue:o}=b;return $.value?"integer"===l?e.toInteger(Hl(o)):e.toNumber(Hl(o)):0})),Oe=s((()=>{const{min:l}=t,{inputValue:o}=b,n=$.value,r=Te.value;return!(!o&&0!==o||!n||null===l)&&r<=e.toNumber(l)})),Re=s((()=>{const{max:l}=t,{inputValue:o}=b,n=$.value,r=Te.value;return!(!o&&0!==o||!n||null===l)&&r>=e.toNumber(l)})),ke=l=>{const{type:o,exponential:n}=t,r=Ee.value,a=V.value,i="float"===o?zl(l,a):e.toValueString(l);return!n||l!==i&&e.toValueString(l).toLowerCase()!==e.toNumber(i).toExponential()?i.slice(0,r):l},$e=e=>{const{inputValue:t}=b;O.dispatchEvent(e.type,{value:t},e)},Me=(l,o)=>{b.inputValue=l,d("update:modelValue",l),O.dispatchEvent("input",{value:l},o),e.toValueString(t.modelValue)!==l&&(O.dispatchEvent("change",{value:l},o),u&&f&&u.triggerItemEvent(o,f.itemConfig.field,l))},Ie=(e,t)=>{const l=D.value,o=Se.value;b.inputValue=e,l||(o?Me(e,t):O.dispatchEvent("input",{value:e},t))},De=e=>{const t=e.target.value;Ie(t,e)},Fe=e=>{Se.value||$e(e)},Ne=e=>{b.isActivated=!0;D.value&&Rt(e),$e(e)},Le=e=>{const{disabled:l}=t;if(!l){const{inputValue:t}=b;O.dispatchEvent("prefix-click",{value:t},e)}};let Ae;const Pe=()=>new Promise((e=>{b.visiblePanel=!1,Ae=window.setTimeout((()=>{b.animatVisible=!1,e()}),350)})),Ve=(e,l)=>{const{type:o}=t,n=$.value;D.value&&Pe(),(n||["text","search","password"].indexOf(o)>-1)&&focus(),O.dispatchEvent("clear",{value:l},e)},je=e=>{const{disabled:l}=t;if(!l)if(X(e.currentTarget,"is--clear"))Me("",e),Ve(e,"");else{const{inputValue:t}=b;O.dispatchEvent("suffix-click",{value:t},e)}},Be=l=>{const{type:o}=t,{valueFormat:n}=t,r=ee.value,a=ne.value;let i=null,s="";if(l&&(i=R(l,n)),e.isValidDate(i)){if(s=e.toDateString(i,r,{firstDay:a}),r&&"week"===o){if(e.getWhatWeek(i,0,a,a).getFullYear()<i.getFullYear()){const e=r.indexOf("yyyy");if(e>-1){const t=Number(s.substring(e,e+4));t&&!isNaN(t)&&(s=s.replace(`${t}`,""+(t-1)))}}}}else i=null;b.datePanelValue=i,b.datePanelLabel=s},_e=()=>{const e=D.value,{inputValue:l}=b;e&&(Be(l),b.inputValue=t.multiple?U.value:b.datePanelLabel)},He=()=>{const{type:e}=t,{inputValue:l}=b,o=D.value,n=V.value;if(o)_e();else if("float"===e&&l){const e=zl(l,n);l!==e&&Me(e,{type:"init"})}},ze=l=>null===t.max||e.toNumber(l)<=e.toNumber(t.max),We=l=>null===t.min||e.toNumber(l)>=e.toNumber(t.min),qe=t=>{const l=e.getWhatMonth(t,0,"first");e.isEqual(l,b.selectMonth)||(b.selectMonth=l)},Ue=l=>{const{modelValue:o,multiple:n}=t,{datetimePanelValue:r}=b,a=k.value,i=Y.value,s=ne.value;if("week"===t.type){const o=e.toNumber(t.selectDay);l=e.getWhatWeek(l,0,o,s)}else a&&(l.setHours(r.getHours()),l.setMinutes(r.getMinutes()),l.setSeconds(r.getSeconds()));const c=e.toDateString(l,i,{firstDay:s});if(qe(l),n){const t=q.value;if(a){const t=[...W.value],o=[],n=e.findIndexOf(t,(t=>e.isDateSame(l,t,"yyyyMMdd")));-1===n?t.push(l):t.splice(n,1),t.forEach((e=>{e&&(e.setHours(r.getHours()),e.setMinutes(r.getMinutes()),e.setSeconds(r.getSeconds()),o.push(e))})),Me(o.map((t=>e.toDateString(t,i))).join(","),{type:"update"})}else t.some((t=>e.isEqual(t,c)))?Me(t.filter((t=>!e.isEqual(t,c))).join(","),{type:"update"}):Me(t.concat([c]).join(","),{type:"update"})}else e.isEqual(o,c)||Me(c,{type:"update"})},Ye=()=>{const{type:l,min:o,max:n,exponential:r}=t,{inputValue:a,datetimePanelValue:i}=b,s=$.value,c=D.value,d=ee.value;if(!we.value)if(s){if(a){let t="integer"===l?e.toInteger(Hl(a)):e.toNumber(Hl(a));if(We(t)?ze(t)||(t=n):t=o,r){const l=e.toValueString(a).toLowerCase();l===e.toNumber(t).toExponential()&&(t=l)}Me(ke(t),{type:"check"})}}else if(c)if(a){let o=R(a,d);if(e.isValidDate(o))if("time"===l)o=e.toDateString(o,d),a!==o&&Me(o,{type:"check"}),b.inputValue=o;else{let t=!1;const n=ne.value;if("datetime"===l){const l=G.value;a===e.toDateString(l,d)&&a===e.toDateString(o,d)||(t=!0,i.setHours(o.getHours()),i.setMinutes(o.getMinutes()),i.setSeconds(o.getSeconds()))}else t=!0;b.inputValue=e.toDateString(o,d,{firstDay:n}),t&&Ue(o)}else b.inputValue=t.multiple?U.value:b.datePanelLabel}else Me("",{type:"check"})},Xe=e=>{const{inputValue:t}=b;Se.value||Me(t,e),Ye(),b.visiblePanel||(b.isActivated=!1),O.dispatchEvent("blur",{value:t},e)},Ge=e=>{const{readonly:l,disabled:o}=t,{showPwd:n}=b;o||l||(b.showPwd=!n),O.dispatchEvent("toggle-visible",{visible:b.showPwd},e)},Ke=e=>{O.dispatchEvent("search-click",{},e)},Ze=(l,o)=>{const{min:n,max:r,type:a}=t,{inputValue:i}=b,s=j.value,c="integer"===a?e.toInteger(Hl(i)):e.toNumber(Hl(i)),d=l?e.add(c,s):e.subtract(c,s);let u;u=We(d)?ze(d)?d:r:n,Ie(ke(u),o)};let Je;const Qe=e=>{const{readonly:l,disabled:o}=t,n=Oe.value;clearTimeout(Je),o||l||n||Ze(!1,e),O.dispatchEvent("next-number",{},e)},et=e=>{Je=window.setTimeout((()=>{Qe(e),et(e)}),60)},tt=e=>{const{readonly:l,disabled:o}=t,n=Re.value;clearTimeout(Je),o||l||n||Ze(!0,e),O.dispatchEvent("prev-number",{},e)},lt=e=>{const{exponential:l,controls:o}=t;if($.value){const t=e.ctrlKey,n=e.shiftKey,r=e.altKey,a=e.keyCode;t||n||r||!(El(e,pl)||(!l||69!==a)&&a>=65&&a<=90||a>=186&&a<=188||a>=191)||e.preventDefault(),o&&(e=>{const t=El(e,fl),l=El(e,gl);(t||l)&&(e.preventDefault(),t?tt(e):Qe(e))})(e)}$e(e)},ot=e=>{$e(e)},nt=()=>{clearTimeout(Je)},rt=e=>{Je=window.setTimeout((()=>{tt(e),rt(e)}),60)},at=e=>{if(nt(),0===e.button){const t=X(e.currentTarget,"is--prev");t?tt(e):Qe(e),Je=window.setTimeout((()=>{t?rt(e):et(e)}),500)}},it=e=>{if($.value&&t.controls&&b.isActivated){const t=e.deltaY;t>0?Qe(e):t<0&&tt(e),e.preventDefault()}$e(e)},st=(t,l)=>{b.selectMonth=e.getWhatMonth(t,l,"first")},ct=()=>{const t=e.getWhatDay(Date.now(),0,"first");b.currentDate=t,st(t,0)},dt=()=>{let{datePanelType:e}=b;e="month"===e||"quarter"===e?"year":"month",b.datePanelType=e},ut=l=>{const{type:o}=t,{datePanelType:n,selectMonth:r}=b;K.value||(b.selectMonth="year"===o?e.getWhatYear(r,-12,"first"):"month"===o||"quarter"===o?"year"===n?e.getWhatYear(r,-12,"first"):e.getWhatYear(r,-1,"first"):"year"===n?e.getWhatYear(r,-12,"first"):"month"===n?e.getWhatYear(r,-1,"first"):e.getWhatMonth(r,-1,"first"),O.dispatchEvent("date-prev",{type:o},l))},pt=e=>{ct(),t.multiple||(Ue(b.currentDate),Pe()),O.dispatchEvent("date-today",{type:t.type},e)},mt=l=>{const{type:o}=t,{datePanelType:n,selectMonth:r}=b;Z.value||(b.selectMonth="year"===o?e.getWhatYear(r,Wl,"first"):"month"===o||"quarter"===o?"year"===n?e.getWhatYear(r,Wl,"first"):e.getWhatYear(r,1,"first"):"year"===n?e.getWhatYear(r,Wl,"first"):"month"===n?e.getWhatYear(r,1,"first"):e.getWhatMonth(r,1,"first"),O.dispatchEvent("date-next",{type:o},l))},ft=e=>{const{disabledMethod:l}=t,{datePanelType:o}=b;return l&&l({type:o,viewType:o,date:e.date,$input:T})},gt=e=>{const{type:l,multiple:o}=t,{datePanelType:n}=b;"month"===l?"year"===n?(b.datePanelType="month",qe(e)):(Ue(e),o||Pe()):"year"===l?(Ue(e),o||Pe()):"quarter"===l?"year"===n?(b.datePanelType="quarter",qe(e)):(Ue(e),o||Pe()):"month"===n?(b.datePanelType="week"===l?l:"day",qe(e)):"year"===n?(b.datePanelType="month",qe(e)):(Ue(e),"datetime"===l||o||Pe())},ht=e=>{ft(e)||gt(e.date)},vt=t=>{if(!ft({date:t})){fe.value.some((l=>e.isDateSame(l.date,t,"yyyyMMdd")))||qe(t),Be(t)}},bt=t=>{if(!ft({date:t})){te.value.some((l=>e.isDateSame(l.date,t,"yyyy")))||qe(t),Be(t)}},xt=t=>{if(!ft({date:t})){de.value.some((l=>e.isDateSame(l.date,t,"yyyyq")))||qe(t),Be(t)}},wt=t=>{if(!ft({date:t})){pe.value.some((l=>e.isDateSame(l.date,t,"yyyyMM")))||qe(t),Be(t)}},Ct=e=>{if(!ft(e)){const{datePanelType:t}=b;"month"===t?wt(e.date):"quarter"===t?xt(e.date):"year"===t?bt(e.date):vt(e.date)}},yt=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},Et=e=>{b.datetimePanelValue=new Date(b.datetimePanelValue.getTime()),yt(e.currentTarget)},St=()=>{const{multiple:l}=t,{datetimePanelValue:o}=b,n=G.value,r=k.value;if(r){const t=Y.value;if(l){const l=q.value;if(r){const l=[...W.value],n=[];l.forEach((e=>{e&&(e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds()),n.push(e))})),Me(n.map((l=>e.toDateString(l,t))).join(","),{type:"update"})}else Me(l.join(","),{type:"update"})}else Ue(n||b.currentDate)}Pe()},Tt=()=>c().then((()=>{const{transfer:e,placement:l}=t,{panelIndex:o}=b,n=w.value,r=C.value;if(n&&r){const t=n.offsetHeight,a=n.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,d=5,u={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=re(n);let h="bottom";if(e){let e=m,o=p+t;"top"===l?(h="top",o=p-i):l||(o+i+d>f&&(h="top",o=p-i),o<d&&(h="bottom",o=p+t)),e+s+d>g&&(e-=e+s+d-g),e<d&&(e=d),Object.assign(u,{left:`${e}px`,top:`${o}px`,minWidth:`${a}px`})}else"top"===l?(h="top",u.bottom=`${t}px`):l||p+t+i>f&&p-t-i>d&&(h="top",u.bottom=`${t}px`);return b.panelStyle=u,b.panelPlacement=h,c()}})),Ot=()=>{const{disabled:l}=t,{visiblePanel:o}=b,n=D.value;return l||o?c():(b.inited||(b.inited=!0),clearTimeout(Ae),b.isActivated=!0,b.animatVisible=!0,n&&(()=>{const{type:l}=t,o=k.value,n=G.value;["year","quarter","month","week"].indexOf(l)>-1?b.datePanelType=l:b.datePanelType="day",b.currentDate=e.getWhatDay(Date.now(),0,"first"),n?(st(n,0),Be(n)):ct(),o&&(b.datetimePanelValue=b.datePanelValue||e.getWhatDay(Date.now(),0,"first"),c((()=>{const t=y.value;e.arrayEach(t.querySelectorAll("li.is--selected"),yt)})))})(),setTimeout((()=>{b.visiblePanel=!0}),10),b.panelIndex<L()&&(b.panelIndex=N()),Tt())},Rt=e=>{const{readonly:l}=t;l||(e.preventDefault(),Ot())},kt=e=>{$e(e)},$t=e=>{const{disabled:l}=t,{visiblePanel:o,isActivated:n}=b,r=D.value,a=x.value,i=C.value;!l&&n&&(b.isActivated=oe(e,a).flag||oe(e,i).flag,b.isActivated||(r?o&&(Pe(),Ye()):Ye()))},Mt=l=>{const{clearable:o,disabled:n}=t,{visiblePanel:r}=b,a=D.value;if(!n){const t=El(l,cl),n=El(l,dl),i=El(l,il),s=El(l,sl),c=El(l,hl),d=El(l,fl),u=El(l,vl),p=El(l,gl),m=El(l,bl),f=El(l,xl),g=c||d||u||p;let h=b.isActivated;t?(h&&Ye(),h=!1,b.isActivated=h):g?a&&h&&(r?(t=>{const{isActivated:l,datePanelValue:o,datePanelType:n}=b;if(l){t.preventDefault();const l=El(t,hl),r=El(t,fl),a=El(t,vl),i=El(t,gl);if("year"===n){let t=e.getWhatYear(o||Date.now(),0,"first");l?t=e.getWhatYear(t,-1):r?t=e.getWhatYear(t,-4):a?t=e.getWhatYear(t,1):i&&(t=e.getWhatYear(t,4)),bt(t)}else if("quarter"===n){let t=e.getWhatQuarter(o||Date.now(),0,"first");l?t=e.getWhatQuarter(t,-1):r?t=e.getWhatQuarter(t,-2):a?t=e.getWhatQuarter(t,1):i&&(t=e.getWhatQuarter(t,2)),xt(t)}else if("month"===n){let t=e.getWhatMonth(o||Date.now(),0,"first");l?t=e.getWhatMonth(t,-1):r?t=e.getWhatMonth(t,-4):a?t=e.getWhatMonth(t,1):i&&(t=e.getWhatMonth(t,4)),wt(t)}else{let t=o||e.getWhatDay(Date.now(),0,"first");const n=ne.value;l?t=e.getWhatDay(t,-1):r?t=e.getWhatWeek(t,-1,n):a?t=e.getWhatDay(t,1):i&&(t=e.getWhatWeek(t,1,n)),vt(t)}}})(l):(d||p)&&Rt(l)):s?a&&(r?b.datePanelValue?gt(b.datePanelValue):Pe():h&&Rt(l)):(m||f)&&a&&h&&(e=>{const{isActivated:t}=b;if(t){const t=El(e,bl);e.preventDefault(),t?ut(e):mt(e)}})(l),t||i?r&&Pe():n&&o&&h&&Ve(l,null)}},It=e=>{const{disabled:l}=t,{visiblePanel:o}=b;if(!l&&o){oe(e,C.value).flag?Tt():(Pe(),Ye())}},Dt=()=>{const{isActivated:e,visiblePanel:t}=b;t?(Pe(),Ye()):e&&Ye()},Ft=(l,o)=>{const{festivalMethod:r}=t;if(r){const{datePanelType:t}=b,a=r({type:t,viewType:t,date:l.date,$input:T}),i=a?e.isString(a)?{label:a}:a:{},s=i.extra?e.isString(i.extra)?{label:i.extra}:i.extra:null,c=[n("span",{class:["vxe-input--date-label",{"is-notice":i.notice}]},s&&s.label?[n("span",o),n("span",{class:["vxe-input--date-label--extra",s.important?"is-important":"",s.className],style:s.style},e.toValueString(s.label))]:o)],d=i.label;if(d){const t=e.toValueString(d).split(",");c.push(n("span",{class:["vxe-input--date-festival",i.important?"is-important":"",i.className],style:i.style},[t.length>1?n("span",{class:["vxe-input--date-festival--overlap",`overlap--${t.length}`]},t.map((e=>n("span",e.substring(0,3))))):n("span",{class:"vxe-input--date-festival--label"},t[0].substring(0,3))]))}return c}return o},Nt=()=>{const{datePanelType:l}=b;switch(l){case"week":return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:r}=b,a=G.value,i=se.value,s=he.value,c=W.value,d="yyyyMMdd";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("thead",[n("tr",i.map((e=>n("th",e.label))))]),n("tbody",s.map((t=>{const o=l?t.some((t=>c.some((l=>e.isDateSame(l,t.date,d))))):t.some((t=>e.isDateSame(a,t.date,d))),i=t.some((t=>e.isDateSame(r,t.date,d)));return n("tr",t.map((e=>n("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":ft(e),"is--selected":o,"is--hover":i},onClick:()=>ht(e),onMouseenter:()=>Ct(e)},Ft(e,e.label)))))})))])]})();case"month":return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:r}=b,a=G.value,i=me.value,s=W.value,c="yyyyMM";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("tbody",i.map((t=>n("tr",t.map((t=>n("td",{class:{"is--prev":t.isPrev,"is--current":t.isCurrent,"is--now":t.isNow,"is--next":t.isNext,"is--disabled":ft(t),"is--selected":l?s.some((l=>e.isDateSame(l,t.date,c))):e.isDateSame(a,t.date,c),"is--hover":e.isDateSame(r,t.date,c)},onClick:()=>ht(t),onMouseenter:()=>Ct(t)},Ft(t,E.i18n(`vxe.input.date.months.m${t.month}`)))))))))])]})();case"quarter":return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:r}=b,a=G.value,i=ue.value,s=W.value,c="yyyyq";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("tbody",i.map((t=>n("tr",t.map((t=>n("td",{class:{"is--prev":t.isPrev,"is--current":t.isCurrent,"is--now":t.isNow,"is--next":t.isNext,"is--disabled":ft(t),"is--selected":l?s.some((l=>e.isDateSame(l,t.date,c))):e.isDateSame(a,t.date,c),"is--hover":e.isDateSame(r,t.date,c)},onClick:()=>ht(t),onMouseenter:()=>Ct(t)},Ft(t,E.i18n(`vxe.input.date.quarters.q${t.quarter}`)))))))))])]})();case"year":return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:r}=b,a=G.value,i=ce.value,s=W.value,c="yyyy";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("tbody",i.map((t=>n("tr",t.map((t=>n("td",{class:{"is--prev":t.isPrev,"is--current":t.isCurrent,"is--now":t.isNow,"is--next":t.isNext,"is--disabled":ft(t),"is--selected":l?s.some((l=>e.isDateSame(l,t.date,c))):e.isDateSame(a,t.date,c),"is--hover":e.isDateSame(r,t.date,c)},onClick:()=>ht(t),onMouseenter:()=>Ct(t)},Ft(t,t.year))))))))])]})()}return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:r}=b,a=G.value,i=ie.value,s=ge.value,c=W.value,d="yyyyMMdd";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("thead",[n("tr",i.map((e=>n("th",e.label))))]),n("tbody",s.map((t=>n("tr",t.map((t=>n("td",{class:{"is--prev":t.isPrev,"is--current":t.isCurrent,"is--now":t.isNow,"is--next":t.isNext,"is--disabled":ft(t),"is--selected":l?c.some((l=>e.isDateSame(l,t.date,d))):e.isDateSame(a,t.date,d),"is--hover":e.isDateSame(r,t.date,d)},onClick:()=>ht(t),onMouseenter:()=>Ct(t)},Ft(t,t.label))))))))])]})()},Lt=()=>{const{multiple:e}=t,{datePanelType:l}=b,o=K.value,r=Z.value,a=le.value;return[n("div",{class:"vxe-input--date-picker-header"},[n("div",{class:"vxe-input--date-picker-type-wrapper"},[n("span","year"===l?{class:"vxe-input--date-picker-label"}:{class:"vxe-input--date-picker-btn",onClick:dt},a)]),n("div",{class:"vxe-input--date-picker-btn-wrapper"},[n("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":o}],onClick:ut},[n("i",{class:"vxe-icon-caret-left"})]),n("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:pt},[n("i",{class:"vxe-icon-dot"})]),n("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":r}],onClick:mt},[n("i",{class:"vxe-icon-caret-right"})]),e&&z.value?n("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[n("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:St},E.i18n("vxe.button.confirm"))]):null])]),n("div",{class:"vxe-input--date-picker-body"},Nt())]},At=()=>{const{datetimePanelValue:e}=b,t=J.value,l=ve.value,o=be.value,r=xe.value;return[n("div",{class:"vxe-input--time-picker-header"},[n("span",{class:"vxe-input--time-picker-title"},t),n("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:St},E.i18n("vxe.button.confirm"))]),n("div",{ref:y,class:"vxe-input--time-picker-body"},[n("ul",{class:"vxe-input--time-picker-hour-list"},l.map(((t,l)=>n("li",{key:l,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>((e,t)=>{b.datetimePanelValue.setHours(t.value),Et(e)})(e,t)},t.label)))),n("ul",{class:"vxe-input--time-picker-minute-list"},o.map(((t,l)=>n("li",{key:l,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>((e,t)=>{b.datetimePanelValue.setMinutes(t.value),Et(e)})(e,t)},t.label)))),n("ul",{class:"vxe-input--time-picker-second-list"},r.map(((t,l)=>n("li",{key:l,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>((e,t)=>{b.datetimePanelValue.setSeconds(t.value),Et(e)})(e,t)},t.label))))])]},Pt=()=>{const{controls:e}=t,l=$.value,o=D.value,r=F.value,a=A.value;let i;return r?i=(()=>{const{showPwd:e}=b;return n("span",{class:"vxe-input--password-suffix",onClick:Ge},[n("i",{class:["vxe-input--password-icon",e?E.icon.INPUT_SHOW_PWD:E.icon.INPUT_PWD]})])})():l?e&&(i=(()=>{const e=Re.value,t=Oe.value;return n("span",{class:"vxe-input--number-suffix"},[n("span",{class:["vxe-input--number-prev is--prev",{"is--disabled":e}],onMousedown:at,onMouseup:nt,onMouseleave:nt},[n("i",{class:["vxe-input--number-prev-icon",E.icon.INPUT_PREV_NUM]})]),n("span",{class:["vxe-input--number-next is--next",{"is--disabled":t}],onMousedown:at,onMouseup:nt,onMouseleave:nt},[n("i",{class:["vxe-input--number-next-icon",E.icon.INPUT_NEXT_NUM]})])])})()):o?i=n("span",{class:"vxe-input--date-picker-suffix",onClick:Rt},[n("i",{class:["vxe-input--date-picker-icon",E.icon.INPUT_DATE]})]):a&&(i=n("span",{class:"vxe-input--search-suffix",onClick:Ke},[n("i",{class:["vxe-input--search-icon",E.icon.INPUT_SEARCH]})])),i?n("span",{class:"vxe-input--extra-suffix"},[i]):null};O={dispatchEvent(e,t,l){d(e,Object.assign({$input:T,$event:l},t))},focus(){const e=w.value;return b.isActivated=!0,e.focus(),c()},blur:()=>(w.value.blur(),b.isActivated=!1,c()),select:()=>(w.value.select(),b.isActivated=!1,c()),showPanel:Ot,hidePanel:Pe,updatePlacement:Tt},Object.assign(T,O),l((()=>t.modelValue),(e=>{b.inputValue=e,_e()})),l((()=>t.type),(()=>{Object.assign(b,{inputValue:t.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),He()})),l(ee,(()=>{D.value&&(Be(b.datePanelValue),b.inputValue=t.multiple?U.value:b.datePanelLabel)})),c((()=>{Tl.on(T,"mousewheel",It),Tl.on(T,"mousedown",$t),Tl.on(T,"keydown",Mt),Tl.on(T,"blur",Dt)})),h((()=>{nt(),Tl.off(T,"mousewheel"),Tl.off(T,"mousedown"),Tl.off(T,"keydown"),Tl.off(T,"blur")})),He();return T.renderVN=()=>{const{className:l,controls:o,type:r,align:i,showWordCount:s,countMethod:c,name:d,disabled:u,readonly:p,autocomplete:f}=t,{inputValue:g,visiblePanel:h,isActivated:y}=b,S=v.value,T=I.value,O=M.value,R=D.value,k=we.value,$=Ee.value,F=Ce.value,N=ye.value,L=[],A=(()=>{const{prefixIcon:e}=t,l=a.prefix,o=[];return l?o.push(n("span",{class:"vxe-input--prefix-icon"},l({}))):e&&o.push(n("i",{class:["vxe-input--prefix-icon",e]})),o.length?n("span",{class:"vxe-input--prefix",onClick:Le},o):null})(),P=(()=>{const{disabled:l,suffixIcon:o}=t,{inputValue:r}=b,i=a.suffix,s=B.value,c=[];return i?c.push(n("span",{class:"vxe-input--suffix-icon"},i({}))):o&&c.push(n("i",{class:["vxe-input--suffix-icon",o]})),s&&c.push(n("i",{class:["vxe-input--clear-icon",E.icon.INPUT_CLEAR]})),c.length?n("span",{class:["vxe-input--suffix",{"is--clear":s&&!l&&!(""===r||e.eqNull(r))}],onClick:je},c):null})();A&&L.push(A),L.push(n("input",{ref:w,class:"vxe-input--inner",value:g,name:d,type:F,placeholder:N,maxlength:$,readonly:k,disabled:u,autocomplete:f,onKeydown:lt,onKeyup:ot,onWheel:it,onClick:kt,onInput:De,onChange:Fe,onFocus:Ne,onBlur:Xe})),P&&L.push(P),L.push(Pt()),R&&L.push((()=>{const{type:e,transfer:l}=t,{inited:o,animatVisible:r,visiblePanel:a,panelPlacement:i,panelStyle:s}=b,c=v.value,d=[];return D.value?("datetime"===e?d.push(n("div",{class:"vxe-input--panel-layout-wrapper"},[n("div",{class:"vxe-input--panel-left-wrapper"},Lt()),n("div",{class:"vxe-input--panel-right-wrapper"},At())])):"time"===e?d.push(n("div",{class:"vxe-input--panel-wrapper"},At())):d.push(n("div",{class:"vxe-input--panel-wrapper"},Lt())),n(m,{to:"body",disabled:!l||!o},[n("div",{ref:C,class:["vxe-table--ignore-clear vxe-input--panel",`type--${e}`,{[`size--${c}`]:c,"is--transfer":l,"animat--leave":r,"animat--enter":a}],placement:i,style:s},d)])):null})());let V=!1;return s&&["text","search"].includes(r)&&(V=!0,L.push(n("span",{class:["vxe-input--count",{"is--error":T}]},c?`${c({value:g})}`:`${O}${$?`/${$}`:""}`))),n("div",{ref:x,class:["vxe-input",`type--${r}`,l,{[`size--${S}`]:S,[`is--${i}`]:i,"is--controls":o,"is--prefix":!!A,"is--suffix":!!P,"is--readonly":p,"is--visivle":h,"is--count":V,"is--disabled":u,"is--active":y}]},L)},T},render(){return this.renderVN()}}),Ul=a({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:()=>E.checkbox.size||E.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:r}=l,a=i("$xeform",null),c=i("$xeformiteminfo",null),d={xID:e.uniqueId(),props:t,context:l};let u={};const p=Nl(t),m=i("$xecheckboxgroup",null),f=s((()=>m?e.includes(m.props.modelValue,t.label):t.modelValue===t.checkedValue)),g=s((()=>{if(t.disabled)return!0;if(m){const{props:e}=m,{computeIsMaximize:t}=m.getComputeMaps(),l=t.value,o=f.value;return e.disabled||l&&!o}return!1})),h=e=>{const{checkedValue:l,uncheckedValue:o}=t;if(!g.value){const n=e.target.checked,i=n?l:o,s={checked:n,value:i,label:t.label};m?m.handleChecked(s,e):(r("update:modelValue",i),u.dispatchEvent("change",s,e),a&&c&&a.triggerItemEvent(e,c.itemConfig.field,i))}};u={dispatchEvent(e,t,l){r(e,Object.assign({$checkbox:d,$event:l},t))}},Object.assign(d,u);return d.renderVN=()=>{const e=p.value,l=g.value,r=f.value,a=t.indeterminate;return n("label",{class:["vxe-checkbox",{[`size--${e}`]:e,"is--indeterminate":a,"is--disabled":l,"is--checked":r}],title:t.title},[n("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:l,checked:r,onChange:h}),n("span",{class:["vxe-checkbox--icon",a?"vxe-icon-checkbox-indeterminate":r?"vxe-icon-checkbox-checked":"vxe-icon-checkbox-unchecked"]}),n("span",{class:"vxe-checkbox--label"},o.default?o.default({}):P(t.content))])},d},render(){return this.renderVN()}});function Yl(e){return!1!==e.visible}const Xl=a({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:{type:String,default:()=>e.eqNull(E.select.placeholder)?E.i18n("vxe.base.pleaseSelect"):E.select.placeholder},loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>E.select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>E.select.size||E.size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,optionId:{type:String,default:()=>E.select.optionId},optionKey:Boolean,transfer:{type:Boolean,default:()=>E.select.transfer}},emits:["update:modelValue","change","clear","blur","focus"],setup(t,r){const{slots:a,emit:d}=r,v=i("$xeform",null),b=i("$xeformiteminfo",null),x=e.uniqueId(),w=Nl(t),C=o({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],remoteValueList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentOption:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1,searchValue:"",searchLoading:!1}),y=p(),S=p(),T=p(),O=p(),R=p(),k={refElem:y},$={xID:x,props:t,context:r,reactData:C,getRefMaps:()=>k};let M={};const I=s((()=>t.optionProps||{})),D=s((()=>t.optionGroupProps||{})),F=s((()=>I.value.label||"label")),A=s((()=>I.value.value||"value")),j=s((()=>D.value.label||"label")),B=s((()=>D.value.options||"options")),_=s((()=>{const{modelValue:l,multiple:o,max:n}=t;return!(!o||!n)&&(l?l.length:0)>=e.toNumber(n)})),H=s((()=>Object.assign({},E.select.optionConfig,t.optionConfig))),z=s((()=>C.fullGroupList.some((e=>e.options&&e.options.length)))),W=s((()=>e.toNumber(t.multiCharOverflow))),q=(t,l)=>t&&(e.isString(t)&&(t=a[t]||null),e.isFunction(t))?De(t(l)):[],U=e=>{const{fullOptionList:t,fullGroupList:l}=C,o=z.value,n=A.value;if(o)for(let r=0;r<l.length;r++){const t=l[r];if(t.options)for(let l=0;l<t.options.length;l++){const o=t.options[l];if(e===o[n])return o}}return t.find((t=>e===t[n]))},Y=t=>{const{remoteValueList:l}=C,o=F.value,n=l.find((e=>t===e.key)),r=n?n.result:null;return e.toValueString(r?r[o]:t)},X=t=>{const l=F.value,o=U(t);return e.toValueString(o?o[l]:t)},G=s((()=>{const{modelValue:l,multiple:o,remote:n}=t,r=W.value;if(l&&o){const t=e.isArray(l)?l:[l];return n?t.map((e=>Y(e))).join(", "):t.map((e=>{const t=X(e);return r>0&&t.length>r?`${t.substring(0,r)}...`:t})).join(", ")}return n?Y(l):X(l)})),K=()=>H.value.keyField||t.optionId||"_X_OPTION_KEY",Z=e=>{const t=e[K()];return t?encodeURIComponent(t):""},J=()=>{const{filterable:e,filterMethod:l}=t,{fullOptionList:o,fullGroupList:n,searchValue:r}=C,a=z.value,i=j.value,s=F.value;return a?C.visibleGroupList=e&&l?n.filter((e=>Yl(e)&&l({group:e,option:null,searchValue:r}))):e?n.filter((e=>Yl(e)&&(!r||`${e[i]}`.indexOf(r)>-1))):n.filter(Yl):C.visibleOptionList=e&&l?o.filter((e=>Yl(e)&&l({group:null,option:e,searchValue:r}))):e?o.filter((e=>Yl(e)&&(!r||`${e[s]}`.indexOf(r)>-1))):o.filter(Yl),c()},Q=()=>{const{fullOptionList:t,fullGroupList:l}=C,o=B.value,n=K(),r=t=>{Z(t)||(t[n]=e.uniqueId("opt_"))};l.length?l.forEach((e=>{r(e),e[o]&&e[o].forEach(r)})):t.length&&t.forEach(r),J()},ee=e=>{const t=A.value;e&&(C.currentOption=e,C.currentValue=e[t])},te=(e,t)=>c().then((()=>{if(e){const l=O.value,o=R.value.querySelector(`[optid='${Z(e)}']`);if(l&&o){const e=l.offsetHeight,n=5;t?o.offsetTop+o.offsetHeight-l.scrollTop>e&&(l.scrollTop=o.offsetTop+o.offsetHeight-e):(o.offsetTop+n<l.scrollTop||o.offsetTop+n>l.scrollTop+l.clientHeight)&&(l.scrollTop=o.offsetTop-n)}}})),le=()=>c().then((()=>{const{transfer:e,placement:l}=t,{panelIndex:o}=C,n=y.value,r=R.value;if(r&&n){const t=n.offsetHeight,a=n.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,d=5,u={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=re(n);let h="bottom";if(e){let e=m,o=p+t;"top"===l?(h="top",o=p-i):l||(o+i+d>f&&(h="top",o=p-i),o<d&&(h="bottom",o=p+t)),e+s+d>g&&(e-=e+s+d-g),e<d&&(e=d),Object.assign(u,{left:`${e}px`,top:`${o}px`,minWidth:`${a}px`})}else"top"===l?(h="top",u.bottom=`${t}px`):l||p+t+i>f&&p-t-i>d&&(h="top",u.bottom=`${t}px`);return C.panelStyle=u,C.panelPlacement=h,c()}}));let ne;const ae=()=>{const{loading:e,disabled:l,filterable:o}=t;e||l||(clearTimeout(ne),C.inited||(C.inited=!0),C.isActivated=!0,C.animatVisible=!0,o&&J(),setTimeout((()=>{const{modelValue:e,multiple:l}=t,o=U(l&&e?e[0]:e);C.visiblePanel=!0,o&&(ee(o),te(o)),he()}),10),C.panelIndex<L()&&(C.panelIndex=N()),le())},ie=()=>{C.searchValue="",C.searchLoading=!1,C.visiblePanel=!1,ne=window.setTimeout((()=>{C.animatVisible=!1}),350)},se=(e,l)=>{l!==t.modelValue&&(d("update:modelValue",l),M.dispatchEvent("change",{value:l},e),v&&b&&v.triggerItemEvent(e,b.itemConfig.field,l))},ce=(e,t)=>{C.remoteValueList=[],se(e,t),M.dispatchEvent("clear",{value:t},e)},de=(e,t)=>{ce(t,null),ie()},ue=(e,l,o)=>{const{modelValue:n,multiple:r}=t,{remoteValueList:a}=C;if(r){let t;t=n?-1===n.indexOf(l)?n.concat([l]):n.filter((e=>e!==l)):[l];const r=a.find((e=>e.key===l));r?r.result=o:a.push({key:l,result:o}),se(e,t)}else C.remoteValueList=[{key:l,result:o}],se(e,l),ie()},pe=e=>{const{disabled:l}=t,{visiblePanel:o}=C;if(!l&&o){oe(e,R.value).flag?le():ie()}},me=e=>{const{disabled:l}=t,{visiblePanel:o}=C;if(!l){const t=y.value,l=R.value;C.isActivated=oe(e,t).flag||oe(e,l).flag,o&&!C.isActivated&&ie()}},fe=e=>{const{clearable:l,disabled:o}=t,{visiblePanel:n,currentValue:r,currentOption:a}=C;if(!o){const t=El(e,cl),o=El(e,sl),i=El(e,il),s=El(e,fl),c=El(e,gl),d=El(e,dl),u=El(e,pl);if(t&&(C.isActivated=!1),n)if(i||t)ie();else if(o)e.preventDefault(),e.stopPropagation(),ue(e,r,a);else if(s||c){e.preventDefault();let{firstOption:t,offsetOption:l}=((e,t)=>{const{visibleOptionList:l,visibleGroupList:o}=C,n=z.value,r=A.value,a=B.value;let i,s,c,d;if(n)for(let u=0;u<o.length;u++){const l=o[u],n=l[a],p=l.disabled;if(n)for(let o=0;o<n.length;o++){const l=n[o],a=Yl(l),u=p||l.disabled;if(i||u||(i=l),d&&a&&!u&&(c=l,!t))return{offsetOption:c};if(e===l[r]){if(d=l,t)return{offsetOption:s}}else a&&!u&&(s=l)}}else for(let u=0;u<l.length;u++){const o=l[u],n=o.disabled;if(i||n||(i=o),d&&!n&&(c=o,!t))return{offsetOption:c};if(e===o[r]){if(d=o,t)return{offsetOption:s}}else n||(s=o)}return{firstOption:i}})(r,s);l||U(r)||(l=t),ee(l),te(l,c)}else u&&e.preventDefault();else(s||c||o||u)&&C.isActivated&&(e.preventDefault(),ae());C.isActivated&&d&&l&&ce(e,null)}},ge=()=>{ie()},he=()=>{t.filterable&&c((()=>{const e=T.value;e&&e.focus()}))},ve=e=>{t.disabled||(C.isActivated=!0),M.dispatchEvent("focus",{},e)},be=e=>{C.isActivated=!1,M.dispatchEvent("blur",{},e)},xe=e=>{C.searchValue=e},we=()=>{C.isActivated=!0},Ce=e=>{const{$event:t}=e;El(t,sl)&&(t.preventDefault(),t.stopPropagation())},ye=e.debounce((function(){const{remote:e,remoteMethod:l}=t,{searchValue:o}=C;e&&l?(C.searchLoading=!0,Promise.resolve(l({searchValue:o})).then((()=>c())).catch((()=>c())).finally((()=>{C.searchLoading=!1,J()}))):J()}),350,{trailing:!0}),Ee=e=>{const{$event:t}=e;t.preventDefault(),C.visiblePanel?ie():ae()},Se=(l,o)=>{const{optionKey:r,modelValue:i,multiple:s}=t,{currentValue:c}=C,d=H.value,u=F.value,p=A.value,m=z.value,{useKey:f}=d,g=a.option;return l.map(((t,l)=>{const{slots:a,className:d}=t,h=t[p],v=s?i&&i.indexOf(h)>-1:i===h,b=!m||Yl(t),x=((e,t,l)=>!!t.disabled||(!(!l||!l.disabled)||!(!_.value||e)))(v,t,o),w=Z(t),C=a?a.default:null,y={option:t,group:null,$select:$};return b?n("div",{key:f||r?w:l,class:["vxe-select-option",d?e.isFunction(d)?d(y):d:"",{"is--disabled":x,"is--selected":v,"is--hover":c===h}],optid:w,onMousedown:e=>{0===e.button&&e.stopPropagation()},onClick:e=>{x||ue(e,h,t)},onMouseenter:()=>{x||ee(t)}},g?q(g,y):C?q(C,y):V(P(t[u]))):null}))},Te=()=>{const{visibleGroupList:l,visibleOptionList:o,searchLoading:r}=C,i=z.value;if(r)return[n("div",{class:"vxe-select--search-loading"},[n("i",{class:["vxe-select--search-icon",E.icon.SELECT_LOADED]}),n("span",{class:"vxe-select--search-text"},E.i18n("vxe.select.loadingText"))])];if(i){if(l.length)return(()=>{const{optionKey:l}=t,{visibleGroupList:o}=C,r=H.value,i=j.value,s=B.value,{useKey:c}=r,d=a.option;return o.map(((t,o)=>{const{slots:r,className:a}=t,u=Z(t),p=t.disabled,m=r?r.default:null,f={option:t,group:t,$select:$};return n("div",{key:c||l?u:o,class:["vxe-optgroup",a?e.isFunction(a)?a(f):a:"",{"is--disabled":p}],optid:u},[n("div",{class:"vxe-optgroup--title"},d?q(d,f):m?q(m,f):P(t[i])),n("div",{class:"vxe-optgroup--wrapper"},Se(t[s]||[],t))])}))})()}else if(o.length)return Se(o);return[n("div",{class:"vxe-select--empty-placeholder"},t.emptyText||E.i18n("vxe.select.emptyText"))]};M={dispatchEvent(e,t,l){d(e,Object.assign({$select:$,$event:l},t))},isPanelVisible:()=>C.visiblePanel,togglePanel:()=>(C.visiblePanel?ie():ae(),c()),hidePanel:()=>(C.visiblePanel&&ie(),c()),showPanel:()=>(C.visiblePanel||ae(),c()),refreshOption:J,focus(){const e=S.value;return C.isActivated=!0,e.blur(),c()},blur:()=>(S.value.blur(),C.isActivated=!1,c())},Object.assign($,M),l((()=>C.staticOptions),(e=>{e.some((e=>e.options&&e.options.length))?(C.fullOptionList=[],C.fullGroupList=e):(C.fullGroupList=[],C.fullOptionList=e||[]),Q()})),l((()=>t.options),(e=>{C.fullGroupList=[],C.fullOptionList=e||[],Q()})),l((()=>t.optionGroups),(e=>{C.fullOptionList=[],C.fullGroupList=e||[],Q()})),g((()=>{c((()=>{const{options:e,optionGroups:l}=t;l?C.fullGroupList=l:e&&(C.fullOptionList=e),Q()})),Tl.on($,"mousewheel",pe),Tl.on($,"mousedown",me),Tl.on($,"keydown",fe),Tl.on($,"blur",ge)})),h((()=>{Tl.off($,"mousewheel"),Tl.off($,"mousedown"),Tl.off($,"keydown"),Tl.off($,"blur")}));return $.renderVN=()=>{const{className:l,popupClassName:o,transfer:r,disabled:i,loading:s,filterable:c}=t,{inited:d,isActivated:p,visiblePanel:f}=C,g=w.value,h=G.value,v=a.default,b=a.header,x=a.footer,k=a.prefix;return n("div",{ref:y,class:["vxe-select",l?e.isFunction(l)?l({$select:$}):l:"",{[`size--${g}`]:g,"is--visivle":f,"is--disabled":i,"is--filter":c,"is--loading":s,"is--active":p}]},[n("div",{class:"vxe-select-slots",ref:"hideOption"},v?v({}):[]),n(ql,{ref:S,clearable:t.clearable,placeholder:t.placeholder,readonly:!0,disabled:i,type:"text",prefixIcon:t.prefixIcon,suffixIcon:s?E.icon.SELECT_LOADED:f?E.icon.SELECT_OPEN:E.icon.SELECT_CLOSE,modelValue:h,onClear:de,onClick:Ee,onFocus:ve,onBlur:be,onSuffixClick:Ee},k?{prefix:()=>k({})}:{}),n(m,{to:"body",disabled:!r||!d},[n("div",{ref:R,class:["vxe-table--ignore-clear vxe-select--panel",o?e.isFunction(o)?o({$select:$}):o:"",{[`size--${g}`]:g,"is--transfer":r,"animat--leave":!s&&C.animatVisible,"animat--enter":!s&&f}],placement:C.panelPlacement,style:C.panelStyle},d?[c?n("div",{class:"vxe-select--panel-search"},[n(ql,{ref:T,class:"vxe-select-search--input",modelValue:C.searchValue,clearable:!0,placeholder:E.i18n("vxe.select.search"),prefixIcon:E.icon.INPUT_SEARCH,"onUpdate:modelValue":xe,onFocus:we,onKeydown:Ce,onChange:ye,onSearch:ye})]):u(),n("div",{class:"vxe-select--panel-wrapper"},[b?n("div",{class:"vxe-select--panel-header"},b({})):u(),n("div",{class:"vxe-select--panel-body"},[n("div",{ref:O,class:"vxe-select-option--wrapper"},Te())]),x?n("div",{class:"vxe-select--panel-footer"},x({})):u()])]:[])])])},f("$xeselect",$),$},render(){return this.renderVN()}}),Gl=a({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(t){const l=i("$xetable",{}),{computeExportOpts:r,computePrintOpts:a}=l.getComputeMaps(),d=o({isAll:!1,isIndeterminate:!1,loading:!1}),m=p(),f=p(),g=p(),h=s((()=>{const{storeData:e}=t;return e.columns.every((e=>e.checked))})),v=s((()=>{const{defaultOptions:e}=t;return["html","xml","xlsx","pdf"].indexOf(e.type)>-1})),b=s((()=>{const{storeData:e,defaultOptions:l}=t;return!l.original&&"current"===l.mode&&(e.isPrint||["html","xlsx"].indexOf(l.type)>-1)})),x=s((()=>{const{defaultOptions:e}=t;return!e.original&&["xlsx"].indexOf(e.type)>-1})),w=l=>{const{storeData:o}=t,n=e.findTree(o.columns,(e=>e===l));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.halfChecked=!e.checked&&e.children.some((e=>e.checked||e.halfChecked)),w(e))}},C=()=>{const{storeData:e}=t,l=e.columns;d.isAll=l.every((e=>e.disabled||e.checked)),d.isIndeterminate=!d.isAll&&l.some((e=>!e.disabled&&(e.checked||e.halfChecked)))},y=()=>{const{storeData:l}=t,o=!d.isAll;e.eachTree(l.columns,(e=>{e.disabled||(e.checked=o,e.halfChecked=!1)})),d.isAll=o,C()},S=()=>{c((()=>{const e=f.value,t=g.value,l=m.value,o=e||t||l;o&&o.focus()})),C()},T=()=>{const{storeData:l,defaultOptions:o}=t,{hasMerge:n,columns:r}=l,a=h.value,i=b.value,s=e.searchTree(r,(e=>e.checked),{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},o,{columns:s,isMerge:!!(n&&i&&a)&&o.isMerge})},O=()=>{const{storeData:e}=t;e.visible=!1},R=()=>{const{storeData:e}=t;e.isPrint?(()=>{const{storeData:e}=t,o=a.value;e.visible=!1,l.print(Object.assign({},o,T()))})():(()=>{const{storeData:e}=t,o=r.value;d.loading=!0,l.exportData(Object.assign({},o,T())).then((()=>{d.loading=!1,e.visible=!1})).catch((()=>{d.loading=!1}))})()};return()=>{const{defaultOptions:l,storeData:o}=t,{isAll:r,isIndeterminate:a}=d,{hasTree:i,hasMerge:s,isPrint:c,hasColgroup:p}=o,{isHeader:T}=l,k=[],$=h.value,M=v.value,I=b.value,D=x.value;return e.eachTree(o.columns,(t=>{const l=V(t.getTitle(),1),o=t.children&&t.children.length,r=t.checked,a=t.halfChecked;k.push(n("li",{class:["vxe-export--panel-column-option",`level--${t.level}`,{"is--group":o,"is--checked":r,"is--indeterminate":a,"is--disabled":t.disabled}],title:l,onClick:()=>{t.disabled||(t=>{const l=!t.checked;e.eachTree([t],(e=>{e.checked=l,e.halfChecked=!1})),w(t),C()})(t)}},[n("span",{class:["vxe-checkbox--icon",a?E.icon.TABLE_CHECKBOX_INDETERMINATE:r?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]}),n("span",{class:"vxe-checkbox--label"},l)]))})),n(Bl,{modelValue:o.visible,title:E.i18n(c?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:d.loading,"onUpdate:modelValue"(e){o.visible=e},onShow:S},{default:()=>n("div",{class:"vxe-export--panel"},[n("table",{cellspacing:0,cellpadding:0,border:0},[n("tbody",[[c?u():n("tr",[n("td",E.i18n("vxe.export.expName")),n("td",[n(ql,{ref:f,modelValue:l.filename,type:"text",clearable:!0,placeholder:E.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){l.filename=e}})])]),c?u():n("tr",[n("td",E.i18n("vxe.export.expType")),n("td",[n(Xl,{modelValue:l.type,options:o.typeList.map((e=>({value:e.value,label:E.i18n(e.label)}))),"onUpdate:modelValue"(e){l.type=e}})])]),c||M?n("tr",[n("td",E.i18n("vxe.export.expSheetName")),n("td",[n(ql,{ref:g,modelValue:l.sheetName,type:"text",clearable:!0,placeholder:E.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){l.sheetName=e}})])]):u(),n("tr",[n("td",E.i18n("vxe.export.expMode")),n("td",[n(Xl,{modelValue:l.mode,options:o.modeList.map((e=>({value:e.value,label:E.i18n(e.label)}))),"onUpdate:modelValue"(e){l.mode=e}})])]),n("tr",[n("td",[E.i18n("vxe.export.expColumn")]),n("td",[n("div",{class:"vxe-export--panel-column"},[n("ul",{class:"vxe-export--panel-column-header"},[n("li",{class:["vxe-export--panel-column-option",{"is--checked":r,"is--indeterminate":a}],title:E.i18n("vxe.table.allTitle"),onClick:y},[n("span",{class:["vxe-checkbox--icon",a?E.icon.TABLE_CHECKBOX_INDETERMINATE:r?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]}),n("span",{class:"vxe-checkbox--label"},E.i18n("vxe.export.expCurrentColumn"))])]),n("ul",{class:"vxe-export--panel-column-body"},k)])])]),n("tr",[n("td",E.i18n("vxe.export.expOpts")),n("td",[n("div",{class:"vxe-export--panel-option-row"},[n(Ul,{modelValue:l.isHeader,title:E.i18n("vxe.export.expHeaderTitle"),content:E.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){l.isHeader=e}}),n(Ul,{modelValue:l.isFooter,disabled:!o.hasFooter,title:E.i18n("vxe.export.expFooterTitle"),content:E.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){l.isFooter=e}}),n(Ul,{modelValue:l.original,title:E.i18n("vxe.export.expOriginalTitle"),content:E.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){l.original=e}})]),n("div",{class:"vxe-export--panel-option-row"},[n(Ul,{modelValue:!!(T&&p&&I)&&l.isColgroup,title:E.i18n("vxe.export.expColgroupTitle"),disabled:!T||!p||!I,content:E.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){l.isColgroup=e}}),n(Ul,{modelValue:!!(s&&I&&$)&&l.isMerge,title:E.i18n("vxe.export.expMergeTitle"),disabled:!s||!I||!$,content:E.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){l.isMerge=e}}),c?u():n(Ul,{modelValue:!!D&&l.useStyle,disabled:!D,title:E.i18n("vxe.export.expUseStyleTitle"),content:E.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){l.useStyle=e}}),n(Ul,{modelValue:!!i&&l.isAllExpand,disabled:!i,title:E.i18n("vxe.export.expAllExpandTitle"),content:E.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){l.isAllExpand=e}})])])])]])]),n("div",{class:"vxe-export--panel-btns"},[n(Ll,{content:E.i18n("vxe.export.expCancel"),onClick:O}),n(Ll,{ref:m,status:"primary",content:E.i18n(c?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:R})])])})}}}),Kl=a({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:()=>E.radio.strict},size:{type:String,default:()=>E.radio.size||E.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:r}=l,a=i("$xeform",null),c=i("$xeformiteminfo",null),d={xID:e.uniqueId(),props:t,context:l},u=Nl(t),p=i("$xeradiogroup",null);let m={};const f=s((()=>t.disabled||p&&p.props.disabled)),g=s((()=>p?p.name:t.name)),h=s((()=>p?p.props.strict:t.strict)),v=s((()=>{const{modelValue:e,label:l}=t;return p?p.props.modelValue===l:e===l})),b=(e,t)=>{p?p.handleChecked({label:e},t):(r("update:modelValue",e),m.dispatchEvent("change",{label:e},t),a&&c&&a.triggerItemEvent(t,c.itemConfig.field,e))},x=e=>{f.value||b(t.label,e)},w=e=>{const l=f.value,o=h.value;l||o||t.label===(p?p.props.modelValue:t.modelValue)&&b(null,e)};m={dispatchEvent(e,t,l){r(e,Object.assign({$radio:d,$event:l},t))}},Object.assign(d,m);return d.renderVN=()=>{const e=u.value,l=f.value,r=g.value,a=v.value;return n("label",{class:["vxe-radio",{[`size--${e}`]:e,"is--checked":a,"is--disabled":l}],title:t.title},[n("input",{class:"vxe-radio--input",type:"radio",name:r,checked:a,disabled:l,onChange:x,onClick:w}),n("span",{class:["vxe-radio--icon",a?"vxe-icon-radio-checked":"vxe-icon-radio-unchecked"]}),n("span",{class:"vxe-radio--label"},o.default?o.default({}):P(t.content))])},d},render(){return this.renderVN()}}),Zl=a({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:()=>E.radioButton.strict},size:{type:String,default:()=>E.radioButton.size||E.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:r}=l,a=i("$xeform",null),c=i("$xeformiteminfo",null),d=e.uniqueId(),u=Nl(t),p={xID:d,props:t,context:l};let m={};const f=i("$xeradiogroup",null),g=s((()=>t.disabled||f&&f.props.disabled)),h=s((()=>f?f.name:null)),v=s((()=>f?f.props.strict:t.strict)),b=s((()=>{const{modelValue:e,label:l}=t;return f?f.props.modelValue===l:e===l}));m={dispatchEvent(e,t,l){r(e,Object.assign({$radioButton:p,$event:l},t))}},Object.assign(p,m);const x=(e,t)=>{f?f.handleChecked({label:e},t):(r("update:modelValue",e),m.dispatchEvent("change",{label:e},t),a&&c&&a.triggerItemEvent(t,c.itemConfig.field,e))},w=e=>{g.value||x(t.label,e)},C=e=>{const l=g.value,o=v.value;l||o||t.label===(f?f.props.modelValue:t.modelValue)&&x(null,e)},y=()=>{const e=u.value,l=g.value,r=h.value,a=b.value;return n("label",{class:["vxe-radio","vxe-radio-button",{[`size--${e}`]:e,"is--disabled":l}],title:t.title},[n("input",{class:"vxe-radio--input",type:"radio",name:r,checked:a,disabled:l,onChange:w,onClick:C}),n("span",{class:"vxe-radio--label"},o.default?o.default({}):P(t.content))])};return Object.assign(p,{renderVN:y,dispatchEvent:dispatchEvent}),y}}),Jl=a({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>E.radioGroup.strict},size:{type:String,default:()=>E.radioGroup.size||E.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:r}=l,a=i("$xeform",null),c=i("$xeformiteminfo",null),d={xID:e.uniqueId(),props:t,context:l,name:e.uniqueId("xegroup_")},u=s((()=>t.optionProps||{})),p=s((()=>u.value.label||"label")),m=s((()=>u.value.value||"value")),g=s((()=>u.value.disabled||"disabled"));let h={};Nl(t);const v={handleChecked(e,t){r("update:modelValue",e.label),h.dispatchEvent("change",e),a&&c&&a.triggerItemEvent(t,c.itemConfig.field,e.label)}};h={dispatchEvent(e,t,l){r(e,Object.assign({$radioGroup:d,$event:l},t))}};const b=()=>{const{options:e,type:l}=t,r=o.default,a=m.value,i=p.value,s=g.value,c="button"===l?Zl:Kl;return n("div",{class:"vxe-radio-group"},r?r({}):e?e.map((e=>n(c,{label:e[a],content:e[i],disabled:e[s]}))):[])};return Object.assign(d,v,{renderVN:b,dispatchEvent:dispatchEvent}),f("$xeradiogroup",d),b}}),Ql=a({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(t){const l=i("$xetable",{}),{computeImportOpts:r}=l.getComputeMaps(),a=o({loading:!1}),d=p(),u=s((()=>{const{storeData:e}=t;return`${e.filename}.${e.type}`})),m=s((()=>{const{storeData:e}=t;return e.file&&e.type})),f=s((()=>{const{storeData:l}=t,{type:o,typeList:n}=l;if(o){const t=e.find(n,(e=>o===e.value));return t?E.i18n(t.label):"*.*"}return`*.${n.map((e=>e.value)).join(", *.")}`})),g=()=>{const{storeData:e}=t;Object.assign(e,{filename:"",sheetName:"",type:""})},h=()=>{const{storeData:e,defaultOptions:o}=t;l.readFile(o).then((t=>{const{file:l}=t;Object.assign(e,F(l),{file:l})})).catch((e=>e))},v=()=>{c((()=>{const e=d.value;e&&e.focus()}))},b=()=>{const{storeData:e}=t;e.visible=!1},x=()=>{const{storeData:e,defaultOptions:o}=t,n=r.value;a.loading=!0,l.importByFile(e.file,Object.assign({},n,o)).then((()=>{a.loading=!1,e.visible=!1})).catch((()=>{a.loading=!1}))};return()=>{const{defaultOptions:e,storeData:l}=t,o=u.value,r=m.value,i=f.value;return n(Bl,{modelValue:l.visible,title:E.i18n("vxe.import.impTitle"),className:"vxe-table-import-popup-wrapper",width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:a.loading,"onUpdate:modelValue"(e){l.visible=e},onShow:v},{default:()=>n("div",{class:"vxe-export--panel"},[n("table",{cellspacing:0,cellpadding:0,border:0},[n("tbody",[n("tr",[n("td",E.i18n("vxe.import.impFile")),n("td",[r?n("div",{class:"vxe-import-selected--file",title:o},[n("span",o),n("i",{class:E.icon.INPUT_CLEAR,onClick:g})]):n("button",{ref:d,class:"vxe-import-select--file",onClick:h},E.i18n("vxe.import.impSelect"))])]),n("tr",[n("td",E.i18n("vxe.import.impType")),n("td",i)]),n("tr",[n("td",E.i18n("vxe.import.impOpts")),n("td",[n(Jl,{modelValue:e.mode,"onUpdate:modelValue"(t){e.mode=t}},{default:()=>l.modeList.map((e=>n(Kl,{label:e.value,content:E.i18n(e.label)})))})])])])]),n("div",{class:"vxe-export--panel-btns"},[n(Ll,{content:E.i18n("vxe.import.impCancel"),onClick:b}),n(Ll,{status:"primary",disabled:!r,content:E.i18n("vxe.import.impConfirm"),onClick:x})])])})}}});let eo,to,lo;const oo='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function no(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function ro(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function ao(e,t){const{style:l}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${oo}</style>`,l?`<style>${l}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const io=t=>{const l=Object.assign({},t);return eo||(eo=document.createElement("form"),to=document.createElement("input"),eo.className="vxe-table--file-form",to.name="file",to.type="file",eo.appendChild(to),document.body.appendChild(eo)),new Promise(((t,o)=>{const n=l.types||[],r=!n.length||n.some((e=>"*"===e));to.multiple=!!l.multiple,to.accept=r?"":`.${n.join(", .")}`,to.onchange=a=>{const{files:i}=a.target,s=i[0];let c="";if(!r)for(let t=0;t<i.length;t++){const{type:l}=F(i[t]);if(!e.includes(n,l)){c=l;break}}if(c){!1!==l.message&&Xt.modal.message({content:E.i18n("vxe.error.notType",[c]),status:"error"});o({status:!1,files:i,file:s})}else t({status:!0,files:i,file:s})},eo.reset(),to.click()}))};function so(){if(lo){if(lo.parentNode){try{lo.contentDocument.write("")}catch(e){}lo.parentNode.removeChild(lo)}lo=null}}function co(){lo.parentNode||document.body.appendChild(lo)}function uo(){requestAnimationFrame(so)}function po(e,t,l=""){const{beforePrintMethod:o}=t;o&&(l=o({content:l,options:t,$table:e})||"");const n=ro(l=ao(t,l),t);H.msie?(so(),lo=no(),co(),lo.contentDocument.write(l),lo.contentDocument.execCommand("print")):(lo||(lo=no(),lo.onload=e=>{e.target.src&&(e.target.contentWindow.onafterprint=uo,e.target.contentWindow.print())}),co(),lo.src=URL.createObjectURL(n))}const mo=t=>{const{filename:l,type:o,content:n}=t,r=`${l}.${o}`;if(window.Blob){const l=n instanceof Blob?n:ro(e.toValueString(n),t);if(navigator.msSaveBlob)navigator.msSaveBlob(l,r);else{const e=URL.createObjectURL(l),t=document.createElement("a");t.target="_blank",t.download=r,t.href=e,document.body.appendChild(t),t.click(),requestAnimationFrame((()=>{t.parentNode&&t.parentNode.removeChild(t),URL.revokeObjectURL(e)}))}return Promise.resolve()}return Promise.reject(new Error(S("vxe.error.notExp")))};let fo;const go="\r\n";function ho(e){return e.property||["seq","checkbox","radio"].indexOf(e.type)>-1}const vo=e=>{const t=[];return e.forEach((e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...vo(e.childNodes))):t.push(e)})),t};function bo(e){return!0===e?"full":e||"default"}function xo(e){return"TRUE"===e||"true"===e||!0===e}function wo(e,t){const{footerFilterMethod:l}=e;return l?t.filter(((e,t)=>l({items:e,$rowIndex:t}))):t}function Co(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function yo(e,t){return e.getElementsByTagName(t)}function Eo(t){return`#${t}@${e.uniqueId()}`}function So(t,l){return t.replace(/#\d+@\d+/g,(t=>e.hasOwnProp(l,t)?l[t]:t))}function To(e,t){return So(e,t).replace(/^"+$/g,(e=>'"'.repeat(Math.ceil(e.length/2))))}function Oo(e,t,l){const o=t.split(go),n=[];let r=[];if(o.length){const e={},t=Date.now();o.forEach((o=>{if(o){const a={},i=(o=o.replace(/("")|(\n)/g,((l,o)=>{const n=Eo(t);return e[n]=o?'"':"\n",n})).replace(/"(.*?)"/g,((l,o)=>{const n=Eo(t);return e[n]=So(o,e),n}))).split(l);r.length?(i.forEach(((t,l)=>{l<r.length&&(a[r[l]]=To(t.trim(),e))})),n.push(a)):r=i.map((t=>To(t.trim(),e)))}}))}return{fields:r,rows:n}}function Ro(t){e.eachTree(t,(e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes}),{children:"children"})}const ko=["exportData","importByFile","importData","saveFile","readFile","print","openImport","openExport","openPrint"],$o={setupTable(t){const{props:l,reactData:o,internalData:n}=t,{computeTreeOpts:r,computePrintOpts:a,computeExportOpts:s,computeImportOpts:d,computeCustomOpts:u,computeSeqOpts:p,computeRadioOpts:m,computeCheckboxOpts:f,computeColumnOpts:g}=t.getComputeMaps(),h=i("$xegrid",null),v=(e,l,o,n)=>{const r=p.value.seqMethod||o.seqMethod;return r?r({row:e,rowIndex:t.getRowIndex(e),$rowIndex:l,column:o,columnIndex:t.getColumnIndex(o),$columnIndex:n}):t.getRowSeq(e)};function b(e,l){const o=g.value,n=l.headerExportMethod||o.headerExportMethod;return n?n({column:l,options:e,$table:t}):(e.original?l.property:l.getTitle())||""}const x=t=>e.isBoolean(t)?t?"TRUE":"FALSE":t,w=(o,n,a)=>{const{isAllExpand:i,mode:s}=o,{treeConfig:c}=l,d=m.value,u=f.value,p=r.value,h=g.value;if(fo||(fo=document.createElement("div")),c){const l=p.children||p.childrenField,c=[],m=new Map;return e.eachTree(a,((l,a,p,f,g,b)=>{const w=l._row||l,C=g&&g._row?g._row:g;if(i||!C||m.has(C)&&t.isTreeExpandByRow(C)){const l=(e=>{const t=r.value,l=t.children||t.childrenField;return e[l]&&e[l].length})(w),i={_row:w,_level:b.length-1,_hasChild:l,_expand:l&&t.isTreeExpandByRow(w)};n.forEach(((l,n)=>{let r="";const c=l.editRender||l.cellRender;let p=l.exportMethod;if(!p&&c&&c.name){const e=Xt.renderer.get(c.name);e&&(p=e.exportMethod)}if(p||(p=h.exportMethod),p)r=p({$table:t,row:w,column:l,options:o});else switch(l.type){case"seq":r="all"===s?f.map(((e,t)=>t%2==0?Number(e)+1:".")).join(""):v(w,a,l,n);break;case"checkbox":r=x(t.isCheckedByCheckboxRow(w)),i._checkboxLabel=u.labelField?e.get(w,u.labelField):"",i._checkboxDisabled=u.checkMethod&&!u.checkMethod({row:w});break;case"radio":r=x(t.isCheckedByRadioRow(w)),i._radioLabel=d.labelField?e.get(w,d.labelField):"",i._radioDisabled=d.checkMethod&&!d.checkMethod({row:w});break;default:if(o.original)r=ye(w,l);else if(r=t.getCellLabel(w,l),"html"===l.type)fo.innerHTML=r,r=fo.innerText.trim();else{const e=t.getCell(w,l);e&&(r=e.innerText.trim())}}i[l.id]=e.toValueString(r)})),m.set(w,1),c.push(Object.assign(i,w))}}),{children:l}),c}return a.map(((l,r)=>{const a={_row:l};return n.forEach(((n,i)=>{let c="";const p=n.editRender||n.cellRender;let m=n.exportMethod;if(!m&&p&&p.name){const e=Xt.renderer.get(p.name);e&&(m=e.exportMethod)}if(m)c=m({$table:t,row:l,column:n,options:o});else switch(n.type){case"seq":c="all"===s?r+1:v(l,r,n,i);break;case"checkbox":c=x(t.isCheckedByCheckboxRow(l)),a._checkboxLabel=u.labelField?e.get(l,u.labelField):"",a._checkboxDisabled=u.checkMethod&&!u.checkMethod({row:l});break;case"radio":c=x(t.isCheckedByRadioRow(l)),a._radioLabel=d.labelField?e.get(l,d.labelField):"",a._radioDisabled=d.checkMethod&&!d.checkMethod({row:l});break;default:if(o.original)c=ye(l,n);else if(c=t.getCellLabel(l,n),"html"===n.type)fo.innerHTML=c,c=fo.innerText.trim();else{const e=t.getCell(l,n);e&&(c=e.innerText.trim())}}a[n.id]=e.toValueString(c)})),a}))},C=(l,o,n)=>{const r=g.value,a=n.editRender||n.cellRender;let i=n.footerExportMethod;if(!i&&a&&a.name){const e=Xt.renderer.get(a.name);e&&(i=e.footerExportMethod)}i||(i=r.footerExportMethod);const s=t.getVTColumnIndex(n);return i?i({$table:t,items:o,itemIndex:s,row:o,_columnIndex:s,column:n,options:l}):e.toValueString(o[s])},y=(e,t,l)=>{let n="\ufeff";if(e.isHeader&&(n+=t.map((t=>Co(b(e,t)))).join(",")+go),l.forEach((e=>{n+=t.map((t=>Co(function(e,t){if(t){if("seq"===e.type)return`\t${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`\t${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`\t${t}`}}return t}(t,e[t.id])))).join(",")+go})),e.isFooter){const{footerTableData:l}=o;wo(e,l).forEach((l=>{n+=t.map((t=>Co(C(e,l,t)))).join(",")+go}))}return n},S=(t,l,n)=>{const r=t[l],a=e.isUndefined(r)||e.isNull(r)?n:r;let i="title"===a||(!0===a||"tooltip"===a)||"ellipsis"===a;const{scrollXLoad:s,scrollYLoad:c}=o;return!s&&!c||i||(i=!0),i},T=(n,a,i)=>{if(a.length)switch(n.type){case"csv":return y(n,a,i);case"txt":return((e,t,l)=>{let n="";if(e.isHeader&&(n+=t.map((t=>Co(b(e,t)))).join("\t")+go),l.forEach((e=>{n+=t.map((t=>Co(e[t.id]))).join("\t")+go})),e.isFooter){const{footerTableData:l}=o;wo(e,l).forEach((l=>{n+=t.map((t=>Co(C(e,l,t)))).join(",")+go}))}return n})(n,a,i);case"html":return((n,a,i)=>{const{id:s,border:c,treeConfig:d,headerAlign:u,align:p,footerAlign:m,showOverflow:f,showHeaderOverflow:g}=l,{isAllSelected:h,isIndeterminate:v,mergeList:x}=o,w=r.value,{print:y,isHeader:E,isFooter:T,isColgroup:O,isMerge:R,colgroups:k,original:$}=n,M="check-all",I=[`<table class="${["vxe-table",`border--${bo(c)}`,y?"is--print":"",E?"is--header":""].filter((e=>e)).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${a.map((e=>`<col style="width:${e.renderWidth}px">`)).join("")}</colgroup>`];if(E&&(I.push("<thead>"),O&&!$?k.forEach((t=>{I.push(`<tr>${t.map((t=>{const l=t.headerAlign||t.align||u||p,o=S(t,"showHeaderOverflow",g)?["col--ellipsis"]:[],r=b(n,t);let a=0,i=0;e.eachTree([t],(e=>{e.childNodes&&t.childNodes.length||i++,a+=e.renderWidth}),{children:"childNodes"});const s=a-i;return l&&o.push(`col--${l}`),"checkbox"===t.type?`<th class="${o.join(" ")}" colspan="${t._colSpan}" rowspan="${t._rowSpan}"><div ${y?"":`style="width: ${s}px"`}><input type="checkbox" class="${M}" ${h?"checked":""}><span>${r}</span></div></th>`:`<th class="${o.join(" ")}" colspan="${t._colSpan}" rowspan="${t._rowSpan}" title="${r}"><div ${y?"":`style="width: ${s}px"`}><span>${V(r,!0)}</span></div></th>`})).join("")}</tr>`)})):I.push(`<tr>${a.map((e=>{const t=e.headerAlign||e.align||u||p,l=S(e,"showHeaderOverflow",g)?["col--ellipsis"]:[],o=b(n,e);return t&&l.push(`col--${t}`),"checkbox"===e.type?`<th class="${l.join(" ")}"><div ${y?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${M}" ${h?"checked":""}><span>${o}</span></div></th>`:`<th class="${l.join(" ")}" title="${o}"><div ${y?"":`style="width: ${e.renderWidth}px"`}><span>${V(o,!0)}</span></div></th>`})).join("")}</tr>`),I.push("</thead>")),i.length&&(I.push("<tbody>"),d?i.forEach((e=>{I.push("<tr>"+a.map((t=>{const l=t.align||p,o=S(t,"showOverflow",f)?["col--ellipsis"]:[],n=e[t.id];if(l&&o.push(`col--${l}`),t.treeNode){let l="";return e._hasChild&&(l=`<i class="${e._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),o.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${o.join(" ")}" title="${n}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${l}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${xo(n)?"checked":""}><span>${e._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}" title="${n}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${l}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${xo(n)?"checked":""}><span>${e._checkboxLabel}</span></div></div></div></td>`:`<td class="${o.join(" ")}" title="${n}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${l}</div><div class="vxe-table--tree-cell">${n}</div></div></div></td>`}return"radio"===t.type?`<td class="${o.join(" ")}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${xo(n)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${xo(n)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${o.join(" ")}" title="${n}"><div ${y?"":`style="width: ${t.renderWidth}px"`}>${V(n,!0)}</div></td>`})).join("")+"</tr>")})):i.forEach((e=>{I.push("<tr>"+a.map((l=>{const o=l.align||p,n=S(l,"showOverflow",f)?["col--ellipsis"]:[],r=e[l.id];let a=1,i=1;if(R&&x.length){const o=t.getVTRowIndex(e._row),n=t.getVTColumnIndex(l),r=$e(x,o,n);if(r){const{rowspan:e,colspan:t}=r;if(!e||!t)return"";e>1&&(a=e),t>1&&(i=t)}}return o&&n.push(`col--${o}`),"radio"===l.type?`<td class="${n.join(" ")}" rowspan="${a}" colspan="${i}"><div ${y?"":`style="width: ${l.renderWidth}px"`}><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${xo(r)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===l.type?`<td class="${n.join(" ")}" rowspan="${a}" colspan="${i}"><div ${y?"":`style="width: ${l.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${xo(r)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${n.join(" ")}" rowspan="${a}" colspan="${i}" title="${r}"><div ${y?"":`style="width: ${l.renderWidth}px"`}>${V(r,!0)}</div></td>`})).join("")+"</tr>")})),I.push("</tbody>")),T){const{footerTableData:e}=o,t=wo(n,e);t.length&&(I.push("<tfoot>"),t.forEach((e=>{I.push(`<tr>${a.map((t=>{const l=t.footerAlign||t.align||m||p,o=S(t,"showOverflow",f)?["col--ellipsis"]:[],r=C(n,e,t);return l&&o.push(`col--${l}`),`<td class="${o.join(" ")}" title="${r}"><div ${y?"":`style="width: ${t.renderWidth}px"`}>${V(r,!0)}</div></td>`})).join("")}</tr>`)})),I.push("</tfoot>"))}const D=!h&&v?`<script>(function(){var a=document.querySelector(".${M}");if(a){a.indeterminate=true}})()<\/script>`:"";return I.push("</table>",D),y?I.join(""):ao(n,I.join(""))})(n,a,i);case"xml":return((e,t,l)=>{let n=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${e.sheetName}">`,"<Table>",t.map((e=>`<Column ss:Width="${e.renderWidth}"/>`)).join("")].join("");if(e.isHeader&&(n+=`<Row>${t.map((t=>`<Cell><Data ss:Type="String">${b(e,t)}</Data></Cell>`)).join("")}</Row>`),l.forEach((e=>{n+="<Row>"+t.map((t=>`<Cell><Data ss:Type="String">${e[t.id]}</Data></Cell>`)).join("")+"</Row>"})),e.isFooter){const{footerTableData:l}=o;wo(e,l).forEach((l=>{n+=`<Row>${t.map((t=>`<Cell><Data ss:Type="String">${C(e,l,t)}</Data></Cell>`)).join("")}</Row>`}))}return`${n}</Table></Worksheet></Workbook>`})(n,a,i)}return""},O=e=>{const{remote:l,columns:o,colgroups:n,exportMethod:r,afterExportMethod:a}=e;return new Promise((a=>{if(l){const l={options:e,$table:t,$grid:h};a(r?r(l):l)}else{const l=(e=>{const{columns:t,dataFilterMethod:l}=e;let o=e.data;return l&&(o=o.filter(((e,t)=>l({row:e,$rowIndex:t})))),w(e,t,o)})(e);a(t.preventEvent(null,"event.export",{options:e,columns:o,colgroups:n,datas:l},(()=>((e,t)=>{const{filename:l,type:o,download:n}=e;if(!n){const l=ro(t,e);return Promise.resolve({type:o,content:t,blob:l})}mo({filename:l,type:o,content:t}).then((()=>{!1!==e.message&&Xt.modal.message({content:E.i18n("vxe.table.expSuccess"),status:"success"})}))})(e,T(e,o,l)))))}})).then((l=>(Ro(o),e.print||a&&a({status:!0,options:e,$table:t,$grid:h}),Object.assign({status:!0},l)))).catch((()=>{Ro(o),e.print||a&&a({status:!1,options:e,$table:t,$grid:h});return Promise.reject({status:!1})}))},k=(l,o)=>{const{tableFullColumn:r,_importResolve:a,_importReject:i}=n;let s={fields:[],rows:[]};switch(o.type){case"csv":s=function(e,t){return Oo(0,t,",")}(0,l);break;case"txt":s=function(e,t){return Oo(0,t,"\t")}(0,l);break;case"html":s=function(t,l){const o=yo((new DOMParser).parseFromString(l,"text/html"),"body"),n=[],r=[];if(o.length){const t=yo(o[0],"table");if(t.length){const l=yo(t[0],"thead");if(l.length){e.arrayEach(yo(l[0],"tr"),(t=>{e.arrayEach(yo(t,"th"),(e=>{r.push(e.textContent)}))}));const o=yo(t[0],"tbody");o.length&&e.arrayEach(yo(o[0],"tr"),(t=>{const l={};e.arrayEach(yo(t,"td"),((e,t)=>{r[t]&&(l[r[t]]=e.textContent||"")})),n.push(l)}))}}}return{fields:r,rows:n}}(0,l);break;case"xml":s=function(t,l){const o=yo((new DOMParser).parseFromString(l,"application/xml"),"Worksheet"),n=[],r=[];if(o.length){const t=yo(o[0],"Table");if(t.length){const l=yo(t[0],"Row");l.length&&(e.arrayEach(yo(l[0],"Cell"),(e=>{r.push(e.textContent)})),e.arrayEach(l,((t,l)=>{if(l){const l={},o=yo(t,"Cell");e.arrayEach(o,((e,t)=>{r[t]&&(l[r[t]]=e.textContent)})),n.push(l)}})))}}return{fields:r,rows:n}}(0,l)}const{fields:c,rows:d}=s,u=function(e,t){const l=[];return e.forEach((e=>{const t=e.property;t&&l.push(t)})),t.some((e=>l.indexOf(e)>-1))}(r,c);u?t.createData(d).then((e=>{let l;return l="insert"===o.mode?t.insert(e):t.reloadData(e),!1!==o.message&&Xt.modal.message({content:E.i18n("vxe.table.impSuccess",[d.length]),status:"success"}),l.then((()=>{a&&a({status:!0})}))})):!1!==o.message&&(Xt.modal.message({content:E.i18n("vxe.error.impFields"),status:"error"}),i&&i({status:!1}))},$=(l,o)=>{const{importMethod:r,afterImportMethod:a}=o,{type:i,filename:s}=F(l);if(!r&&!e.includes(Xt.globalConfs.importTypes,i)){!1!==o.message&&Xt.modal.message({content:E.i18n("vxe.error.notType",[i]),status:"error"});const e={status:!1};return Promise.reject(e)}return new Promise(((e,a)=>{const c=t=>{e(t),n._importResolve=null,n._importReject=null},d=e=>{a(e),n._importResolve=null,n._importReject=null};if(n._importResolve=c,n._importReject=d,window.FileReader){const e=Object.assign({mode:"insert"},o,{type:i,filename:s});if(e.remote)r?Promise.resolve(r({file:l,options:e,$table:t})).then((()=>{c({status:!0})})).catch((()=>{c({status:!0})})):c({status:!0});else{const{tableFullColumn:o}=n;t.preventEvent(null,"event.import",{file:l,options:e,columns:o},(()=>{const t=new FileReader;t.onerror=()=>{R("vxe.error.notType",[i]),d({status:!1})},t.onload=t=>{k(t.target.result,e)},t.readAsText(l,e.encoding||"UTF-8")}))}}else c({status:!0})})).then((()=>{a&&a({status:!0,options:o,$table:t})})).catch((e=>(a&&a({status:!1,options:o,$table:t}),Promise.reject(e))))},M=(r,a)=>{const{treeConfig:i,showHeader:s,showFooter:d}=l,{initStore:p,mergeList:m,isGroup:f,footerTableData:g,exportStore:h,exportParams:v}=o,{collectColumn:b}=n,x=i,w=u.value,C=t.getCheckboxRecords(),y=!!g.length,E=!x&&m.length,S=Object.assign({message:!0,isHeader:s,isFooter:d},r),T=S.types||Xt.globalConfs.exportTypes,O=S.modes,R=w.checkMethod,k=b.slice(0),{columns:$}=S,M=T.map((e=>({value:e,label:`vxe.export.types.${e}`}))),I=O.map((e=>({value:e,label:`vxe.export.modes.${e}`})));return e.eachTree(k,((t,l,o,n,r)=>{(t.children&&t.children.length||ho(t))&&(t.checked=$?$.some((l=>{if(Se(l))return t===l;if(e.isString(l))return t.field===l;{const e=l.id||l.colId,o=l.type,n=l.property||l.field;if(e)return t.id===e;if(n&&o)return t.property===n&&t.type===o;if(n)return t.property===n;if(o)return t.type===o}return!1})):t.visible,t.halfChecked=!1,t.disabled=r&&r.disabled||!!R&&!R({column:t}))})),Object.assign(h,{columns:k,typeList:M,modeList:I,hasFooter:y,hasMerge:E,hasTree:x,isPrint:a,hasColgroup:f,visible:!0}),Object.assign(v,{mode:C.length?"selected":"current"},S),-1===O.indexOf(v.mode)&&(v.mode=O[0]),-1===T.indexOf(v.type)&&(v.type=T[0]),p.export=!0,c()},I={exportData(a){const{treeConfig:i}=l,{isGroup:c,tableGroupColumn:d}=o,{tableFullColumn:u,afterFullData:p}=n,m=s.value,f=r.value,g=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},m,{print:!1},a),{type:v,mode:b,columns:x,original:w,beforeExportMethod:C}=g;let y=[];const S=x&&x.length?x:null;let T=g.columnFilterMethod;S||T||(T=w?({column:e})=>e.property:({column:e})=>ho(e)),S?(g._isCustomColumn=!0,y=e.searchTree(e.mapTree(S,(l=>{let o;if(l){if(Se(l))o=l;else if(e.isString(l))o=t.getColumnByField(l);else{const e=l.id||l.colId,n=l.type,r=l.property||l.field;e?o=t.getColumnById(e):r&&n?o=u.find((e=>e.property===r&&e.type===n)):r?o=t.getColumnByField(r):n&&(o=u.find((e=>e.type===n)))}return o||{}}}),{children:"childNodes",mapChildren:"_children"}),((e,t)=>Se(e)&&(!T||T({column:e,$columnIndex:t}))),{children:"_children",mapChildren:"childNodes",original:!0})):y=e.searchTree(c?d:u,((e,t)=>e.visible&&(!T||T({column:e,$columnIndex:t}))),{children:"children",mapChildren:"childNodes",original:!0});const R=[];if(e.eachTree(y,(e=>{e.children&&e.children.length||R.push(e)}),{children:"childNodes"}),g.columns=R,g.colgroups=(e=>{let t=1;const l=(e,o)=>{if(o&&(e._level=o._level+1,t<e._level&&(t=e._level)),e.childNodes&&e.childNodes.length){let t=0;e.childNodes.forEach((o=>{l(o,e),t+=o._colSpan})),e._colSpan=t}else e._colSpan=1};e.forEach((e=>{e._level=1,l(e)}));const o=[];for(let n=0;n<t;n++)o.push([]);return vo(e).forEach((e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,o[e._level-1].push(e)})),o})(y),g.filename||(g.filename=E.i18n(g.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[e.toDateString(Date.now(),"yyyyMMddHHmmss")])),g.sheetName||(g.sheetName=document.title),!g.exportMethod&&!e.includes(Xt.globalConfs.exportTypes,v)){const e={status:!1};return Promise.reject(e)}if(g.print||C&&C({options:g,$table:t,$grid:h}),!g.data)if(g.data=p,"selected"===b){const l=t.getCheckboxRecords();["html","pdf"].indexOf(v)>-1&&i?g.data=e.searchTree(t.getTableData().fullData,(e=>t.findRowIndexOf(l,e)>-1),Object.assign({},f,{data:"_row"})):g.data=l}else if("all"===b&&h&&!g.remote){const{reactData:l}=h,{computeProxyOpts:o}=h.getComputeMaps(),n=o.value,{beforeQueryAll:r,afterQueryAll:a,ajax:i={},props:s={}}=n,c=i.queryAll;if(c){const o={$table:t,$grid:h,sort:l.sortData,filters:l.filterData,form:l.formData,target:c,options:g};return Promise.resolve((r||c)(o)).catch((e=>e)).then((t=>(g.data=(s.list?e.get(t,s.list):t)||[],a&&a(o),O(g))))}}return O(g)},importByFile(e,l){const o=Object.assign({},l),{beforeImportMethod:n}=o;return n&&n({options:o,$table:t}),$(e,o)},importData(e){const l=d.value,o=Object.assign({types:Xt.globalConfs.importTypes},l,e),{beforeImportMethod:n,afterImportMethod:r}=o;return n&&n({options:o,$table:t}),io(o).catch((e=>(r&&r({status:!1,options:o,$table:t}),Promise.reject(e)))).then((e=>{const{file:t}=e;return $(t,o)}))},saveFile:e=>mo(e),readFile:e=>io(e),print(e){const l=a.value,o=Object.assign({original:!1},l,e,{type:"html",download:!1,remote:!1,print:!0});return o.sheetName||(o.sheetName=document.title),new Promise((e=>{o.content?e(po(t,o,o.content)):e(I.exportData(o).then((({content:e})=>po(t,o,e))))}))},openImport(e){const{treeConfig:t,importConfig:n}=l,{initStore:r,importStore:a,importParams:i}=o,s=d.value,c=Object.assign({mode:"insert",message:!0,types:Xt.globalConfs.importTypes},e,s),{types:u}=c;if(!!t)return void(c.message&&Xt.modal.message({content:E.i18n("vxe.error.treeNotImp"),status:"error"}));n||R("vxe.error.reqProp",["import-config"]);const p=u.map((e=>({value:e,label:`vxe.export.types.${e}`}))),m=c.modes.map((e=>({value:e,label:`vxe.import.modes.${e}`})));Object.assign(a,{file:null,type:"",filename:"",modeList:m,typeList:p,visible:!0}),Object.assign(i,c),r.import=!0},openExport(e){const t=s.value;M(Object.assign({},t,e))},openPrint(e){const t=a.value;M(Object.assign({},t,e),!0)}};return I},setupGrid:e=>e.extendTableMethods(ko)},Mo=e=>{const t=Object.assign({},e,{type:"html"});po(null,t,t.content)},Io={ExportPanel:Gl,ImportPanel:Ql,install(e){Xt.saveFile=mo,Xt.readFile=io,Xt.print=Mo,Xt.setConfig({export:{types:{csv:0,html:0,xml:0,txt:0}}}),Xt.hooks.add("$tableExport",$o),e.component(Gl.name,Gl),e.component(Ql.name,Ql)}},Do=Io;tl.component(Gl.name,Gl),tl.component(Ql.name,Ql);const Fo={setupTable(t){const{props:l,reactData:o,internalData:n}=t,{refElem:r}=t.getRefMaps(),{computeEditOpts:a,computeCheckboxOpts:i,computeMouseOpts:s,computeTreeOpts:c}=t.getComputeMaps();const d=(l,a)=>{const{column:i,cell:s}=a;if("checkbox"===i.type){const c=r.value,{elemStore:d}=n,u=l.clientX,p=l.clientY,m=d[`${i.fixed||"main"}-body-wrapper`]||d["main-body-wrapper"],f=m?m.value:null;if(!f)return;const g=f.querySelector(".vxe-table--checkbox-range"),h=document.onmousemove,v=document.onmouseup,b=s.parentNode,x=t.getCheckboxRecords();let w=[];const C=1,y=function(t,l){let o=0,n=0;const r=!H.firefox&&X(t,"vxe-checkbox--label");if(r){const l=getComputedStyle(t);o-=e.toNumber(l.paddingTop),n-=e.toNumber(l.paddingLeft)}for(;t&&t!==l;)if(o+=t.offsetTop,n+=t.offsetLeft,t=t.offsetParent,r){const l=getComputedStyle(t);o-=e.toNumber(l.paddingTop),n-=e.toNumber(l.paddingLeft)}return{offsetTop:o,offsetLeft:n}}(l.target,f),E=y.offsetTop+l.offsetY,S=y.offsetLeft+l.offsetX,T=f.scrollTop,O=b.offsetHeight;let R=null,k=!1,$=1;const M=(e,l)=>{t.dispatchEvent(`checkbox-range-${e}`,{records:t.getCheckboxRecords(),reserves:t.getCheckboxReserveRecords()},l)},I=e=>{const{clientX:l,clientY:r}=e,i=l-u,s=r-p+(f.scrollTop-T);let c=Math.abs(s),d=Math.abs(i),m=E,h=S;s<C?(m+=s,m<C&&(m=C,c=E)):c=Math.min(c,f.scrollHeight-E-C),i<C?(h+=i,d>S&&(h=C,d=S)):d=Math.min(d,f.clientWidth-S-C),g.style.height=`${c}px`,g.style.width=`${d}px`,g.style.left=`${h}px`,g.style.top=`${m}px`,g.style.display="block";const v=function(e,l,r){let a=0,i=[];const s=r>0,c=r>0?r:Math.abs(r)+l.offsetHeight,{scrollYLoad:d}=o,{afterFullData:u,scrollYStore:p}=n;if(d){const l=t.getVTRowIndex(e.row);i=s?u.slice(l,l+Math.ceil(c/p.rowHeight)):u.slice(l-Math.floor(c/p.rowHeight)+1,l+1)}else{const e=s?"next":"previous";for(;l&&a<c;){const o=t.getRowNode(l);o&&(i.push(o.item),a+=l.offsetHeight,l=l[`${e}ElementSibling`])}}return i}(a,b,s<C?-c:c);c>10&&v.length!==w.length&&(w=v,e.ctrlKey?v.forEach((e=>{t.handleSelectRow({row:e},-1===x.indexOf(e))})):(t.setAllCheckboxRow(!1),t.handleCheckedCheckboxRow(v,!0,!1)),M("change",e))},D=()=>{clearTimeout(R),R=null},F=e=>{D(),R=setTimeout((()=>{if(R){const{scrollLeft:l,scrollTop:o,clientHeight:n,scrollHeight:r}=f,a=Math.ceil(50*$/O);k?o+n<r?(t.scrollTo(l,o+a),F(e),I(e)):D():o?(t.scrollTo(l,o-a),F(e),I(e)):D()}}),50)};K(c,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();const{clientY:t}=e,{boundingTop:l}=re(f);t<l?(k=!1,$=l-t,R||F(e)):t>l+f.clientHeight?(k=!0,$=t-l-f.clientHeight,R||F(e)):R&&D(),I(e)},document.onmouseup=e=>{D(),G(c,"drag--range"),g.removeAttribute("style"),document.onmousemove=h,document.onmouseup=v,M("end",e)},M("start",l)}};return{moveTabSelected(e,o,r){const{editConfig:i}=l,{afterFullData:s,visibleColumn:c}=n,d=a.value;let u,p,m;const f=Object.assign({},e),g=t.getVTRowIndex(f.row),h=t.getVTColumnIndex(f.column);r.preventDefault(),o?h<=0?g>0&&(p=g-1,u=s[p],m=c.length-1):m=h-1:h>=c.length-1?g<s.length-1&&(p=g+1,u=s[p],m=0):m=h+1;const v=c[m];v&&(u?(f.rowIndex=p,f.row=u):f.rowIndex=g,f.columnIndex=m,f.column=v,f.cell=t.getCell(f.row,f.column),i?"click"!==d.trigger&&"dblclick"!==d.trigger||("row"===d.mode?t.handleActived(f,r):t.scrollToRow(f.row,f.column).then((()=>t.handleSelected(f,r)))):t.scrollToRow(f.row,f.column).then((()=>t.handleSelected(f,r))))},moveCurrentRow(r,a,i){const{treeConfig:s}=l,{currentRow:d}=o,{afterFullData:u}=n,p=c.value,m=p.children||p.childrenField;let f;if(i.preventDefault(),d)if(s){const{index:t,items:l}=e.findTree(u,(e=>e===d),{children:m});r&&t>0?f=l[t-1]:a&&t<l.length-1&&(f=l[t+1])}else{const e=t.getVTRowIndex(d);r&&e>0?f=u[e-1]:a&&e<u.length-1&&(f=u[e+1])}else f=u[0];if(f){const e={$table:t,row:f,rowIndex:t.getRowIndex(f),$rowIndex:t.getVMRowIndex(f)};t.scrollToRow(f).then((()=>t.triggerCurrentRowEvent(i,e)))}},moveSelected(e,l,o,r,a,i){const{afterFullData:s,visibleColumn:c}=n,d=Object.assign({},e),u=t.getVTRowIndex(d.row),p=t.getVTColumnIndex(d.column);i.preventDefault(),o&&u>0?(d.rowIndex=u-1,d.row=s[d.rowIndex]):a&&u<s.length-1?(d.rowIndex=u+1,d.row=s[d.rowIndex]):l&&p?(d.columnIndex=p-1,d.column=c[d.columnIndex]):r&&p<c.length-1&&(d.columnIndex=p+1,d.column=c[d.columnIndex]),t.scrollToRow(d.row,d.column).then((()=>{d.cell=t.getCell(d.row,d.column),t.handleSelected(d,i)}))},triggerHeaderCellMousedownEvent(e,o){const{mouseConfig:n}=l,r=s.value;if(n&&r.area&&t.handleHeaderCellAreaEvent){const l=e.currentTarget,n=oe(e,l,"vxe-cell--sort").flag,r=oe(e,l,"vxe-cell--filter").flag;t.handleHeaderCellAreaEvent(e,Object.assign({cell:l,triggerSort:n,triggerFilter:r},o))}t.focus(),t.closeMenu&&t.closeMenu()},triggerCellMousedownEvent(e,o){const n=e.currentTarget;o.cell=n,((e,o)=>{const{editConfig:n,checkboxConfig:r,mouseConfig:c}=l,u=i.value,p=s.value,m=a.value;if(c&&p.area&&t.handleCellAreaEvent)return t.handleCellAreaEvent(e,o);r&&u.range&&d(e,o),c&&p.selected&&(n&&"cell"!==m.mode||t.handleSelected(o,e))})(e,o),t.focus(),t.closeFilter(),t.closeMenu&&t.closeMenu()}}}},No={install(){Xt.hooks.add("$tableKeyboard",Fo)}},Lo=No;let Ao=class{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return P(this.$options.content||this.$options.message)}get message(){return this.content}};const Po=["fullValidate","validate","clearValidate"],Vo={setupTable(t){const{props:l,reactData:o,internalData:n}=t,{refValidTooltip:r}=t.getRefMaps(),{computeValidOpts:a,computeTreeOpts:i,computeEditOpts:s}=t.getComputeMaps();let d,u={},p={};const m=(r,s,m)=>{const f={},{editRules:g,treeConfig:h}=l,{afterFullData:v,visibleColumn:b}=n,x=i.value,w=x.children||x.childrenField,C=a.value;let y;!0===r?y=v:r&&(e.isFunction(r)?s=r:y=e.isArray(r)?r:[r]),y||(y=t.getInsertRecords?t.getInsertRecords().concat(t.getUpdateRecords()):[]);const S=[];n._lastCallTime=Date.now(),d=!1,u.clearValidate();const T={};if(g){const l=t.getColumns(),n=o=>{if(m||!d){const n=[];l.forEach((l=>{!m&&d||!e.has(g,l.property)||n.push(p.validCellRules("all",o,l).catch((({rule:e,rules:n})=>{const r={rule:e,rules:n,rowIndex:t.getRowIndex(o),row:o,columnIndex:t.getColumnIndex(l),column:l,field:l.property,$table:t};if(f[l.property]||(f[l.property]=[]),T[`${he(t,o)}:${l.id}`]={column:l,row:o,rule:e,content:e.content},f[l.property].push(r),!m)return d=!0,Promise.reject(r)})))})),S.push(Promise.all(n))}};return h?e.eachTree(y,n,{children:w}):y.forEach(n),Promise.all(S).then((()=>{const e=Object.keys(f);return o.validErrorMaps=(e=>{if("single"===a.value.msgMode){const t=Object.keys(e),l=e;if(t.length){const o=t[0];l[o]=e[o]}return l}return e})(T),c().then((()=>{if(e.length)return Promise.reject(f[e[0]][0]);s&&s()}))})).catch((e=>new Promise(((l,o)=>{const n=()=>{c((()=>{s?(s(f),l()):"obsolete"===E.validToReject?o(f):l(f)}))},r=()=>{var l;e.cell=t.getCell(e.row,e.column),se(e.cell),(l=e,new Promise((e=>{!1===a.value.autoPos?(t.dispatchEvent("valid-error",l,null),e()):t.handleActived(l,{type:"valid-error",trigger:"call"}).then((()=>{e(p.showValidTooltip(l))}))}))).then(n)};if(!1===C.autoPos)n();else{const l=e.row,o=e.column,n=v.indexOf(l),a=b.indexOf(o),i=n>0?v[n-1]:l,s=a>0?b[a-1]:o;t.scrollToRow(i,s).then(r)}}))))}return o.validErrorMaps={},c().then((()=>{s&&s()}))};u={fullValidate:(e,t)=>m(e,t,!0),validate:(e,t)=>m(e,t),clearValidate(l,n){const{validErrorMaps:i}=o,s=r.value,d=a.value,u=e.isArray(l)?l:l?[l]:[],p=e.isArray(n)?n:(n?[n]:[]).map((e=>ve(t,e)));let m={};if(s&&s.reactData.visible&&s.close(),"single"===d.msgMode)return o.validErrorMaps={},c();if(u.length&&p.length)m=Object.assign({},i),u.forEach((e=>{p.forEach((l=>{const o=`${he(t,e)}:${l.id}`;m[o]&&delete m[o]}))}));else if(u.length){const l=u.map((e=>`${he(t,e)}`));e.each(i,((e,t)=>{l.indexOf(t.split(":")[0])>-1&&(m[t]=e)}))}else if(p.length){const t=p.map((e=>`${e.id}`));e.each(i,((e,l)=>{t.indexOf(l.split(":")[1])>-1&&(m[l]=e)}))}return o.validErrorMaps=m,c()}};const f=(t,l)=>{const{type:o,min:n,max:r,pattern:a}=t,i="number"===o,s=i?e.toNumber(l):e.getSize(l);return!(!i||!isNaN(l))||(!e.eqNull(n)&&s<e.toNumber(n)||(!e.eqNull(r)&&s>e.toNumber(r)||!(!a||(e.isRegExp(a)?a:new RegExp(a)).test(l))))};return p={validCellRules(o,n,r,a){const{editRules:i}=l,{field:s}=r,c=[],u=[];if(s&&i){const l=e.get(i,s);if(l){const i=e.isUndefined(a)?e.get(n,s):a;l.forEach((a=>{const{type:s,trigger:p,required:m,validator:g}=a;if("all"===o||!p||o===p)if(g){const o={cellValue:i,rule:a,rules:l,row:n,rowIndex:t.getRowIndex(n),column:r,columnIndex:t.getColumnIndex(r),field:r.field,$table:t,$grid:t.xegrid};let s;if(e.isString(g)){const e=Xt.validators.get(g);e&&e.cellValidatorMethod&&(s=e.cellValidatorMethod(o))}else s=g(o);s&&(e.isError(s)?(d=!0,c.push(new Ao({type:"custom",trigger:p,content:s.message,rule:new Ao(a)}))):s.catch&&u.push(s.catch((e=>{d=!0,c.push(new Ao({type:"custom",trigger:p,content:e&&e.message?e.message:a.content||a.message,rule:new Ao(a)}))}))))}else{const t="array"===s,l=e.isArray(i);let o=!0;o=t||l?!l||!i.length:e.isString(i)?j(i.trim()):j(i),(m?o||f(a,i):!o&&f(a,i))&&(d=!0,c.push(new Ao(a)))}}))}}return Promise.all(u).then((()=>{if(c.length){const e={rules:c,rule:c[0]};return Promise.reject(e)}}))},hasCellRules(t,o,n){const{editRules:r}=l,{field:a}=n;if(a&&r){const l=e.get(r,a);return l&&!!e.find(l,(e=>"all"===t||!e.trigger||t===e.trigger))}return!1},triggerValidate(e){const{editConfig:t,editRules:n}=l,{editStore:r}=o,{actived:i}=r,c=s.value,d=a.value;if(n&&"single"===d.msgMode&&(o.validErrorMaps={}),t&&n&&i.row){const{row:t,column:l,cell:o}=i.args;if(p.hasCellRules(e,t,l))return p.validCellRules(e,t,l).then((()=>{"row"===c.mode&&u.clearValidate(t,l)})).catch((({rule:n})=>{if(!n.trigger||e===n.trigger){const e={rule:n,row:t,column:l,cell:o};return p.showValidTooltip(e),Promise.reject(e)}return Promise.resolve()}))}return Promise.resolve()},showValidTooltip(e){const{height:n}=l,{tableData:i,validStore:s,validErrorMaps:d}=o,{rule:u,row:p,column:m,cell:f}=e,g=a.value,h=r.value,v=u.content;return s.visible=!0,"single"===g.msgMode?o.validErrorMaps={[`${he(t,p)}:${m.id}`]:{column:m,row:p,rule:u,content:v}}:o.validErrorMaps=Object.assign({},d,{[`${he(t,p)}:${m.id}`]:{column:m,row:p,rule:u,content:v}}),t.dispatchEvent("valid-error",e,null),h&&h&&("tooltip"===g.message||"default"===g.message&&!n&&i.length<2)?h.open(f,v):c()}},Object.assign(Object.assign({},u),p)},setupGrid:e=>e.extendTableMethods(Po)},jo={install(){Xt.hooks.add("$tableValidator",Vo)}},Bo=jo,_o=a({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>E.tooltip.size||E.size},trigger:{type:String,default:()=>E.tooltip.trigger||"hover"},theme:{type:String,default:()=>E.tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:()=>E.tooltip.enterDelay},leaveDelay:{type:Number,default:()=>E.tooltip.leaveDelay}},emits:["update:modelValue"],setup(t,r){const{slots:a,emit:i}=r,s=e.uniqueId(),d=Nl(t),u=o({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),m=p(),f={refElem:m},h={xID:s,props:t,context:r,reactData:u,getRefMaps:()=>f};let b={};const x=()=>{const{tipTarget:e,tipStore:t}=u;if(e){const{scrollTop:l,scrollLeft:o,visibleWidth:n}=Z(),{top:r,left:a}=re(e),i=m.value,s=6,c=i.offsetHeight,d=i.offsetWidth;let u=a,p=r-c-s;u=Math.max(s,a+Math.floor((e.offsetWidth-d)/2)),u+d+s>o+n&&(u=o+n-d-s),r-c<l+s&&(t.placement="bottom",p=r+e.offsetHeight+s),t.style.top=`${p}px`,t.style.left=`${u}px`,t.arrowStyle.left=a-u+e.offsetWidth/2+"px"}},w=e=>{e!==u.visible&&(u.visible=e,u.isUpdate=!0,i("update:modelValue",e))},C=()=>{u.visible?b.close():b.open()},y=()=>{b.open()},E=()=>{const{trigger:e,enterable:l,leaveDelay:o}=t;u.tipActive=!1,l&&"hover"===e?setTimeout((()=>{u.tipActive||b.close()}),o):b.close()},S=()=>{u.tipActive=!0},T=()=>{const{trigger:e,enterable:l,leaveDelay:o}=t;u.tipActive=!1,l&&"hover"===e&&setTimeout((()=>{u.tipActive||b.close()}),o)},O=()=>{const{tipStore:e}=u,l=m.value;if(l){l.parentNode||document.body.appendChild(l)}return w(!0),u.tipZindex<L()&&(u.tipZindex=N()),e.placement="top",e.style={width:"auto",left:0,top:0,zIndex:t.zIndex||u.tipZindex},e.arrowStyle={left:"50%"},b.updatePlacement()},R=e.debounce((()=>{u.tipActive&&O()}),t.enterDelay,{leading:!1,trailing:!0});b={dispatchEvent(e,t,l){i(e,Object.assign({$tooltip:h,$event:l},t))},open:(e,t)=>b.toVisible(e||u.target,t),close:()=>(u.tipTarget=null,u.tipActive=!1,Object.assign(u.tipStore,{style:{},placement:"",arrowStyle:null}),w(!1),c()),toVisible(e,l){if(e){const{trigger:o,enterDelay:n}=t;if(u.tipActive=!0,u.tipTarget=e,l&&(u.tipContent=l),!n||"hover"!==o)return O();R()}return c()},updatePlacement:()=>c().then((()=>{const{tipTarget:e}=u,t=m.value;if(e&&t)return x(),c().then(x)})),isActived:()=>u.tipActive,setActived(e){u.tipActive=!!e}},Object.assign(h,b),l((()=>t.content),(()=>{u.tipContent=t.content})),l((()=>t.modelValue),(()=>{u.isUpdate||(t.modelValue?b.open():b.close()),u.isUpdate=!1})),g((()=>{c((()=>{const{trigger:l,content:o,modelValue:n}=t,r=m.value;if(r){const t=r.parentNode;if(t){u.tipContent=o,u.tipZindex=N(),e.arrayEach(r.children,((e,l)=>{l>1&&(t.insertBefore(e,r),u.target||(u.target=e))})),t.removeChild(r);const{target:a}=u;a&&("hover"===l?(a.onmouseenter=y,a.onmouseleave=E):"click"===l&&(a.onclick=C)),n&&b.open()}}}))})),v((()=>{const{trigger:e}=t,{target:l}=u,o=m.value;if(l&&("hover"===e?(l.onmouseenter=null,l.onmouseleave=null):"click"===e&&(l.onclick=null)),o){const e=o.parentNode;e&&e.removeChild(o)}}));const k=()=>{const{useHTML:e}=t,{tipContent:l}=u,o=a.content;return o?n("div",{key:1,class:"vxe-table--tooltip-content"},De(o({}))):e?n("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:l}):n("div",{key:3,class:"vxe-table--tooltip-content"},V(l))};return h.renderVN=()=>{const{popupClassName:l,theme:o,isArrow:r,enterable:i}=t,{tipActive:s,visible:c,tipStore:p}=u,f=a.default,g=d.value;let v;return i&&(v={onMouseenter:S,onMouseleave:T}),n("div",Object.assign({ref:m,class:["vxe-table--tooltip-wrapper",`theme--${o}`,l?e.isFunction(l)?l({$tooltip:h}):l:"",{[`size--${g}`]:g,[`placement--${p.placement}`]:p.placement,"is--enterable":i,"is--visible":c,"is--arrow":r,"is--active":s}],style:p.style},v),[k(),n("div",{class:"vxe-table--tooltip-arrow",style:p.arrowStyle}),...f?De(f({})):[]])},h},render(){return this.renderVN()}}),Ho=a({name:"VxeTableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(t){const l=i("$xetable",{}),{reactData:o}=l,{computeCustomOpts:r,computeColumnOpts:a,computeIsMaxFixedColumn:s}=l.getComputeMaps(),c=p(),d=p(),u=p(),m=p();let f;const g=e=>{const{customStore:o}=t;o.activeWrapper=!0,l.customOpenEvent(e)},h=e=>{const{customStore:o}=t;o.activeWrapper=!1,setTimeout((()=>{o.activeBtn||o.activeWrapper||l.customColseEvent(e)}),300)},v=e=>{M(),l.closeCustom(),l.emitCustomEvent("confirm",e)},x=e=>{l.closeCustom(),l.emitCustomEvent("cancel",e)},w=e=>{l.resetColumn(!0),l.closeCustom(),l.emitCustomEvent("reset",e)},C=e=>{Xt.modal?Xt.modal.confirm({content:E.i18n("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then((t=>{"confirm"===t&&w(e)})):w(e)},y=t=>{const{customColumnList:l}=o,n=e.findTree(l,(e=>e===t));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.visible=e.children.every((e=>e.visible)),e.halfVisible=!e.visible&&e.children.some((e=>e.visible||e.halfVisible)),y(e))}},S=t=>{const o=!t.visible,n=r.value;e.eachTree([t],(e=>{e.visible=o,e.halfVisible=!1})),y(t),n.immediate&&l.handleCustom(),l.checkCustomStatus()},T=(e,t)=>{const o=s.value;e.fixed===t?l.clearColumnFixed(e):o&&!e.fixed||l.setColumnFixed(e,t)},O=()=>{const{customStore:n}=t,{customColumnList:a}=o,i=r.value,{checkMethod:s}=i,c=!n.isAll;e.eachTree(a,(e=>{s&&!s({column:e})||(e.visible=c,e.halfVisible=!1)})),n.isAll=c,l.checkCustomStatus()},R=e=>{const t=e.currentTarget.parentNode.parentNode,o=t.getAttribute("colid"),n=l.getColumnById(o);t.draggable=!0,m.value=n,K(t,"active--drag-origin")},k=e=>{const t=e.currentTarget.parentNode.parentNode,l=u.value;t.draggable=!1,m.value=null,G(t,"active--drag-origin"),l&&(l.style.display="")},$=e=>{const t=new Image;e.dataTransfer&&e.dataTransfer.setDragImage(t,0,0)},M=()=>{const{customColumnList:e}=o;e.forEach(((e,t)=>{const l=t+1;e.renderSortNumber=l}))},I=t=>{const{customColumnList:n}=o,r=t.currentTarget,a=u.value;if(f){if(f!==r){const t=f.getAttribute("drag-pos"),o=r.getAttribute("colid"),a=l.getColumnById(o);if(!a)return;const i=e.findIndexOf(n,(e=>e.id===a.id)),s=f.getAttribute("colid"),c=l.getColumnById(s);if(!c)return;n.splice(i,1);const d=e.findIndexOf(n,(e=>e.id===c.id));n.splice(d+("bottom"===t?1:0),0,a)}f.draggable=!1,f.removeAttribute("drag-pos"),G(f,"active--drag-target")}m.value=null,r.draggable=!1,r.removeAttribute("drag-pos"),a&&(a.style.display=""),G(r,"active--drag-target"),G(r,"active--drag-origin"),M()},D=e=>{const t=e.currentTarget;f!==t&&G(f,"active--drag-target");const o=t.getAttribute("colid"),n=l.getColumnById(o);if(n&&1===n.level){e.preventDefault();const l=e.clientY-t.getBoundingClientRect().y<t.clientHeight/2?"top":"bottom";K(t,"active--drag-target"),t.setAttribute("drag-pos",l),f=t}F(e)},F=e=>{const t=u.value,l=d.value;if(l&&t){const o=l.parentNode,n=o.getBoundingClientRect();t.style.display="block",t.style.top=`${Math.min(o.clientHeight-o.scrollTop-t.clientHeight,e.clientY-n.y)}px`,t.style.left=`${Math.min(o.clientWidth-o.scrollLeft-t.clientWidth-16,e.clientX-n.x)}px`}},N=()=>{const{customStore:i}=t,{customColumnList:c}=o,p=r.value,{checkMethod:f,visibleMethod:g}=p,h=a.value,w=s.value,y=[];return e.eachTree(c,((e,t,o,r,a)=>{if(!g||g({column:e})){const t=e.visible,o=e.halfVisible,r=V(e.getTitle(),1),i=e.children&&e.children.length,c=!!f&&!f({column:e});y.push(n("tr",{key:e.id,colid:e.id,class:[`vxe-table-custom-popup--row level--${e.level}`,{"is--group":i}],onDragstart:$,onDragend:I,onDragover:D},[n("td",{class:"vxe-table-custom-popup--column-item col--sort"},[1===e.level?n("span",{class:"vxe-table-custom-popup--column-sort-btn",onMousedown:R,onMouseup:k},[n("i",{class:"vxe-icon-sort"})]):null]),n("td",{class:"vxe-table-custom-popup--column-item col--name"},[n("div",{class:"vxe-table-custom-popup--name",title:r},r)]),n("td",{class:"vxe-table-custom-popup--column-item col--visible"},[n("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":o,"is--disabled":c}],onClick:()=>{c||S(e)}},[n("span",{class:["vxe-checkbox--icon",o?E.icon.TABLE_CHECKBOX_INDETERMINATE:t?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]})])]),n("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[!a&&p.allowFixed?n(Jl,{modelValue:e.fixed||"",type:"button",size:"mini",options:[{label:E.i18n("vxe.custom.setting.fixedLeft"),value:"left",disabled:w},{label:E.i18n("vxe.custom.setting.fixedUnset"),value:""},{label:E.i18n("vxe.custom.setting.fixedRight"),value:"right",disabled:w}],"onUpdate:modelValue"(t){e.fixed=t},onChange(){(e=>{s.value||l.setColumnFixed(e,e.fixed)})(e)}}):null])]))}})),n(Bl,{key:"popup",className:"vxe-table-custom-popup-wrapper vxe-table--ignore-clear",modelValue:i.visible,title:E.i18n("vxe.custom.cstmTitle"),width:"40vw",minWidth:520,height:"50vh",minHeight:300,mask:!0,lockView:!0,showFooter:!0,resize:!0,escClosable:!0,destroyOnClose:!0,"onUpdate:modelValue"(e){i.visible=e}},{default:()=>n("div",{ref:d,class:"vxe-table-custom-popup--body"},[n("div",{class:"vxe-table-custom-popup--table-wrapper"},[n("table",{},[n("colgroup",{},[n("col",{style:{width:"80px"}}),n("col",{}),n("col",{style:{width:"80px"}}),n("col",{style:{width:"200px"}})]),n("thead",{},[n("tr",{},[n("th",{},[n("span",{class:"vxe-table-custom-popup--table-sort-help-title"},E.i18n("vxe.custom.setting.colSort")),n(_o,{enterable:!0,content:E.i18n("vxe.custom.setting.sortHelpTip")},{default:()=>n("i",{class:"vxe-table-custom-popup--table-sort-help-icon vxe-icon-question-circle-fill"})})]),n("th",{},E.i18n("vxe.custom.setting.colTitle")),n("th",{},E.i18n("vxe.custom.setting.colVisible")),n("th",{},E.i18n("vxe.custom.setting.colFixed",[h.maxFixedSize||0]))])]),n(b,{class:"vxe-table-custom--body",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>y})])]),n("div",{ref:u,class:"vxe-table-custom-popup--drag-hint"},E.i18n("vxe.custom.cstmDragTarget",[m.value?m.value.getTitle():""]))]),footer:()=>n("div",{class:"vxe-table-custom-popup--footer"},[n(Ll,{content:p.resetButtonText||E.i18n("vxe.custom.cstmRestore"),onClick:C}),n(Ll,{content:p.resetButtonText||E.i18n("vxe.custom.cstmCancel"),onClick:x}),n(Ll,{status:"primary",content:p.confirmButtonText||E.i18n("vxe.custom.cstmConfirm"),onClick:v})])})};return()=>"popup"===r.value.mode?N():(()=>{const{customStore:l}=t,{customColumnList:a}=o,i=r.value,{maxHeight:d}=l,{checkMethod:u,visibleMethod:p,trigger:m}=i,f=s.value,b=[],x={};"hover"===m&&(x.onMouseenter=g,x.onMouseleave=h),e.eachTree(a,((e,t,l,o,r)=>{if(!p||p({column:e})){const t=e.visible,l=e.halfVisible,o=e.children&&e.children.length,a=V(e.getTitle(),1),s=!!u&&!u({column:e});b.push(n("li",{key:e.id,class:["vxe-table-custom--option",`level--${e.level}`,{"is--group":o}]},[n("div",{title:a,class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":l,"is--disabled":s}],onClick:()=>{s||S(e)}},[n("span",{class:["vxe-checkbox--icon",l?E.icon.TABLE_CHECKBOX_INDETERMINATE:t?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]}),n("span",{class:"vxe-checkbox--label"},a)]),!r&&i.allowFixed?n("div",{class:"vxe-table-custom--fixed-option"},[n("span",{class:["vxe-table-custom--fixed-left-option","left"===e.fixed?E.icon.TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:E.icon.TOOLBAR_TOOLS_FIXED_LEFT,{"is--checked":"left"===e.fixed,"is--disabled":f&&!e.fixed}],title:E.i18n("left"===e.fixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{T(e,"left")}}),n("span",{class:["vxe-table-custom--fixed-right-option","right"===e.fixed?E.icon.TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:E.icon.TOOLBAR_TOOLS_FIXED_RIGHT,{"is--checked":"right"===e.fixed,"is--disabled":f&&!e.fixed}],title:E.i18n("right"===e.fixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{T(e,"right")}})]):null]))}}));const C=l.isAll,y=l.isIndeterminate;return n("div",{ref:c,key:"simple",class:["vxe-table-custom-wrapper",{"is--active":l.visible}]},[n("ul",{class:"vxe-table-custom--header"},[n("li",{class:"vxe-table-custom--option"},[n("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":C,"is--indeterminate":y}],title:E.i18n("vxe.table.allTitle"),onClick:O},[n("span",{class:["vxe-checkbox--icon",y?E.icon.TABLE_CHECKBOX_INDETERMINATE:C?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]}),n("span",{class:"vxe-checkbox--label"},E.i18n("vxe.toolbar.customAll"))])])]),n("ul",Object.assign({class:"vxe-table-custom--body",style:d?{maxHeight:`${d}px`}:{}},x),b),i.showFooter?n("div",{class:"vxe-table-custom--footer"},[n("button",{class:"btn--reset",onClick:w},i.resetButtonText||E.i18n("vxe.toolbar.customRestore")),n("button",{class:"btn--confirm",onClick:v},i.confirmButtonText||E.i18n("vxe.toolbar.customConfirm"))]):null])})()}}),zo=["openCustom","closeCustom"],Wo={setupTable(e){const{reactData:t,internalData:l}=e,{computeCustomOpts:o}=e.getComputeMaps(),{refTableHeader:n,refTableBody:r,refTableCustom:a}=e.getRefMaps(),i=e.xegrid,s=()=>{const{customStore:e}=t,l=n.value,o=r.value,i=a.value,s=i?i.$el:null,c=l.$el,d=o.$el;let u=0;c&&(u+=c.clientHeight),d&&(u+=d.clientHeight),e.maxHeight=Math.max(0,s?Math.min(s.clientHeight,u-80):0)},d=()=>{const{initStore:e,customStore:o}=t;return o.visible=!0,e.custom=!0,t.customColumnList=l.collectColumn.slice(0),m(),s(),c().then((()=>s()))},u=()=>{const{customStore:l}=t,n=o.value;return l.visible&&(l.visible=!1,n.immediate||e.handleCustom()),c()},p={openCustom:d,closeCustom:u},m=()=>{const{customStore:e}=t,{collectColumn:n}=l,r=o.value,{checkMethod:a}=r;e.isAll=n.every((e=>!!a&&!a({column:e})||e.visible)),e.isIndeterminate=!e.isAll&&n.some((e=>(!a||a({column:e}))&&(e.visible||e.halfVisible)))},f=(t,l)=>{(i||e).dispatchEvent("custom",{type:t},l)},g={checkCustomStatus:m,emitCustomEvent:f,triggerCustomEvent(t){const{customStore:l}=e.reactData;l.visible?(u(),f("close",t)):(l.btnEl=t.target,d(),f("open",t))},customOpenEvent(l){const{customStore:o}=t;o.visible||(o.activeBtn=!0,o.btnEl=l.target,e.openCustom(),e.emitCustomEvent("open",l))},customColseEvent(l){const{customStore:o}=t;o.visible&&(o.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",l))}};return Object.assign(Object.assign({},p),g)},setupGrid:e=>e.extendTableMethods(zo)},qo={Panel:Ho,install(e){Xt.hooks.add("$tableCustom",Wo),e.component(Ho.name,Ho)}},Uo=qo;tl.component(Ho.name,Ho);const Yo=a({name:"VxeIcon",props:{name:String,roll:Boolean,status:String},emits:["click"],setup(e,{emit:t}){const l=e=>{t("click",{$event:e})};return()=>{const{name:t,roll:o,status:r}=e;return n("i",{class:[`vxe-icon-${t}`,o?"roll":"",r?[`theme--${r}`]:""],onClick:l})}}}),Xo=Object.assign(Yo,{install(e){e.component(Yo.name,Yo)}}),Go=Xo;function Ko(t,l){const{$table:o,column:r}=t,{props:a,reactData:i}=o,{computeTooltipOpts:s}=o.getComputeMaps(),{showHeaderOverflow:c}=a,{type:d,showHeaderOverflow:u}=r,p=s.value.showAll,m=e.isUndefined(u)||e.isNull(u)?c:u,f="title"===m,g=!0===m||"tooltip"===m,h={};return(f||g||p)&&(h.onMouseenter=e=>{i._isResize||(f?le(e.currentTarget,r):(g||p)&&o.triggerHeaderTooltipEvent(e,t))}),(g||p)&&(h.onMouseleave=e=>{i._isResize||(g||p)&&o.handleTargetLeaveEvent(e)}),["html"===d&&e.isString(l)?n("span",Object.assign({class:"vxe-cell--title",innerHTML:l},h)):n("span",Object.assign({class:"vxe-cell--title"},h),De(l))]}function Zo(t){const{$table:l,column:o,_columnIndex:n,items:r,row:a}=t,{slots:i,editRender:s,cellRender:c}=o,d=s||c,u=i?i.footer:null;if(u)return l.callSlot(u,t);if(d){const e=Xt.renderer.get(d.name);if(e&&e.renderFooter)return De(e.renderFooter(d,t))}return e.isArray(r)?[V(r[n],1)]:[V(e.get(a,o.field),1)]}function Jo(e){const{$table:t,row:l,column:o}=e;return V(t.getCellLabel(l,o),1)}tl.component(Xo.name,Xo);const Qo={createColumn(e,t){const{type:l,sortable:n,filters:r,editRender:a,treeNode:i}=t,{props:s}=e,{editConfig:c}=s,{computeEditOpts:d,computeCheckboxOpts:u}=e.getComputeMaps(),p=u.value,m=d.value,f={renderHeader:Qo.renderDefaultHeader,renderCell:i?Qo.renderTreeCell:Qo.renderDefaultCell,renderFooter:Qo.renderDefaultFooter};switch(l){case"seq":f.renderHeader=Qo.renderSeqHeader,f.renderCell=i?Qo.renderTreeIndexCell:Qo.renderSeqCell;break;case"radio":f.renderHeader=Qo.renderRadioHeader,f.renderCell=i?Qo.renderTreeRadioCell:Qo.renderRadioCell;break;case"checkbox":f.renderHeader=Qo.renderCheckboxHeader,f.renderCell=p.checkField?i?Qo.renderTreeSelectionCellByProp:Qo.renderCheckboxCellByProp:i?Qo.renderTreeSelectionCell:Qo.renderCheckboxCell;break;case"expand":f.renderCell=Qo.renderExpandCell,f.renderData=Qo.renderExpandData;break;case"html":f.renderCell=i?Qo.renderTreeHTMLCell:Qo.renderHTMLCell,r&&n?f.renderHeader=Qo.renderSortAndFilterHeader:n?f.renderHeader=Qo.renderSortHeader:r&&(f.renderHeader=Qo.renderFilterHeader);break;default:c&&a?(f.renderHeader=Qo.renderEditHeader,f.renderCell="cell"===m.mode?i?Qo.renderTreeCellEdit:Qo.renderCellEdit:i?Qo.renderTreeRowEdit:Qo.renderRowEdit):r&&n?f.renderHeader=Qo.renderSortAndFilterHeader:n?f.renderHeader=Qo.renderSortHeader:r&&(f.renderHeader=Qo.renderFilterHeader)}return function(e,t,l){return Se(t)?t:o(new B(e,t,l))}(e,t,f)},renderHeaderTitle(e){const{$table:t,column:l}=e,{slots:o,editRender:n,cellRender:r}=l,a=n||r,i=o?o.header:null;if(i)return Ko(e,t.callSlot(i,e));if(a){const t=Xt.renderer.get(a.name);if(t&&t.renderHeader)return Ko(e,De(t.renderHeader(a,e)))}return Ko(e,V(l.getTitle(),1))},renderDefaultHeader:e=>function(e){const{$table:t,column:l}=e,o=l.titlePrefix||l.titleHelp;return o?[n("i",{class:["vxe-cell-title-prefix-icon",o.icon||E.icon.TABLE_TITLE_PREFIX],onMouseenter(l){t.triggerHeaderTitleEvent(l,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}})]:[]}(e).concat(Qo.renderHeaderTitle(e)).concat(function(e){const{$table:t,column:l}=e,o=l.titleSuffix;return o?[n("i",{class:["vxe-cell-title-suffix-icon",o.icon||E.icon.TABLE_TITLE_SUFFIX],onMouseenter(l){t.triggerHeaderTitleEvent(l,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}})]:[]}(e)),renderDefaultCell(e){const{$table:t,row:l,column:o}=e,{slots:r,editRender:a,cellRender:i}=o,s=a||i,c=r?r.default:null;if(c)return t.callSlot(c,e);if(s){const t=a?"renderCell":"renderDefault",l=Xt.renderer.get(s.name),o=l?l[t]:null;if(o)return De(o(s,Object.assign({$type:a?"edit":"cell"},e)))}const d=t.getCellLabel(l,o),u=a?a.placeholder:"";return[n("span",{class:"vxe-cell--label"},a&&j(d)?[n("span",{class:"vxe-cell--placeholder"},V(P(u),1))]:V(d,1))]},renderTreeCell:e=>Qo.renderTreeIcon(e,Qo.renderDefaultCell(e)),renderDefaultFooter:e=>[n("span",{class:"vxe-cell--item"},Zo(e))],renderTreeIcon(e,t){const{$table:l,isHidden:o}=e,{reactData:r}=l,{computeTreeOpts:a}=l.getComputeMaps(),{treeExpandedMaps:i,treeExpandLazyLoadedMaps:s}=r,c=a.value,{row:d,column:u,level:p}=e,{slots:m}=u,{indent:f,lazy:g,trigger:h,iconLoaded:v,showIcon:b,iconOpen:x,iconClose:w}=c,C=c.children||c.childrenField,y=c.hasChild||c.hasChildField,S=d[C],T=m?m.icon:null;let O=!1,R=!1,k=!1;const $={};if(T)return l.callSlot(T,e);if(!o){const e=he(l,d);R=!!i[e],g&&(k=!!s[e],O=d[y])}return h&&"default"!==h||($.onClick=t=>{t.stopPropagation(),l.triggerTreeExpandEvent(t,e)}),[n("div",{class:["vxe-cell--tree-node",{"is--active":R}],style:{paddingLeft:p*f+"px"}},[b&&(S&&S.length||O)?[n("div",Object.assign({class:"vxe-tree--btn-wrapper"},$),[n("i",{class:["vxe-tree--node-btn",k?v||E.icon.TABLE_TREE_LOADED:R?x||E.icon.TABLE_TREE_OPEN:w||E.icon.TABLE_TREE_CLOSE]})])]:null,n("div",{class:"vxe-tree-cell"},t)])]},renderSeqHeader(e){const{$table:t,column:l}=e,{slots:o}=l,n=o?o.header:null;return Ko(e,n?t.callSlot(n,e):V(l.getTitle(),1))},renderSeqCell(e){const{$table:t,column:l}=e,{props:o}=t,{treeConfig:n}=o,{computeSeqOpts:r}=t.getComputeMaps(),a=r.value,{slots:i}=l,s=i?i.default:null;if(s)return t.callSlot(s,e);const{seq:c}=e,d=a.seqMethod;return[V(d?d(e):n?c:(a.startIndex||0)+c,1)]},renderTreeIndexCell:e=>Qo.renderTreeIcon(e,Qo.renderSeqCell(e)),renderRadioHeader(e){const{$table:t,column:l}=e,{slots:o}=l,r=o?o.header:null,a=o?o.title:null;return Ko(e,r?t.callSlot(r,e):[n("span",{class:"vxe-radio--label"},a?t.callSlot(a,e):V(l.getTitle(),1))])},renderRadioCell(t){const{$table:l,column:o,isHidden:r}=t,{reactData:a}=l,{computeRadioOpts:i}=l.getComputeMaps(),{selectRadioRow:s}=a,c=i.value,{slots:d}=o,{labelField:u,checkMethod:p,visibleMethod:m}=c,{row:f}=t,g=d?d.default:null,h=d?d.radio:null,v=l.eqRow(f,s),b=!m||m({row:f});let x,w=!!p;r||(x={onClick(e){!w&&b&&(e.stopPropagation(),l.triggerRadioRowEvent(e,t))}},p&&(w=!p({row:f})));const C=Object.assign(Object.assign({},t),{checked:v,disabled:w,visible:b});if(h)return l.callSlot(h,C);const y=[];return b&&y.push(n("span",{class:["vxe-radio--icon",v?E.icon.TABLE_RADIO_CHECKED:E.icon.TABLE_RADIO_UNCHECKED]})),(g||u)&&y.push(n("span",{class:"vxe-radio--label"},g?l.callSlot(g,C):e.get(f,u))),[n("span",Object.assign({class:["vxe-cell--radio",{"is--checked":v,"is--disabled":w}]},x),y)]},renderTreeRadioCell:e=>Qo.renderTreeIcon(e,Qo.renderRadioCell(e)),renderCheckboxHeader(e){const{$table:t,column:l,isHidden:o}=e,{reactData:r}=t,{computeIsAllCheckboxDisabled:a,computeCheckboxOpts:i}=t.getComputeMaps(),{isAllSelected:s,isIndeterminate:c}=r,d=a.value,{slots:u}=l,p=u?u.header:null,m=u?u.title:null,f=i.value,g=l.getTitle();let h;o||(h={onClick(e){d||(e.stopPropagation(),t.triggerCheckAllEvent(e,!s))}});const v=Object.assign(Object.assign({},e),{checked:s,disabled:d,indeterminate:c});return p?Ko(v,t.callSlot(p,v)):(f.checkStrictly?f.showHeader:!1!==f.showHeader)?Ko(v,[n("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":s,"is--disabled":d,"is--indeterminate":c}],title:E.i18n("vxe.table.allTitle")},h),[n("span",{class:["vxe-checkbox--icon",c?E.icon.TABLE_CHECKBOX_INDETERMINATE:s?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]})].concat(m||g?[n("span",{class:"vxe-checkbox--label"},m?t.callSlot(m,v):g)]:[]))]):Ko(v,[n("span",{class:"vxe-checkbox--label"},m?t.callSlot(m,v):g)])},renderCheckboxCell(t){const{$table:l,row:o,column:r,isHidden:a}=t,{props:i,reactData:s}=l,{treeConfig:c}=i,{selectCheckboxMaps:d,treeIndeterminateMaps:u}=s,{computeCheckboxOpts:p}=l.getComputeMaps(),m=p.value,{labelField:f,checkMethod:g,visibleMethod:h}=m,{slots:v}=r,b=v?v.default:null,x=v?v.checkbox:null;let w=!1,C=!1;const y=!h||h({row:o});let S,T=!!g;if(!a){const e=he(l,o);C=!!d[e],S={onClick(e){!T&&y&&(e.stopPropagation(),l.triggerCheckRowEvent(e,t,!C))}},g&&(T=!g({row:o})),c&&(w=!!u[e])}const O=Object.assign(Object.assign({},t),{checked:C,disabled:T,visible:y,indeterminate:w});if(x)return l.callSlot(x,O);const R=[];return y&&R.push(n("span",{class:["vxe-checkbox--icon",w?E.icon.TABLE_CHECKBOX_INDETERMINATE:C?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]})),(b||f)&&R.push(n("span",{class:"vxe-checkbox--label"},b?l.callSlot(b,O):e.get(o,f))),[n("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":C,"is--disabled":T,"is--indeterminate":w,"is--hidden":!y}]},S),R)]},renderTreeSelectionCell:e=>Qo.renderTreeIcon(e,Qo.renderCheckboxCell(e)),renderCheckboxCellByProp(t){const{$table:l,row:o,column:r,isHidden:a}=t,{props:i,reactData:s}=l,{treeConfig:c}=i,{treeIndeterminateMaps:d}=s,{computeCheckboxOpts:u}=l.getComputeMaps(),p=u.value,{labelField:m,checkField:f,checkMethod:g,visibleMethod:h}=p,v=p.indeterminateField||p.halfField,{slots:b}=r,x=b?b.default:null,w=b?b.checkbox:null;let C=!1,y=!1;const S=!h||h({row:o});let T,O=!!g;if(!a){const n=he(l,o);y=e.get(o,f),T={onClick(e){!O&&S&&(e.stopPropagation(),l.triggerCheckRowEvent(e,t,!y))}},g&&(O=!g({row:o})),c&&(C=!!d[n])}const R=Object.assign(Object.assign({},t),{checked:y,disabled:O,visible:S,indeterminate:C});if(w)return l.callSlot(w,R);const k=[];return S&&(k.push(n("span",{class:["vxe-checkbox--icon",C?E.icon.TABLE_CHECKBOX_INDETERMINATE:y?E.icon.TABLE_CHECKBOX_CHECKED:E.icon.TABLE_CHECKBOX_UNCHECKED]})),(x||m)&&k.push(n("span",{class:"vxe-checkbox--label"},x?l.callSlot(x,R):e.get(o,m)))),[n("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":y,"is--disabled":O,"is--indeterminate":v&&!y?o[v]:C,"is--hidden":!S}]},T),k)]},renderTreeSelectionCellByProp:e=>Qo.renderTreeIcon(e,Qo.renderCheckboxCellByProp(e)),renderExpandCell(t){const{$table:l,isHidden:o,row:r,column:a}=t,{reactData:i}=l,{rowExpandedMaps:s,rowExpandLazyLoadedMaps:c}=i,{computeExpandOpts:d}=l.getComputeMaps(),u=d.value,{lazy:p,labelField:m,iconLoaded:f,showIcon:g,iconOpen:h,iconClose:v,visibleMethod:b}=u,{slots:x}=a,w=x?x.default:null,C=x?x.icon:null;let y=!1,S=!1;if(C)return l.callSlot(C,t);if(!o){const e=he(l,r);y=!!s[e],p&&(S=!!c[e])}return[!g||b&&!b(t)?null:n("span",{class:["vxe-table--expanded",{"is--active":y}],onClick(e){e.stopPropagation(),l.triggerRowExpandEvent(e,t)}},[n("i",{class:["vxe-table--expand-btn",S?f||E.icon.TABLE_EXPAND_LOADED:y?h||E.icon.TABLE_EXPAND_OPEN:v||E.icon.TABLE_EXPAND_CLOSE]})]),w||m?n("span",{class:"vxe-table--expand-label"},w?l.callSlot(w,t):e.get(r,m)):null]},renderExpandData(e){const{$table:t,column:l}=e,{slots:o,contentRender:n}=l,r=o?o.content:null;if(r)return t.callSlot(r,e);if(n){const t=Xt.renderer.get(n.name);if(t&&t.renderExpand)return De(t.renderExpand(n,e))}return[]},renderHTMLCell(e){const{$table:t,column:l}=e,{slots:o}=l,r=o?o.default:null;return r?t.callSlot(r,e):[n("span",{class:"vxe-cell--html",innerHTML:Jo(e)})]},renderTreeHTMLCell:e=>Qo.renderTreeIcon(e,Qo.renderHTMLCell(e)),renderSortAndFilterHeader:e=>Qo.renderDefaultHeader(e).concat(Qo.renderSortIcon(e)).concat(Qo.renderFilterIcon(e)),renderSortHeader:e=>Qo.renderDefaultHeader(e).concat(Qo.renderSortIcon(e)),renderSortIcon(e){const{$table:t,column:l}=e,{computeSortOpts:o}=t.getComputeMaps(),r=o.value,{showIcon:a,iconLayout:i,iconAsc:s,iconDesc:c}=r,{order:d}=l;return a?[n("span",{class:["vxe-cell--sort",`vxe-cell--sort-${i}-layout`]},[n("i",{class:["vxe-sort--asc-btn",s||E.icon.TABLE_SORT_ASC,{"sort--active":"asc"===d}],title:E.i18n("vxe.table.sortAsc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,l,"asc")}}),n("i",{class:["vxe-sort--desc-btn",c||E.icon.TABLE_SORT_DESC,{"sort--active":"desc"===d}],title:E.i18n("vxe.table.sortDesc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,l,"desc")}})])]:[]},renderFilterHeader:e=>Qo.renderDefaultHeader(e).concat(Qo.renderFilterIcon(e)),renderFilterIcon(e){const{$table:t,column:l,hasFilter:o}=e,{reactData:r}=t,{filterStore:a}=r,{computeFilterOpts:i}=t.getComputeMaps(),s=i.value,{showIcon:c,iconNone:d,iconMatch:u}=s;return c?[n("span",{class:["vxe-cell--filter",{"is--active":a.visible&&a.column===l}]},[n("i",{class:["vxe-filter--btn",o?u||E.icon.TABLE_FILTER_MATCH:d||E.icon.TABLE_FILTER_NONE],title:E.i18n("vxe.table.filter"),onClick(l){t.triggerFilterEvent&&t.triggerFilterEvent(l,e.column,e)}})])]:[]},renderEditHeader(t){const{$table:l,column:o}=t,{props:r}=l,{computeEditOpts:a}=l.getComputeMaps(),{editConfig:i,editRules:s}=r,c=a.value,{sortable:d,filters:u,editRender:p}=o;let m=!1;if(s){const t=e.get(s,o.field);t&&(m=t.some((e=>e.required)))}return(I(i)?[m&&c.showAsterisk?n("i",{class:"vxe-cell--required-icon"}):null,I(p)&&c.showIcon?n("i",{class:["vxe-cell--edit-icon",c.icon||E.icon.TABLE_EDIT]}):null]:[]).concat(Qo.renderDefaultHeader(t)).concat(d?Qo.renderSortIcon(t):[]).concat(u?Qo.renderFilterIcon(t):[])},renderRowEdit(e){const{$table:t,column:l}=e,{reactData:o}=t,{editStore:n}=o,{actived:r}=n,{editRender:a}=l;return Qo.runRenderer(e,I(a)&&r&&r.row===e.row)},renderTreeRowEdit:e=>Qo.renderTreeIcon(e,Qo.renderRowEdit(e)),renderCellEdit(e){const{$table:t,column:l}=e,{reactData:o}=t,{editStore:n}=o,{actived:r}=n,{editRender:a}=l;return Qo.runRenderer(e,I(a)&&r&&r.row===e.row&&r.column===e.column)},renderTreeCellEdit:e=>Qo.renderTreeIcon(e,Qo.renderCellEdit(e)),runRenderer(e,t){const{$table:l,column:o}=e,{slots:r,editRender:a,formatter:i}=o,s=r?r.default:null,c=r?r.edit:null,d=Xt.renderer.get(a.name);return t?c?l.callSlot(c,e):d&&d.renderEdit?De(d.renderEdit(a,Object.assign({$type:"edit"},e))):[]:s?l.callSlot(s,e):i?[n("span",{class:"vxe-cell--label"},Jo(e))]:Qo.renderDefaultCell(e)}},en={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},tn=a({name:"VxeColumn",props:en,setup(e,{slots:t}){const l=p(),o=i("$xetable",{}),r=i("xecolgroup",null),a=Qo.createColumn(o,e);a.slots=t,f("$xegrid",null),Te(o,e,a),g((()=>{Oe(o,l.value,a,r)})),h((()=>{Re(o,a)}));return()=>n("div",{ref:l})}}),ln=Object.assign(tn,{install(e){e.component(tn.name,tn),e.component("VxeTableColumn",tn)}}),on=ln;tl.component(tn.name,tn),tl.component("VxeTableColumn",tn);const nn=a({name:"VxeColgroup",props:en,setup(e,{slots:t}){const l=p(),o=i("$xetable",{}),r=i("xecolgroup",null),a=Qo.createColumn(o,e),s={};t.header&&(s.header=t.header);const c={column:a};a.slots=s,a.children=[],f("xecolgroup",c),f("$xegrid",null),Te(o,e,a),g((()=>{Oe(o,l.value,a,r)})),h((()=>{Re(o,a)}));return()=>n("div",{ref:l},t.default?t.default():[])}}),rn=Object.assign(nn,{install(e){e.component(nn.name,nn),e.component("VxeTableColgroup",nn)}}),an=rn;let sn;tl.component(nn.name,nn),tl.component("VxeTableColgroup",nn);const cn=[],dn=500;function un(){cn.length&&(cn.forEach((e=>{e.tarList.forEach((t=>{const{target:l,width:o,heighe:n}=t,r=l.clientWidth,a=l.clientHeight;(r&&o!==r||a&&n!==a)&&(t.width=r,t.heighe=a,setTimeout(e.callback))}))})),pn())}function pn(){clearTimeout(sn),sn=setTimeout(un,E.resizeInterval||dn)}class mn{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some((t=>t.target===e))||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),cn.length||pn(),cn.some((e=>e===this))||cn.push(this)}}unobserve(t){e.remove(cn,(e=>e.tarList.some((e=>e.target===t))))}disconnect(){e.remove(cn,(e=>e===this))}}function fn(e){return window.ResizeObserver?new window.ResizeObserver(e):new mn(e)}const gn="body",hn={mini:3,small:2,medium:1},vn=a({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(t){const l=i("$xetable",{}),o=i("xesize",null),{xID:r,props:a,context:s,reactData:d,internalData:m}=l,{refTableHeader:f,refTableBody:b,refTableFooter:x,refTableLeftBody:w,refTableRightBody:C,refValidTooltip:y}=l.getRefMaps(),{computeEditOpts:S,computeMouseOpts:T,computeSYOpts:O,computeEmptyOpts:R,computeKeyboardOpts:k,computeTooltipOpts:$,computeRadioOpts:M,computeExpandOpts:D,computeTreeOpts:F,computeCheckboxOpts:N,computeValidOpts:L,computeRowOpts:A,computeColumnOpts:P}=l.getComputeMaps(),V=p(),j=p(),B=p(),_=p(),H=p(),W=p(),q=p(),U=()=>{if(o){const e=o.value;if(e)return hn[e]||0}return 0},Y=()=>{const{delayHover:e}=a,{lastScrollTime:t,_isResize:l}=d;return!!(l||t&&Date.now()<t+e)},X=(e,t)=>{let o=1;if(!e)return o;const n=F.value,r=e[n.children||n.childrenField];if(r&&l.isTreeExpandByRow(e))for(let l=0;l<r.length;l++)o+=X(r[l]);return o},G=(e,t,l)=>{let o=1;return l&&(o=X(t[l-1])),d.rowHeight*o-(l?1:12-U())},K=(t,o,r,i,s,c,u,p,f,g,h,v)=>{const{columnKey:b,height:x,showOverflow:w,cellClassName:C,cellStyle:y,align:E,spanMethod:T,mouseConfig:R,editConfig:k,editRules:M,tooltipConfig:D}=a,{tableData:V,overflowX:j,scrollYLoad:B,currentColumn:_,mergeList:H,editStore:W,isAllOverflow:q,validErrorMaps:X}=d,{afterFullData:K}=m,Z=L.value,J=N.value,Q=S.value,ee=$.value,te=A.value,oe=O.value,ne=P.value,{type:re,cellRender:ae,editRender:ie,align:se,showOverflow:ce,className:de,treeNode:ue,slots:pe}=f,{actived:me}=W,{rHeight:fe}=oe,{height:ge}=te,ve=ie||ae,be=ve?Xt.renderer.get(ve.name):null,xe=be?be.cellClassName:"",we=be?be.cellStyle:"",Ce=ee.showAll,ye=l.getColumnIndex(f),Ee=l.getVTColumnIndex(f),Se=I(ie);let Te=r?f.fixed!==r:f.fixed&&j;const Oe=e.isUndefined(ce)||e.isNull(ce)?w:ce;let Re="ellipsis"===Oe;const ke="title"===Oe,Me=!0===Oe||"tooltip"===Oe;let Ie,De=ke||Me||Re;const Fe={},Ne=se||E,Le=X[`${o}:${f.id}`],Ae=M&&Z.showMessage&&("default"===Z.message?x||V.length>1:"inline"===Z.message),Pe={colid:f.id},Ve={$table:l,$grid:l.xegrid,seq:t,rowid:o,row:s,rowIndex:c,$rowIndex:u,_rowIndex:p,column:f,columnIndex:ye,$columnIndex:g,_columnIndex:Ee,fixed:r,type:gn,isHidden:Te,level:i,visibleData:K,data:V,items:v};if(B&&!De&&(Re=De=!0),(ke||Me||Ce||D)&&(Fe.onMouseenter=e=>{Y()||(ke?le(e.currentTarget,f):(Me||Ce)&&l.triggerBodyTooltipEvent(e,Ve),l.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},Ve),e))}),(Me||Ce||D)&&(Fe.onMouseleave=e=>{Y()||((Me||Ce)&&l.handleTargetLeaveEvent(e),l.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},Ve),e))}),(J.range||R)&&(Fe.onMousedown=e=>{l.triggerCellMousedownEvent(e,Ve)}),Fe.onClick=e=>{l.triggerCellClickEvent(e,Ve)},Fe.onDblclick=e=>{l.triggerCellDblclickEvent(e,Ve)},H.length){const e=$e(H,p,Ee);if(e){const{rowspan:t,colspan:l}=e;if(!t||!l)return null;t>1&&(Pe.rowspan=t),l>1&&(Pe.colspan=l)}}else if(T){const{rowspan:e=1,colspan:t=1}=T(Ve)||{};if(!e||!t)return null;e>1&&(Pe.rowspan=e),t>1&&(Pe.colspan=t)}Te&&H&&(Pe.colspan>1||Pe.rowspan>1)&&(Te=!1),!Te&&k&&(ie||ae)&&(Q.showStatus||Q.showUpdateStatus)&&(Ie=l.isUpdateByRow(s,f.field));const je=[];if(Te&&(w?q:w))je.push(n("div",{class:["vxe-cell",{"c--title":ke,"c--tooltip":Me,"c--ellipsis":Re}],style:{maxHeight:De&&(fe||ge)?`${fe||ge}px`:""}}));else if(je.push(...(e=>{const{row:t,column:o}=e,{afterFullData:r}=m,{treeConfig:i}=a,s=F.value,{slots:c,treeNode:d}=o,{fullAllDataRowIdData:u}=m,p=u[he(l,t)];let f=0,g=0,h=[];if(p&&(f=p.level,g=p._index,h=p.items),c&&c.line)return l.callSlot(c.line,e);const v=l.eqRow(r[0],t);return i&&d&&(s.showLine||s.line)?[n("div",{class:"vxe-tree--line-wrapper"},[n("div",{class:"vxe-tree--line",style:{height:`${v?1:G(0,h,g)}px`,left:f*s.indent+(f?2-U():0)+16+"px"}})])]:[]})(Ve),n("div",{class:["vxe-cell",{"c--title":ke,"c--tooltip":Me,"c--ellipsis":Re}],style:{maxHeight:De&&(fe||ge)?`${fe||ge}px`:""},title:ke?l.getCellLabel(s,f):null},f.renderCell(Ve))),Ae&&Le){const e=Le.rule,t=pe?pe.valid:null,o=Object.assign(Object.assign({},Ve),Le);je.push(n("div",{class:["vxe-cell--valid-error-hint",z(Z.className,o)],style:e&&e.maxWidth?{width:`${e.maxWidth}px`}:null},t?l.callSlot(t,o):[n("span",{class:"vxe-cell--valid-error-msg"},Le.content)]))}return n("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",f.id,{[`col--${Ne}`]:Ne,[`col--${re}`]:re,"col--last":g===h.length-1,"col--tree-node":ue,"col--edit":Se,"col--ellipsis":De,"fixed--hidden":Te,"col--dirty":Ie,"col--active":k&&Se&&me.row===s&&(me.column===f||"row"===Q.mode),"col--valid-error":!!Le,"col--current":_===f},z(xe,Ve),z(de,Ve),z(C,Ve)],key:b||ne.useKey?f.id:g},Pe),{style:Object.assign({height:De&&(fe||ge)?`${fe||ge}px`:""},e.isFunction(we)?we(Ve):we,e.isFunction(y)?y(Ve):y)}),Fe),je)},Z=(t,o,r)=>{const{stripe:i,rowKey:s,highlightHoverRow:c,rowClassName:u,rowStyle:p,showOverflow:f,editConfig:g,treeConfig:h}=a,{hasFixedColumn:v,treeExpandedMaps:b,scrollYLoad:x,rowExpandedMaps:w,expandColumn:C,selectRadioRow:y,pendingRowMaps:E,pendingRowList:T}=d,{fullAllDataRowIdData:O}=m,R=N.value,k=M.value,$=F.value,I=S.value,L=A.value,{transform:P}=$,V=$.children||$.childrenField,j=[];return o.forEach(((a,d)=>{const m={};let S=d;S=l.getRowIndex(a),(L.isHover||c)&&(m.onMouseenter=e=>{Y()||l.triggerHoverEvent(e,{row:a,rowIndex:S})},m.onMouseleave=()=>{Y()||l.clearHoverRow()});const M=he(l,a),F=O[M];let N=0,A=-1,B=0;F&&(N=F.level,A=F.seq,B=F._index);const _={$table:l,seq:A,rowid:M,fixed:t,type:gn,level:N,row:a,rowIndex:S,$rowIndex:d,_rowIndex:B},H=C&&!!w[M];let W=!1,q=[],U=!1;if(g&&(U=l.isInsertByRow(a)),!h||x||P||(q=a[V],W=q&&q.length&&!!b[M]),j.push(n("tr",Object.assign({class:["vxe-body--row",h?`row--level-${N}`:"",{"row--stripe":i&&(l.getVTRowIndex(a)+1)%2==0,"is--new":U,"is--expand-row":H,"is--expand-tree":W,"row--new":U&&(I.showStatus||I.showInsertStatus),"row--radio":k.highlight&&l.eqRow(y,a),"row--checked":R.highlight&&l.isCheckedByCheckboxRow(a),"row--pending":T.length&&!!E[M]},z(u,_)],rowid:M,style:p?e.isFunction(p)?p(_):p:null,key:s||L.useKey||h?M:d},m),r.map(((e,l)=>K(A,M,t,N,a,S,d,B,e,l,r,o))))),H){const o=D.value,{height:i}=o,s={};i&&(s.height=`${i}px`),h&&(s.paddingLeft=N*$.indent+30+"px");const{showOverflow:c}=C,u=e.isUndefined(c)||e.isNull(c)?f:c,g={$table:l,seq:A,column:C,fixed:t,type:gn,level:N,row:a,rowIndex:S,$rowIndex:d,_rowIndex:B};j.push(n("tr",Object.assign({class:"vxe-body--expanded-row",key:`expand_${M}`,style:p?e.isFunction(p)?p(g):p:null},m),[n("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":t&&!v,"col--ellipsis":u},colspan:r.length},[n("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":i},style:s},[C.renderData(g)])])]))}W&&j.push(...Z(t,q,r))})),j};let J;const Q=(e,t,l,o)=>{(l||o)&&(l&&(pe(l),l.scrollTop=t),o&&(pe(o),o.scrollTop=t),clearTimeout(J),J=setTimeout((()=>{me(l),me(o),d.lastScrollTime=Date.now()}),300))},ee=e=>{const{fixedType:o}=t,{highlightHoverRow:n}=a,{scrollXLoad:r,scrollYLoad:i}=d,{elemStore:s,lastScrollTop:c,lastScrollLeft:u}=m,p=A.value,g=f.value,h=b.value,v=x.value,E=w.value,S=C.value,T=y.value,O=V.value,R=g?g.$el:null,k=v?v.$el:null,$=h.$el,M=E?E.$el:null,I=S?S.$el:null,D=s["main-body-ySpace"],F=D?D.value:null,N=s["main-body-xSpace"],L=N?N.value:null,P=i&&F?F.clientHeight:$.clientHeight,j=r&&L?L.clientWidth:$.clientWidth;let B=O.scrollTop;const _=$.scrollLeft,H=_!==u,z=B!==c;m.lastScrollTop=B,m.lastScrollLeft=_,d.lastScrollTime=Date.now(),(p.isHover||n)&&l.clearHoverRow(),M&&"left"===o?(B=M.scrollTop,Q(0,B,$,I)):I&&"right"===o?(B=I.scrollTop,Q(0,B,$,M)):(H&&(R&&(R.scrollLeft=$.scrollLeft),k&&(k.scrollLeft=$.scrollLeft)),(M||I)&&(l.checkScrolling(),z&&Q(0,B,M,I))),r&&H&&l.triggerScrollXEvent(e),i&&z&&l.triggerScrollYEvent(e),H&&T&&T.reactData.visible&&T.updatePlacement(),l.dispatchEvent("scroll",{type:gn,fixed:o,scrollTop:B,scrollLeft:_,scrollHeight:$.scrollHeight,scrollWidth:$.scrollWidth,bodyHeight:P,bodyWidth:j,isX:H,isY:z},e)};let te,oe=0,ne=0,re=0,ae=!1;const ie=e=>{const{deltaY:o,deltaX:n}=e,{highlightHoverRow:r}=a,{scrollYLoad:i}=d,{lastScrollTop:s,lastScrollLeft:c}=m,u=A.value,p=b.value,f=V.value,g=p.$el,h=o,v=n,x=h<0;if(x?f.scrollTop<=0:f.scrollTop>=f.scrollHeight-f.clientHeight)return;const y=f.scrollTop+h,E=g.scrollLeft+v,S=E!==c,T=y!==s;T&&(e.preventDefault(),m.lastScrollTop=y,m.lastScrollLeft=E,d.lastScrollTime=Date.now(),(u.isHover||r)&&l.clearHoverRow(),((e,o,n,r,a)=>{const{elemStore:i}=m,{scrollXLoad:s,scrollYLoad:c}=d,u=b.value,p=w.value,f=C.value,g=p?p.$el:null,h=f?f.$el:null,v=u.$el,x=i["main-body-ySpace"],y=x?x.value:null,E=i["main-body-xSpace"],S=E?E.value:null,T=c&&y?y.clientHeight:v.clientHeight,O=s&&S?S.clientWidth:v.clientWidth,R=ae===o?Math.max(0,oe-re):0;ae=o,oe=Math.abs(o?n-R:n+R),ne=0,re=0,clearTimeout(te);const k=()=>{if(re<oe){const{fixedType:n}=t;ne=Math.max(5,Math.floor(1.5*ne)),re+=ne,re>oe&&(ne-=re-oe);const{scrollTop:i,clientHeight:s,scrollHeight:c}=v,d=i+ne*(o?-1:1);v.scrollTop=d,g&&(g.scrollTop=d),h&&(h.scrollTop=d),(o?d<c-s:d>=0)&&(te=setTimeout(k,10)),l.dispatchEvent("scroll",{type:gn,fixed:n,scrollTop:v.scrollTop,scrollLeft:v.scrollLeft,scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,bodyHeight:T,bodyWidth:O,isX:r,isY:a},e)}};k()})(e,x,h,S,T),i&&l.triggerScrollYEvent(e))};g((()=>{c((()=>{const{fixedType:e}=t,{elemStore:l}=m,o=`${e||"main"}-body-`,n=V.value;l[`${o}wrapper`]=V,l[`${o}table`]=j,l[`${o}colgroup`]=B,l[`${o}list`]=_,l[`${o}xSpace`]=H,l[`${o}ySpace`]=W,l[`${o}emptyBlock`]=q,n&&(n.onscroll=ee,n._onscroll=ee)}))})),v((()=>{const e=V.value;clearTimeout(te),e&&(e._onscroll=null,e.onscroll=null)})),h((()=>{const{fixedType:e}=t,{elemStore:l}=m,o=`${e||"main"}-body-`;l[`${o}wrapper`]=null,l[`${o}table`]=null,l[`${o}colgroup`]=null,l[`${o}list`]=null,l[`${o}xSpace`]=null,l[`${o}ySpace`]=null,l[`${o}emptyBlock`]=null}));return()=>{let{fixedColumn:e,fixedType:o,tableColumn:i}=t;const{keyboardConfig:c,showOverflow:p,spanMethod:f,mouseConfig:g}=a,{tableData:h,mergeList:v,scrollYLoad:b,isAllOverflow:x}=d,{visibleColumn:w}=m,{slots:C}=s,y=O.value,S=R.value,$=k.value,M=T.value;let I;o&&(i=d.expandColumn||!b&&!(p?x:p)||v.length||f||c&&$.isMerge?w:e);const D=C?C.empty:null;if(D)I=l.callSlot(D,{$table:l,$grid:l.xegrid});else{const e=S.name?Xt.renderer.get(S.name):null,t=e?e.renderTableEmptyView||e.renderEmpty:null;I=t?De(t(S,{$table:l})):a.emptyText||E.i18n("vxe.table.emptyText")}return n("div",Object.assign({ref:V,class:["vxe-table--body-wrapper",o?`fixed-${o}--wrapper`:"body--wrapper"],xid:r},"wheel"===y.mode?{onWheel:ie}:{}),[o?u():n("div",{ref:H,class:"vxe-body--x-space"}),n("div",{ref:W,class:"vxe-body--y-space"}),n("table",{ref:j,class:"vxe-table--body",xid:r,cellspacing:0,cellpadding:0,border:0},[n("colgroup",{ref:B},i.map(((e,t)=>n("col",{name:e.id,key:t})))),n("tbody",{ref:_},Z(o,h,i))]),n("div",{class:"vxe-table--checkbox-range"}),g&&M.area?n("div",{class:"vxe-table--cell-area"},[n("span",{class:"vxe-table--cell-main-area"},M.extension?[n("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){l.triggerCellExtendMousedownEvent(e,{$table:l,fixed:o,type:gn})}})]:[]),n("span",{class:"vxe-table--cell-copy-area"}),n("span",{class:"vxe-table--cell-extend-area"}),n("span",{class:"vxe-table--cell-multi-area"}),n("span",{class:"vxe-table--cell-active-area"})]):null,o?null:n("div",{class:"vxe-table--empty-block",ref:q},[n("div",{class:"vxe-table--empty-content"},I)])])}}}),bn="header",xn=a({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(t){const o=i("$xetable",{}),{xID:r,props:a,reactData:s,internalData:d}=o,{refElem:m,refTableBody:f,refLeftContainer:v,refRightContainer:b,refCellResizeBar:x}=o.getRefMaps(),{computeColumnOpts:w}=o.getComputeMaps(),C=p([]),y=p(),E=p(),S=p(),T=p(),O=p(),R=p(),k=()=>{const{isGroup:e}=s;C.value=e?(e=>{let t=1;const l=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some((e=>e.visible))){let t=0;e.children.forEach((o=>{o.visible&&(l(o,e),t+=o.colSpan)})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,l(e)}));const o=[];for(let n=0;n<t;n++)o.push([]);return de(e).forEach((e=>{e.children&&e.children.length&&e.children.some((e=>e.visible))?e.rowSpan=1:e.rowSpan=t-e.level+1,o[e.level-1].push(e)})),o})(t.tableGroupColumn):[]},$=(l,n)=>{const{column:r}=n,{fixedType:a}=t,i=f.value,c=v.value,u=b.value,p=x.value,{clientX:g}=l,h=y.value,w=l.target,C=n.cell=w.parentNode;let E=0;const S=i.$el,T=ne(w,h),O=w.clientWidth,R=Math.floor(O/2),k=function(t){const{$table:l,column:o,cell:n}=t,{props:r}=l,{computeResizableOpts:a}=l.getComputeMaps(),i=a.value,{minWidth:s}=i;if(s){const l=e.isFunction(s)?s(t):s;if("auto"!==l)return Math.max(1,e.toNumber(l))}const{showHeaderOverflow:c}=r,{showHeaderOverflow:d,minWidth:u}=o,p=e.isUndefined(d)||e.isNull(d)?c:d,m="title"===p||!0===p||"tooltip"===p||"ellipsis"===p;let f=e.floor(1.6*(e.toNumber(getComputedStyle(n).fontSize)||14))+(be(n)+be(we(n,"")));if(m){const e=be(we(n,"--title>.vxe-cell--checkbox")),t=xe(we(n,">.vxe-cell--required-icon")),l=xe(we(n,">.vxe-cell--edit-icon")),o=xe(we(n,">.vxe-cell-title-prefix-icon")),r=xe(we(n,">.vxe-cell-title-suffix-icon")),a=xe(we(n,">.vxe-cell--sort"));f+=e+t+l+o+r+xe(we(n,">.vxe-cell--filter"))+a}if(u){const{refTableBody:t}=l.getRefMaps(),o=t.value,n=o?o.$el:null;if(n){if(Y(u)){const t=(n.clientWidth-1)/100;return Math.max(f,Math.floor(e.toInteger(u)*t))}if(U(u))return Math.max(f,e.toInteger(u))}}return f}(n)-R;let $=T.left-C.clientWidth+O+k,M=T.left+R;const I=document.onmousemove,D=document.onmouseup,F="left"===a,N="right"===a,L=m.value;let A=0;if(F||N){const e=F?"nextElementSibling":"previousElementSibling";let t=C[e];for(;t&&!X(t,"fixed--hidden");)X(t,"col--group")||(A+=t.offsetWidth),t=t[e];N&&u&&(M=u.offsetLeft+A)}const P=function(e){e.stopPropagation(),e.preventDefault();const t=e.clientX-g;let l=M+t;const o=a?0:S.scrollLeft;F?l=Math.min(l,(u?u.offsetLeft:S.clientWidth)-A-k):N?($=(c?c.clientWidth:0)+A+k,l=Math.min(l,M+C.clientWidth-k)):$=Math.max(S.scrollLeft,$),E=Math.max(l,$),p.style.left=E-o+"px"};s._isResize=!0,K(L,"drag--resize"),p.style.display="block",document.onmousemove=P,document.onmouseup=function(e){document.onmousemove=I,document.onmouseup=D;const t=r.renderWidth+(N?M-E:E-M);r.resizeWidth=t,p.style.display="none",s._isResize=!1,d._lastResizeTime=Date.now(),o.analyColumnWidth(),o.recalculate(!0).then((()=>{o.saveCustomResizable(),o.updateCellAreas(),o.dispatchEvent("resizable-change",Object.assign(Object.assign({},n),{resizeWidth:t}),e)})),G(L,"drag--resize")},P(l),o.closeMenu&&o.closeMenu()};l((()=>t.tableColumn),k),g((()=>{c((()=>{const{fixedType:e}=t,{internalData:l}=o,{elemStore:n}=l,r=`${e||"main"}-header-`;n[`${r}wrapper`]=y,n[`${r}table`]=E,n[`${r}colgroup`]=S,n[`${r}list`]=T,n[`${r}xSpace`]=O,n[`${r}repair`]=R,k()}))})),h((()=>{const{fixedType:e}=t,{internalData:l}=o,{elemStore:n}=l,r=`${e||"main"}-header-`;n[`${r}wrapper`]=null,n[`${r}table`]=null,n[`${r}colgroup`]=null,n[`${r}list`]=null,n[`${r}xSpace`]=null,n[`${r}repair`]=null}));return()=>{const{fixedType:l,fixedColumn:i,tableColumn:c}=t,{resizable:p,border:m,columnKey:f,headerRowClassName:g,headerCellClassName:h,headerRowStyle:v,headerCellStyle:b,showHeaderOverflow:x,headerAlign:k,align:M,mouseConfig:I}=a,{isGroup:D,currentColumn:F,scrollXLoad:N,overflowX:L,scrollbarWidth:A}=s,{visibleColumn:P}=d,V=w.value;let j=C.value,B=c;return D?B=P:(l&&(N||x)&&(B=i),j=[B]),n("div",{ref:y,class:["vxe-table--header-wrapper",l?`fixed-${l}--wrapper`:"body--wrapper"],xid:r},[l?u():n("div",{ref:O,class:"vxe-body--x-space"}),n("table",{ref:E,class:"vxe-table--header",xid:r,cellspacing:0,cellpadding:0,border:0},[n("colgroup",{ref:S},B.map(((e,t)=>n("col",{name:e.id,key:t}))).concat(A?[n("col",{name:"col_gutter"})]:[])),n("thead",{ref:T},j.map(((t,r)=>n("tr",{class:["vxe-header--row",g?e.isFunction(g)?g({$table:o,$rowIndex:r,fixed:l,type:bn}):g:""],style:v?e.isFunction(v)?v({$table:o,$rowIndex:r,fixed:l,type:bn}):v:null},t.map(((a,i)=>{const{type:s,showHeaderOverflow:c,headerAlign:d,align:u,headerClassName:g}=a,v=a.children&&a.children.length,w=l?a.fixed!==l&&!v:!!a.fixed&&L,C=e.isUndefined(c)||e.isNull(c)?x:c,y=d||u||k||M;let E="ellipsis"===C;const S="title"===C,T=!0===C||"tooltip"===C;let O=S||T||E;const R=a.filters&&a.filters.some((e=>e.checked)),D=o.getColumnIndex(a),A=o.getVTColumnIndex(a),P={$table:o,$grid:o.xegrid,$rowIndex:r,column:a,columnIndex:D,$columnIndex:i,_columnIndex:A,fixed:l,type:bn,isHidden:w,hasFilter:R},j={onClick:e=>o.triggerHeaderCellClickEvent(e,P),onDblclick:e=>o.triggerHeaderCellDblclickEvent(e,P)};return N&&!O&&(E=O=!0),I&&(j.onMousedown=e=>o.triggerHeaderCellMousedownEvent(e,P)),n("th",Object.assign(Object.assign({class:["vxe-header--column",a.id,{[`col--${y}`]:y,[`col--${s}`]:s,"col--last":i===t.length-1,"col--fixed":a.fixed,"col--group":v,"col--ellipsis":O,"fixed--hidden":w,"is--sortable":a.sortable,"col--filter":!!a.filters,"is--filter-active":R,"col--current":F===a},g?e.isFunction(g)?g(P):g:"",h?e.isFunction(h)?h(P):h:""],colid:a.id,colspan:a.colSpan>1?a.colSpan:null,rowspan:a.rowSpan>1?a.rowSpan:null,style:b?e.isFunction(b)?b(P):b:null},j),{key:f||V.useKey||v?a.id:i}),[n("div",{class:["vxe-cell",{"c--title":S,"c--tooltip":T,"c--ellipsis":E}]},a.renderHeader(P)),w||v||!(e.isBoolean(a.resizable)?a.resizable:V.resizable||p)?null:n("div",{class:["vxe-resizable",{"is--line":!m||"none"===m}],onMousedown:e=>$(e,P)})])})).concat(A?[n("th",{class:"vxe-header--gutter col--gutter"})]:[])))))]),n("div",{ref:R,class:"vxe-table--header-border-line"})])}}}),wn="footer";const Cn=a({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(t){const l=i("$xetable",{}),{xID:o,props:r,reactData:a,internalData:s}=l,{refTableHeader:d,refTableBody:m,refValidTooltip:f}=l.getRefMaps(),{computeTooltipOpts:v,computeColumnOpts:b}=l.getComputeMaps(),x=p(),w=p(),C=p(),y=p(),E=p(),S=e=>{const{fixedType:o}=t,{scrollXLoad:n}=a,{lastScrollLeft:r}=s,i=f.value,c=d.value,u=m.value,p=c?c.$el:null,g=x.value,h=u.$el,v=g.scrollLeft,b=v!==r;s.lastScrollLeft=v,a.lastScrollTime=Date.now(),p&&(p.scrollLeft=v),h&&(h.scrollLeft=v),n&&b&&l.triggerScrollXEvent(e),b&&i&&i.reactData.visible&&i.updatePlacement(),l.dispatchEvent("scroll",{type:wn,fixed:o,scrollTop:h.scrollTop,scrollLeft:v,isX:b,isY:!1},e)};g((()=>{c((()=>{const{fixedType:e}=t,{elemStore:l}=s,o=`${e||"main"}-footer-`;l[`${o}wrapper`]=x,l[`${o}table`]=w,l[`${o}colgroup`]=C,l[`${o}list`]=y,l[`${o}xSpace`]=E}))})),h((()=>{const{fixedType:e}=t,{elemStore:l}=s,o=`${e||"main"}-footer-`;l[`${o}wrapper`]=null,l[`${o}table`]=null,l[`${o}colgroup`]=null,l[`${o}list`]=null,l[`${o}xSpace`]=null}));return()=>{let{fixedType:i,fixedColumn:c,tableColumn:d,footerTableData:p}=t;const{footerRowClassName:m,footerCellClassName:f,footerRowStyle:g,footerCellStyle:h,footerAlign:T,footerSpanMethod:O,align:R,columnKey:k,showFooterOverflow:$}=r,{visibleColumn:M}=s,{scrollXLoad:I,overflowX:D,scrollbarWidth:F,currentColumn:N,mergeFooterList:L}=a,A=v.value,P=b.value;return i&&(d=a.expandColumn||!I&&!$||L.length&&O?M:c),n("div",{ref:x,class:["vxe-table--footer-wrapper",i?`fixed-${i}--wrapper`:"body--wrapper"],xid:o,onScroll:S},[i?u():n("div",{ref:E,class:"vxe-body--x-space"}),n("table",{ref:w,class:"vxe-table--footer",xid:o,cellspacing:0,cellpadding:0,border:0},[n("colgroup",{ref:C},d.map(((e,t)=>n("col",{name:e.id,key:t}))).concat(F?[n("col",{name:"col_gutter"})]:[])),n("tfoot",{ref:y},p.map(((t,o)=>{const r=o,a={$table:l,row:t,_rowIndex:o,$rowIndex:r,fixed:i,type:wn};return n("tr",{class:["vxe-footer--row",m?e.isFunction(m)?m(a):m:""],style:g?e.isFunction(g)?g(a):g:null},d.map(((a,s)=>{const{type:c,showFooterOverflow:u,footerAlign:m,align:g,footerClassName:v}=a,b=A.showAll,x=a.children&&a.children.length,w=i?a.fixed!==i&&!x:a.fixed&&D,C=e.isUndefined(u)||e.isNull(u)?$:u,y=m||g||T||R;let E="ellipsis"===C;const S="title"===C,M=!0===C||"tooltip"===C;let F=S||M||E;const V={colid:a.id},j={},B=l.getColumnIndex(a),_=l.getVTColumnIndex(a),H=_,W={$table:l,$grid:l.xegrid,row:t,rowIndex:o,_rowIndex:o,$rowIndex:r,column:a,columnIndex:B,$columnIndex:s,_columnIndex:_,itemIndex:H,items:t,fixed:i,type:wn,data:p};if(I&&!F&&(E=F=!0),(S||M||b)&&(j.onMouseenter=e=>{S?le(e.currentTarget,a):(M||b)&&l.triggerFooterTooltipEvent(e,W)}),(M||b)&&(j.onMouseleave=e=>{(M||b)&&l.handleTargetLeaveEvent(e)}),j.onClick=e=>{l.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},W),e)},j.onDblclick=e=>{l.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},W),e)},L.length){const e=function(e,t,l){for(let o=0;o<e.length;o++){const{row:n,col:r,rowspan:a,colspan:i}=e[o];if(r>-1&&n>-1&&a&&i){if(n===t&&r===l)return{rowspan:a,colspan:i};if(t>=n&&t<n+a&&l>=r&&l<r+i)return{rowspan:0,colspan:0}}}}(L,o,_);if(e){const{rowspan:t,colspan:l}=e;if(!t||!l)return null;t>1&&(V.rowspan=t),l>1&&(V.colspan=l)}}else if(O){const{rowspan:e=1,colspan:t=1}=O(W)||{};if(!e||!t)return null;e>1&&(V.rowspan=e),t>1&&(V.colspan=t)}return n("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",a.id,{[`col--${y}`]:y,[`col--${c}`]:c,"col--last":s===d.length-1,"fixed--hidden":w,"col--ellipsis":F,"col--current":N===a},z(v,W),z(f,W)]},V),{style:h?e.isFunction(h)?h(W):h:null}),j),{key:k||P.useKey?a.id:s}),[n("div",{class:["vxe-cell",{"c--title":S,"c--tooltip":M,"c--ellipsis":E}]},a.renderFooter(W))])})).concat(F?[n("td",{class:"vxe-footer--gutter col--gutter"})]:[]))})))])])}}}),yn={id:String,data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>E.table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>E.table.resizable},stripe:{type:Boolean,default:()=>E.table.stripe},border:{type:[Boolean,String],default:()=>E.table.border},round:{type:Boolean,default:()=>E.table.round},size:{type:String,default:()=>E.table.size||E.size},fit:{type:Boolean,default:()=>E.table.fit},loading:Boolean,align:{type:String,default:()=>E.table.align},headerAlign:{type:String,default:()=>E.table.headerAlign},footerAlign:{type:String,default:()=>E.table.footerAlign},showHeader:{type:Boolean,default:()=>E.table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>E.table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>E.table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>E.table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>E.table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>E.table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>E.table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>E.table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>E.table.rowId},zIndex:Number,emptyText:{type:String,default:()=>E.table.emptyText},keepSource:{type:Boolean,default:()=>E.table.keepSource},autoResize:{type:Boolean,default:()=>E.table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>E.table.animat},delayHover:{type:Number,default:()=>E.table.delayHover},params:Object},En=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-activated","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],Sn=H["-webkit"]&&!H.edge,Tn="VXE_TABLE_CUSTOM_COLUMN_WIDTH",On="VXE_TABLE_CUSTOM_COLUMN_VISIBLE",Rn="VXE_TABLE_CUSTOM_COLUMN_FIXED",kn="VXE_TABLE_CUSTOM_COLUMN_SORT",$n=a({name:"VxeTable",props:yn,emits:En,setup(t,a){const{slots:d,emit:m}=a,b=Xt.tooltip,y=e.uniqueId(),S=Nl(t),T=x(),k=o({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,_isResize:!1}),$={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let M={},D={};const F=p(),B=p(),_=p(),z=p(),W=p(),q=p(),Z=p(),J=p(),le=p(),ne=p(),re=p(),ae=p(),ie=p(),se=p(),de=p(),pe=p(),be=p(),xe=p(),we=p(),Ce=p(),Se=i("$xegrid",null);let Te;const Oe=s((()=>Object.assign({},E.table.validConfig,t.validConfig))),Re=s((()=>Object.assign({},E.table.scrollX,t.scrollX))),$e=s((()=>Object.assign({},E.table.scrollY,t.scrollY))),Ie=s((()=>({default:48,medium:44,small:40,mini:36}))),Fe=s((()=>Object.assign({},E.table.columnConfig,t.columnConfig))),Ne=s((()=>Object.assign({},E.table.rowConfig,t.rowConfig))),Le=s((()=>Object.assign({},E.table.resizeConfig,t.resizeConfig))),Ae=s((()=>Object.assign({},E.table.resizableConfig,t.resizableConfig))),Pe=s((()=>Object.assign({startIndex:0},E.table.seqConfig,t.seqConfig))),Ve=s((()=>Object.assign({},E.table.radioConfig,t.radioConfig))),je=s((()=>Object.assign({},E.table.checkboxConfig,t.checkboxConfig)));let Be=p();Be=s((()=>Object.assign({},E.tooltip,E.table.tooltipConfig,t.tooltipConfig)));const _e=s((()=>{const e=Be.value;return Object.assign({},e)})),He=s((()=>{const e=Be.value;return Object.assign({isArrow:!1},e)})),ze=s((()=>Object.assign({},E.table.editConfig,t.editConfig))),We=s((()=>Object.assign({orders:["asc","desc",null]},E.table.sortConfig,t.sortConfig))),qe=s((()=>Object.assign({},E.table.filterConfig,t.filterConfig))),Ue=s((()=>Object.assign({},E.table.mouseConfig,t.mouseConfig))),Ye=s((()=>Object.assign({},E.table.areaConfig,t.areaConfig))),Xe=s((()=>Object.assign({},E.table.keyboardConfig,t.keyboardConfig))),Ge=s((()=>Object.assign({},E.table.clipConfig,t.clipConfig))),Ke=s((()=>Object.assign({},E.table.fnrConfig,t.fnrConfig))),Ze=s((()=>Object.assign({},E.table.menuConfig,t.menuConfig))),Je=s((()=>{const e=Ze.value.header;return e&&e.options?e.options:[]})),Qe=s((()=>{const e=Ze.value.body;return e&&e.options?e.options:[]})),et=s((()=>{const e=Ze.value.footer;return e&&e.options?e.options:[]})),tt=s((()=>{const e=Ze.value,l=Je.value,o=Qe.value,n=et.value;return!!(t.menuConfig&&I(e)&&(l.length||o.length||n.length))})),lt=s((()=>{const{ctxMenuStore:e}=k,t=[];return e.list.forEach((e=>{e.forEach((e=>{t.push(e)}))})),t})),ot=s((()=>Object.assign({},E.table.exportConfig,t.exportConfig))),nt=s((()=>Object.assign({},E.table.importConfig,t.importConfig))),rt=s((()=>Object.assign({},E.table.printConfig,t.printConfig))),at=s((()=>Object.assign({},E.table.expandConfig,t.expandConfig))),it=s((()=>Object.assign({},E.table.treeConfig,t.treeConfig))),st=s((()=>Object.assign({},E.table.emptyRender,t.emptyRender))),ct=s((()=>Object.assign({},E.table.loadingConfig,t.loadingConfig))),dt=s((()=>t.border?Math.max(2,Math.ceil(k.scrollbarWidth/k.tableColumn.length)):1)),ut=s((()=>Object.assign({},E.table.customConfig,t.customConfig))),pt=s((()=>{const{collectColumn:e}=$;let t=0;return e.forEach((e=>{e.fixed&&t++})),t})),mt=s((()=>{const e=pt.value,t=Fe.value,{maxFixedSize:l}=t;return!!l&&e>=l})),ft=s((()=>{const{border:e}=t;return!0===e?"full":e||"default"})),gt=s((()=>{const{tableData:e}=k,{tableFullData:t}=$,l=je.value,{strict:o,checkMethod:n}=l;return!!o&&(!e.length&&!t.length||!!n&&t.every((e=>!n({row:e}))))})),ht={refElem:F,refTooltip:B,refValidTooltip:z,refTableFilter:q,refTableCustom:Z,refTableMenu:W,refTableHeader:J,refTableBody:le,refTableFooter:ne,refTableLeftHeader:re,refTableLeftBody:ae,refTableLeftFooter:ie,refTableRightHeader:se,refTableRightBody:de,refTableRightFooter:pe,refLeftContainer:be,refRightContainer:xe,refCellResizeBar:we},vt={computeSize:S,computeValidOpts:Oe,computeSXOpts:Re,computeSYOpts:$e,computeColumnOpts:Fe,computeRowOpts:Ne,computeResizeleOpts:Le,computeResizableOpts:Ae,computeSeqOpts:Pe,computeRadioOpts:Ve,computeCheckboxOpts:je,computeTooltipOpts:Be,computeEditOpts:ze,computeSortOpts:We,computeFilterOpts:qe,computeMouseOpts:Ue,computeAreaOpts:Ye,computeKeyboardOpts:Xe,computeClipOpts:Ge,computeFNROpts:Ke,computeHeaderMenu:Je,computeBodyMenu:Qe,computeFooterMenu:et,computeIsMenu:tt,computeMenuOpts:Ze,computeExportOpts:ot,computeImportOpts:nt,computePrintOpts:rt,computeExpandOpts:at,computeTreeOpts:it,computeEmptyOpts:st,computeLoadingOpts:ct,computeCustomOpts:ut,computeFixedColumnSize:pt,computeIsMaxFixedColumn:mt,computeIsAllCheckboxDisabled:gt},bt={xID:y,props:t,context:a,instance:T,reactData:k,internalData:$,getRefMaps:()=>ht,getComputeMaps:()=>vt,xegrid:Se},xt=(t,l,o)=>{const n=e.get(t,o),r=e.get(l,o);return!(!j(n)||!j(r))||(e.isString(n)||e.isNumber(n)?""+n==""+r:e.isEqual(n,r))},wt=e=>{const t=We.value,{orders:l}=t,o=e.order||null,n=l.indexOf(o)+1;return l[n<l.length?n:0]},Ct=t=>{const l=E.version,o=e.toStringJSON(localStorage.getItem(t)||"");return o&&o._v===l?o:{_v:l}},yt=t=>{const{fullAllDataRowIdData:l}=$,o={};return e.each(t,((e,t)=>{l[t]&&(o[t]=e)})),o},Et=t=>{const{fullDataRowIdData:l}=$,o=[];return e.each(t,((e,t)=>{l[t]&&-1===bt.findRowIndexOf(o,l[t].row)&&o.push(l[t].row)})),o},St=()=>{const{visibleColumn:e}=$,t=le.value,l=t?t.$el:null;if(l){const{scrollLeft:t,clientWidth:o}=l,n=t+o;let r=-1,a=0,i=0;for(let l=0,s=e.length;l<s&&(a+=e[l].renderWidth,-1===r&&t<a&&(r=l),!(r>=0&&(i++,a>n)));l++);return{toVisibleIndex:Math.max(0,r),visibleSize:Math.max(8,i)}}return{toVisibleIndex:0,visibleSize:8}},Tt=(e,t,l)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o],{startIndex:r,endIndex:a}=t,i=n[l],s=i+n[l+"span"];i<r&&r<s&&(t.startIndex=i),i<a&&a<s&&(t.endIndex=s),t.startIndex===r&&t.endIndex===a||(o=-1)}},Ot=(l,o,n)=>{if(l){const{treeConfig:r}=t,{visibleColumn:a}=$;e.isArray(l)||(l=[l]),r&&l.length&&R("vxe.error.noTree",["merge-cells | merge-footer-items"]),l.forEach((t=>{let{row:l,col:r,rowspan:i,colspan:s}=t;if(n&&e.isNumber(l)&&(l=n[l]),e.isNumber(r)&&(r=a[r]),(n?l:e.isNumber(l))&&r&&(i||s)&&(i=e.toNumber(i)||1,s=e.toNumber(s)||1,i>1||s>1)){const t=e.findIndexOf(o,(e=>!(e._row!==l&&he(bt,e._row)!==he(bt,l)||e._col.id!==r&&e._col.id!==r.id))),a=o[t];if(a)a.rowspan=i,a.colspan=s,a._rowspan=i,a._colspan=s;else{const e=n?bt.findRowIndexOf(n,l):l,t=M.getVTColumnIndex(r);o.push({row:e,col:t,rowspan:i,colspan:s,_row:l,_col:r,_rowspan:i,_colspan:s})}}}))}},Rt=(l,o,n)=>{const r=[];if(l){const{treeConfig:a}=t,{visibleColumn:i}=$;e.isArray(l)||(l=[l]),a&&l.length&&R("vxe.error.noTree",["merge-cells | merge-footer-items"]),l.forEach((t=>{let{row:l,col:a}=t;n&&e.isNumber(l)&&(l=n[l]),e.isNumber(a)&&(a=i[a]);const s=e.findIndexOf(o,(e=>!(e._row!==l&&he(bt,e._row)!==he(bt,l)||e._col.id!==a&&e._col.id!==a.id)));if(s>-1){const e=o.splice(s,1);r.push(e[0])}}))}return r},kt=()=>{const{tableFullColumn:e}=$;e.forEach((e=>{e.order=null}))},$t=l=>{const{parentHeight:o}=k,n=t[l];let r=0;if(n)if("auto"===n)r=o;else{const t=bt.getExcludeHeight();r=Y(n)?Math.floor((e.toInteger(n)||1)/100*o):e.toNumber(n),r=Math.max(40,r-t)}return r},Mt=()=>{const{tableFullColumn:l,collectColumn:o}=$,n=$.fullColumnIdData={},r=$.fullColumnFieldData={};Ue.value,Fe.value,Ne.value;const a=o.some(A);let i,s,c=!!t.showOverflow;const d=(e,t,l,o,a)=>{const{id:d,field:u,fixed:p,type:m,treeNode:f}=e,g={column:e,colid:d,index:t,items:l,parent:a};u&&(r[u]=g),f?s||(s=e):"expand"===m&&(i||(i=e)),c&&!1===e.showOverflow&&(c=!1),n[d]&&R("vxe.error.colRepet",["colId",d]),n[d]=g};a?e.eachTree(o,((e,t,l,o,n,r)=>{e.level=r.length,d(e,t,l,0,n)})):l.forEach(d),k.isGroup=a,k.treeNodeColumn=s,k.expandColumn=i,k.isAllOverflow=c},It=()=>{$.customHeight=$t("height"),$.customMinHeight=$t("minHeight"),$.customMaxHeight=$t("maxHeight")},Dt=()=>{const l=J.value,o=le.value,n=ne.value,r=o?o.$el:null,a=l?l.$el:null,i=n?n.$el:null;if(!r)return;let s=0;const d=r.clientWidth-1;let u=d,p=u/100;const{fit:m}=t,{columnStore:f}=k,{resizeList:g,pxMinList:h,pxList:v,scaleList:b,scaleMinList:x,autoList:w}=f;if(h.forEach((t=>{const l=e.toInteger(t.minWidth);s+=l,t.renderWidth=l})),x.forEach((t=>{const l=Math.floor(e.toInteger(t.minWidth)*p);s+=l,t.renderWidth=l})),b.forEach((t=>{const l=Math.floor(e.toInteger(t.width)*p);s+=l,t.renderWidth=l})),v.forEach((t=>{const l=e.toInteger(t.width);s+=l,t.renderWidth=l})),g.forEach((t=>{const l=e.toInteger(t.resizeWidth);s+=l,t.renderWidth=l})),u-=s,p=u>0?Math.floor(u/(x.length+h.length+w.length)):0,m?u>0&&x.concat(h).forEach((e=>{s+=p,e.renderWidth+=p})):p=40,w.forEach((e=>{const t=Math.max(p,40);e.renderWidth=t,s+=t})),m){const e=b.concat(x).concat(h).concat(w);let t=e.length-1;if(t>0){let l=d-s;if(l>0){for(;l>0&&t>=0;)l--,e[t--].renderWidth++;s=d}}}const C=r.offsetHeight,y=r.scrollHeight>r.clientHeight;let E=0;y&&(E=Math.max(r.offsetWidth-r.clientWidth,0)),k.scrollbarWidth=E,k.overflowY=y,$.tableWidth=s,$.tableHeight=C;let S=0;a&&(S=a.clientHeight,c((()=>{a&&r&&a.scrollLeft!==r.scrollLeft&&(a.scrollLeft=r.scrollLeft)}))),$.headerHeight=S;let T=!1,O=0,R=0;i?(O=i.offsetHeight,T=s>i.clientWidth,T&&(R=Math.max(O-i.clientHeight,0))):(T=s>d,T&&(R=Math.max(C-r.clientHeight,0))),$.footerHeight=O,k.overflowX=T,k.scrollbarHeight=R,It(),k.parentHeight=Math.max($.headerHeight+O+20,D.getParentHeight()),T&&D.checkScrolling()},Ft=t=>{const{sortBy:l,sortType:o}=t;return n=>{let r;return r=l?e.isFunction(l)?l({row:n,column:t}):e.get(n,l):D.getCellLabel(n,t),o&&"auto"!==o?"number"===o?e.toNumber(r):"string"===o?e.toValueString(r):r:isNaN(r)?r:e.toNumber(r)}},Nt=()=>{const{treeConfig:l}=t,{afterFullData:o,fullDataRowIdData:n,fullAllDataRowIdData:r}=$,{afterTreeFullData:a}=$,i=it.value,s=i.children||i.childrenField,c={};l?e.eachTree(a,((e,t,l,o)=>{const a=he(bt,e),i=r[a],s=o.map(((e,t)=>t%2==0?Number(e)+1:".")).join("");if(i)i.seq=s,i._index=t;else{const l={row:e,rowid:a,seq:s,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};r[a]=l,n[a]=l}c[a]=e}),{children:i.transform?i.mapChildrenField:s}):o.forEach(((e,t)=>{const l=he(bt,e),o=r[l],a=t+1;if(o)o.seq=a,o._index=t;else{const o={row:e,rowid:l,seq:a,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};r[l]=o,n[l]=o}c[l]=e})),$.afterFullRowMaps=c},Lt=()=>{const{treeConfig:l}=t,{treeExpandedMaps:o}=k,n=it.value;if(l&&n.transform){const t=[],l={};return e.eachTree($.afterTreeFullData,((e,n,r,a,i)=>{const s=he(bt,e),c=he(bt,i);(!i||l[c]&&o[c])&&(l[s]=1,t.push(e))}),{children:n.mapChildrenField}),$.afterFullData=t,ol(t),t}return $.afterFullData},At=()=>{const{border:l,showFooter:o,showOverflow:n,showHeaderOverflow:r,showFooterOverflow:a,mouseConfig:i,spanMethod:s,footerSpanMethod:d,keyboardConfig:u}=t,{isGroup:p,currentRow:m,tableColumn:f,scrollXLoad:g,scrollYLoad:h,scrollbarWidth:v,scrollbarHeight:b,columnStore:x,editStore:w,mergeList:C,mergeFooterList:y,isAllOverflow:E}=k;let{visibleColumn:S,fullColumnIdData:T,tableHeight:O,tableWidth:R,headerHeight:I,footerHeight:D,elemStore:F,customHeight:N,customMinHeight:L,customMaxHeight:A}=$;const P=Ce.value,V=dt.value,j=Ue.value,B=Xe.value,_=F["main-body-wrapper"],z=_?_.value:null;return P&&(P.style.top=`${I}px`,P.style.height=z?z.offsetHeight-b+"px":""),N>0&&o&&(N+=b),["main","left","right"].forEach(((t,i)=>{const c=i>0?t:"",m="left"===c;let w,$=[];c&&($=m?x.leftList:x.rightList,w=m?be.value:xe.value),["header","body","footer"].forEach((i=>{const x=F[`${t}-${i}-wrapper`],P=x?x.value:null,j=F[`${t}-${i}-table`],_=j?j.value:null;if("header"===i){let o=R,n=f;p?n=S:c&&(g||r)&&(n=$),o=n.reduce(((e,t)=>e+t.renderWidth),0),_&&(_.style.width=o?`${o+v}px`:"");const a=F[`${t}-${i}-repair`],s=a?a.value:null;s&&(s.style.width=`${R}px`);const d=F[`${t}-${i}-list`],u=d?d.value:null;p&&u&&e.arrayEach(u.querySelectorAll(".col--group"),(t=>{const o=M.getColumnNode(t);if(o){const n=o.item,{showHeaderOverflow:a}=n,i=e.isBoolean(a)?a:r,s="title"===i||(!0===i||"tooltip"===i)||"ellipsis"===i;let c=0,d=0;s&&e.eachTree(n.children,(e=>{e.children&&n.children.length||d++,c+=e.renderWidth}),{children:"children"}),t.style.width=s?c-d-(l?2:0)+"px":""}}))}else if("body"===i){const e=F[`${t}-${i}-emptyBlock`],l=e?e.value:null;if(ce(P)){let e=0;const t=L-I-D;if(A&&(e=A-I-D,c&&(e-=o?0:b),e=Math.max(t,e),P.style.maxHeight=`${e}px`),N){let l=N-I-D;c&&(l-=o?0:b),e&&(l=Math.min(e,l)),P.style.height=`${Math.max(t,l)}px`}else P.style.height="";P.style.minHeight=`${t}px`}w&&(ce(P)&&(P.style.top=`${I}px`),w.style.height=(N>0?N-I-D:O)+I+D-b*(o?2:1)+"px",w.style.width=`${$.reduce(((e,t)=>e+t.renderWidth),m?0:v)}px`);let r=R,a=f;c&&(a=k.expandColumn||!h&&!(n?E:n)||C.length||s||u&&B.isMerge?S:$),r=a.reduce(((e,t)=>e+t.renderWidth),0),_&&(_.style.width=r?`${r}px`:"",_.style.paddingRight=v&&c&&(H["-moz"]||H.safari)?`${v}px`:""),l&&(l.style.width=r?`${r}px`:"")}else if("footer"===i){let e=R,t=f;c&&(t=k.expandColumn||!g&&!a||y.length&&d?S:$),e=t.reduce(((e,t)=>e+t.renderWidth),0),ce(P)&&(w&&(P.style.top=`${N>0?N-D:O+I}px`),P.style.marginTop=-Math.max(1,b)+"px"),_&&(_.style.width=e?`${e+v}px`:"")}const z=F[`${t}-${i}-colgroup`],W=z?z.value:null;W&&e.arrayEach(W.children,(l=>{const o=l.getAttribute("name");if("col_gutter"===o&&(l.style.width=`${v}px`),T[o]){const s=T[o].column,{showHeaderOverflow:c,showFooterOverflow:d,showOverflow:u}=s;let p;l.style.width=`${s.renderWidth}px`,p="header"===i?e.isUndefined(c)||e.isNull(c)?r:c:"footer"===i?e.isUndefined(d)||e.isNull(d)?a:d:e.isUndefined(u)||e.isNull(u)?n:u;let m="title"===p||(!0===p||"tooltip"===p)||"ellipsis"===p;const f=F[`${t}-${i}-list`],g=f?f.value:null;h&&!m&&(m=!0),g&&e.arrayEach(g.querySelectorAll(`.${s.id}`),(e=>{const t=parseInt(e.getAttribute("colspan")||1),l=e.querySelector(".vxe-cell");let o=s.renderWidth;if(l){if(t>1){const e=M.getColumnIndex(s);for(let l=1;l<t;l++){const t=M.getColumns(e+l);t&&(o+=t.renderWidth)}}l.style.width=m?o-V*t+"px":""}}))}}))}))})),m&&M.setCurrentRow(m),i&&j.selected&&w.selected.row&&w.selected.column&&bt.addCellSelectedClass(),c()},Pt=e=>bt.triggerValidate?bt.triggerValidate(e):c(),Vt=(e,t)=>{Pt("blur").catch((e=>e)).then((()=>{bt.handleActived(t,e).then((()=>Pt("change"))).catch((e=>e))}))},jt=(e,t)=>{const{checkboxReserveRowMap:l}=$;if(je.value.reserve){const o=he(bt,e);t?l[o]=e:l[o]&&delete l[o]}},Bt=(e,t)=>{const l=Ve.value,{checkMethod:o}=l;return e&&(t||!o||o({row:e}))&&(k.selectRadioRow=e,(e=>{Ve.value.reserve&&($.radioReserveRow=e)})(e)),c()},_t=(t,l,o)=>(t&&!e.isArray(t)&&(t=[t]),t.forEach((e=>D.handleSelectRow({row:e},!!l,o))),c()),Ht=(l,o)=>{const{treeConfig:n}=t,{selectCheckboxMaps:r}=k,{afterFullData:a,afterFullRowMaps:i,checkboxReserveRowMap:s}=$,d=it.value,u=d.children||d.childrenField,p=je.value,{checkField:m,reserve:f,checkStrictly:g,checkMethod:h}=p,v=p.indeterminateField||p.halfField,b={};if(n||e.each(r,((e,t)=>{i[t]||(b[t]=e)})),g)k.isAllSelected=l;else{if(m){const t=t=>{(o||!h||h({row:t}))&&(l&&(b[he(bt,t)]=t),e.set(t,m,l)),n&&v&&e.set(t,v,!1)};n?e.eachTree(a,t,{children:u}):a.forEach(t)}else n?l?e.eachTree(a,(e=>{(o||!h||h({row:e}))&&(b[he(bt,e)]=e)}),{children:u}):!o&&h&&e.eachTree(a,(e=>{const t=he(bt,e);!h({row:e})&&r[t]&&(b[t]=e)}),{children:u}):l?!o&&h?a.forEach((e=>{const t=he(bt,e);(r[t]||h({row:e}))&&(b[t]=e)})):a.forEach((e=>{b[he(bt,e)]=e})):!o&&h&&a.forEach((e=>{const t=he(bt,e);!h({row:e})&&r[t]&&(b[t]=e)}));f&&(l?e.each(b,((e,t)=>{s[t]=e})):a.forEach((e=>jt(e,!1)))),k.selectCheckboxMaps=m?{}:b}return k.treeIndeterminateMaps={},$.treeIndeterminateRowMaps={},D.checkSelectionStatus(),c()},zt=t=>{const l=it.value,o=je.value,{transform:n,loadMethod:r}=l,{checkStrictly:a}=o;return new Promise((l=>{if(r){const{treeExpandLazyLoadedMaps:o}=k,{fullAllDataRowIdData:i}=$,s=he(bt,t),d=i[s];o[s]=t,r({$table:bt,row:t}).then((l=>{if(d.treeLoaded=!0,o[s]&&delete o[s],e.isArray(l)||(l=[]),l)return M.loadTreeChildren(t,l).then((e=>{const{treeExpandedMaps:l}=k;return e.length&&!l[s]&&(l[s]=t),!a&&M.isCheckedByCheckboxRow(t)&&_t(e,!0),c().then((()=>{if(n)return D.handleTableData()}))}))})).catch((()=>{const{treeExpandLazyLoadedMaps:e}=k;d.treeLoaded=!1,e[s]&&delete e[s]})).finally((()=>{c().then((()=>M.recalculate())).then((()=>l()))}))}else l()}))},Wt=(e,t)=>{const{treeExpandedReserveRowMap:l}=$;if(it.value.reserve){const o=he(bt,e);t?l[o]=e:l[o]&&delete l[o]}},qt=e=>new Promise((t=>{const l=at.value,{loadMethod:o}=l;if(o){const{fullAllDataRowIdData:l}=$,{rowExpandLazyLoadedMaps:n}=k,r=he(bt,e),a=l[r];n[r]=e,o({$table:bt,row:e,rowIndex:M.getRowIndex(e),$rowIndex:M.getVMRowIndex(e)}).then((()=>{const{rowExpandedMaps:t}=k;a.expandLoaded=!0,t[r]=e})).catch((()=>{a.expandLoaded=!1})).finally((()=>{const{rowExpandLazyLoadedMaps:e}=k;e[r]&&delete e[r],c().then((()=>M.recalculate())).then((()=>t()))}))}else t()})),Ut=(e,t)=>{const{rowExpandedReserveRowMap:l}=$;if(at.value.reserve){const o=he(bt,e);t?l[o]=e:l[o]&&delete l[o]}},Yt=()=>c().then((()=>{const{scrollXLoad:t,scrollYLoad:l}=k,{scrollXStore:o,scrollYStore:n}=$,r=$e.value,a=Re.value;if(t){const{visibleSize:t}=St(),l=a.oSize?e.toNumber(a.oSize):H.edge?5:0;o.offsetSize=l,o.visibleSize=t,o.endIndex=Math.max(o.startIndex+o.visibleSize+l,o.endIndex),D.updateScrollXData()}else D.updateScrollXSpace();const{rowHeight:i,visibleSize:s}=(()=>{const e=J.value,t=le.value,l=t?t.$el:null,o=S.value,n=Ie.value;if(l){const t=e?e.$el:null;let r,a=0;return r=l.querySelector("tr"),!r&&t&&(r=t.querySelector("tr")),r&&(a=r.clientHeight),a||(a=n[o||"default"]),{rowHeight:a,visibleSize:Math.max(8,Math.ceil(l.clientHeight/a)+2)}}return{rowHeight:0,visibleSize:8}})();if(n.rowHeight=i,l){const t=r.oSize?e.toNumber(r.oSize):H.edge?10:0;n.offsetSize=t,n.visibleSize=s,n.endIndex=Math.max(n.startIndex+s+t,n.endIndex),D.updateScrollYData()}else D.updateScrollYSpace();k.rowHeight=i,c(At)})),Gt=l=>{const{keepSource:n,treeConfig:r}=t,{editStore:a,scrollYLoad:i}=k,{scrollYStore:s,scrollXStore:d,lastScrollLeft:u,lastScrollTop:p}=$,m=it.value,{transform:f}=m,g=m.children||m.childrenField;let h=[],v=o(l?l.slice(0):[]);r&&(f?(h=e.toArrayTree(v,{key:m.rowField,parentKey:m.parentField,children:g,mapChildren:m.mapChildrenField}),v=h.slice(0)):h=v.slice(0)),s.startIndex=0,s.endIndex=1,d.startIndex=0,d.endIndex=1,k.scrollVMLoading=!1,a.insertMaps={},a.removeMaps={};const b=ol(v);return k.scrollYLoad=b,$.tableFullData=v,$.tableFullTreeData=h,D.cacheRowMap(!0),$.tableSynchData=l,n&&D.cacheSourceMap(v),bt.clearCellAreas&&t.mouseConfig&&(bt.clearCellAreas(),bt.clearCopyCellArea()),M.clearMergeCells(),M.clearMergeFooterItems(),D.handleTableData(!0),M.updateFooter(),c().then((()=>{It(),At()})).then((()=>{Yt()})).then((()=>(b&&(s.endIndex=s.visibleSize),(()=>{const{treeConfig:e}=t,{expandColumn:l,currentRow:o,selectCheckboxMaps:n,selectRadioRow:r,rowExpandedMaps:a,treeExpandedMaps:i}=k,{fullDataRowIdData:s,fullAllDataRowIdData:c,radioReserveRow:d}=$,u=at.value,p=it.value,m=Ve.value,f=je.value;if(r&&!c[he(bt,r)]&&(k.selectRadioRow=null),m.reserve&&d){const e=he(bt,d);s[e]&&Bt(s[e].row,!0)}k.selectCheckboxMaps=yt(n),f.reserve&&_t(Et($.checkboxReserveRowMap),!0,!0),o&&!c[he(bt,o)]&&(k.currentRow=null),k.rowExpandedMaps=l?yt(a):{},l&&u.reserve&&M.setRowExpand(Et($.rowExpandedReserveRowMap),!0),k.treeExpandedMaps=e?yt(i):{},e&&p.reserve&&M.setTreeExpand(Et($.treeExpandedReserveRowMap),!0)})(),D.checkSelectionStatus(),new Promise((e=>{c().then((()=>M.recalculate())).then((()=>{let t=u,l=p;const o=Re.value,n=$e.value;o.scrollToLeftOnChange&&(t=0),n.scrollToTopOnChange&&(l=0),i===b?ue(bt,t,l).then(e):setTimeout((()=>ue(bt,t,l).then(e)))}))})))))},Kt=()=>{(()=>{const{checkboxConfig:e}=t;if(e){const{fullDataRowIdData:e}=$,t=je.value,{checkAll:l,checkRowKeys:o}=t;if(l)Ht(!0,!0);else if(o){const t=[];o.forEach((l=>{e[l]&&t.push(e[l].row)})),_t(t,!0,!0)}}})(),(()=>{const{radioConfig:e}=t;if(e){const{fullDataRowIdData:e}=$,t=Ve.value,{checkRowKey:l,reserve:o}=t;if(l&&(e[l]&&Bt(e[l].row,!0),o)){const e=ge(bt);$.radioReserveRow={[e]:l}}}})(),(()=>{const{expandConfig:e}=t;if(e){const{fullDataRowIdData:e}=$,t=at.value,{expandAll:l,expandRowKeys:o}=t;if(l)M.setAllRowExpand(!0);else if(o){const t=[];o.forEach((l=>{e[l]&&t.push(e[l].row)})),M.setRowExpand(t,!0)}}})(),(()=>{const{treeConfig:l}=t;if(l){const{tableFullData:t}=$,l=it.value,{expandAll:o,expandRowKeys:n}=l,r=l.children||l.childrenField;if(o)M.setAllTreeExpand(!0);else if(n){const l=[],o=ge(bt);n.forEach((n=>{const a=e.findTree(t,(t=>n===e.get(t,o)),{children:r});a&&l.push(a.item)})),M.setTreeExpand(l,!0)}}})(),(()=>{const{mergeCells:e}=t;e&&M.setMergeCells(e)})(),(()=>{const{mergeFooterItems:e}=t;e&&M.setMergeFooterItems(e)})(),c((()=>setTimeout((()=>M.recalculate()))))},Zt=()=>{(()=>{const{sortConfig:l}=t;if(l){const t=We.value;let{defaultSort:o}=t;o&&(e.isArray(o)||(o=[o]),o.length&&((l.multiple?o:o.slice(0,1)).forEach(((e,t)=>{const{field:l,order:o}=e;if(l&&o){const e=M.getColumnByField(l);e&&e.sortable&&(e.order=o,e.sortTime=Date.now()+t)}})),t.remote||D.handleTableData(!0).then(At)))}})()},Jt=()=>{const{scrollXLoad:e}=k,{visibleColumn:t,scrollXStore:l,fullColumnIdData:o}=$,n=e?t.slice(l.startIndex,l.endIndex):t.slice(0);n.forEach(((e,t)=>{const l=e.id,n=o[l];n&&(n.$index=t)})),k.tableColumn=n},Qt=()=>{const{mergeList:e,mergeFooterList:t}=k,{scrollXStore:l}=$,{startIndex:o,endIndex:n,offsetSize:r}=l,{toVisibleIndex:a,visibleSize:i}=St(),s={startIndex:Math.max(0,a-1-r),endIndex:a+i+r};Tt(e.concat(t),s,"col");const{startIndex:c,endIndex:d}=s;(a<=o||a>=n-i-1)&&(o===c&&n===d||(l.startIndex=c,l.endIndex=d,D.updateScrollXData())),M.closeTooltip()},el=e=>{const t=[];return e.forEach((e=>{t.push(...e.children&&e.children.length?el(e.children):[e])})),t},tl=()=>{const t=[],l=[],o=[],{isGroup:n,columnStore:r}=k,a=Re.value,{collectColumn:i,tableFullColumn:s,scrollXStore:c,fullColumnIdData:d}=$;if(n){const n=[],r=[],a=[];e.eachTree(i,((n,r,a,i,s)=>{const c=A(n);s&&s.fixed&&(n.fixed=s.fixed),s&&n.fixed!==s.fixed&&R("vxe.error.groupFixed"),c?n.visible=!!e.findTree(n.children,(e=>!A(e)&&e.visible)):n.visible&&("left"===n.fixed?t.push(n):"right"===n.fixed?o.push(n):l.push(n))})),i.forEach((e=>{e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?a.push(e):r.push(e))})),k.tableGroupColumn=n.concat(r).concat(a)}else s.forEach((e=>{e.visible&&("left"===e.fixed?t.push(e):"right"===e.fixed?o.push(e):l.push(e))}));const u=t.concat(l).concat(o),p=!!a.enabled&&a.gt>-1&&(0===a.gt||a.gt<s.length);if(k.hasFixedColumn=t.length>0||o.length>0,Object.assign(r,{leftList:t,centerList:l,rightList:o}),p){const{visibleSize:e}=St();c.startIndex=0,c.endIndex=e,c.visibleSize=e}return u.length===$.visibleColumn.length&&$.visibleColumn.every(((e,t)=>e===u[t]))||(M.clearMergeCells(),M.clearMergeFooterItems()),k.scrollXLoad=p,u.forEach(((e,t)=>{const l=e.id,o=d[l];o&&(o._index=t)})),$.visibleColumn=u,Jt(),M.updateFooter().then((()=>M.recalculate())).then((()=>(M.updateCellAreas(),M.recalculate())))},ll=l=>{$.collectColumn=l;const o=el(l);return $.tableFullColumn=o,(()=>{const{collectColumn:e}=$;e.forEach(((e,t)=>{const l=t+1;e.sortNumber=l,e.renderSortNumber=l}))})(),(()=>{const{id:l,customConfig:o}=t,n=ut.value,{storage:r}=n,a=!0===r,i=a?{}:Object.assign({},r||{}),s=a||i.resizable,c=a||i.visible,d=a||i.fixed,u=a||i.sort;if(o&&(s||c||d||u)){const t={};if(!l)return void R("vxe.error.reqProp",["id"]);if(s){const o=Ct(Tn)[l];o&&e.each(o,((e,l)=>{t[l]={resizeWidth:e}}))}if(d){const e=Ct(Rn)[l];e&&e.split(",").forEach((e=>{const[l,o]=e.split("|");t[l]?t[l].fixed=o:t[l]={fixed:o}}))}let o=!1;if(u){const n=Ct(kn)[l];n&&e.each(n,((e,l)=>{t[l]?t[l].renderSortNumber=e:t[l]={renderSortNumber:e},o||(o=!0)}))}if(c){const e=Ct(On)[l];if(e){const l=e.split("|"),o=l[0]?l[0].split(","):[],n=l[1]?l[1].split(","):[];o.forEach((e=>{t[e]?t[e].visible=!1:t[e]={visible:!1}})),n.forEach((e=>{t[e]?t[e].visible=!0:t[e]={visible:!0}}))}}let{collectColumn:n}=$;const r={};e.eachTree(n,(e=>{const t=e.getKey();t&&(r[t]=e)})),e.each(t,(({visible:t,resizeWidth:l,fixed:o,renderSortNumber:n},a)=>{const i=r[a];i&&(e.isNumber(l)&&(i.resizeWidth=l),e.isBoolean(t)&&(i.visible=t),o&&(i.fixed=o),n&&(i.renderSortNumber=Number(n)))})),o&&(n=e.orderBy(n,"renderSortNumber"),$.collectColumn=n,$.tableFullColumn=el(n))}})(),Mt(),tl().then((()=>{k.scrollXLoad&&Qt()})),M.clearMergeCells(),M.clearMergeFooterItems(),D.handleTableData(!0),c().then((()=>(Te&&Te.syncUpdate({collectColumn:l,$table:bt}),M.recalculate())))},ol=e=>{const{treeConfig:l}=t,o=$e.value,n=it.value,{transform:r}=n,a=e||$.tableFullData,i=(r||!l)&&!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<a.length);return k.scrollYLoad=i,i},nl=(t,l)=>{const{treeExpandedMaps:o,treeExpandLazyLoadedMaps:n,treeNodeColumn:r}=k,a=Object.assign({},o),{fullAllDataRowIdData:i,tableFullData:s}=$,c=it.value,{reserve:d,lazy:u,accordion:p,toggleMethod:m}=c,f=c.children||c.childrenField,g=c.hasChild||c.hasChildField,h=[],v=M.getColumnIndex(r),b=M.getVMColumnIndex(r);let x=m?t.filter((e=>m({$table:bt,expanded:l,column:r,columnIndex:v,$columnIndex:b,row:e}))):t;if(p){x=x.length?[x[x.length-1]]:[];const t=e.findTree(s,(e=>e===x[0]),{children:f});t&&t.items.forEach((e=>{const t=he(bt,e);a[t]&&delete a[t]}))}return l?x.forEach((e=>{const t=he(bt,e);if(!a[t]){const l=i[t];u&&e[g]&&!l.treeLoaded&&!n[t]?h.push(zt(e)):e[f]&&e[f].length&&(a[t]=e)}})):x.forEach((e=>{const t=he(bt,e);a[t]&&delete a[t]})),d&&x.forEach((e=>Wt(e,l))),k.treeExpandedMaps=a,Promise.all(h).then((()=>M.recalculate()))},rl=e=>{const{mergeList:t}=k,{scrollYStore:l}=$,{startIndex:o,endIndex:n,visibleSize:r,offsetSize:a,rowHeight:i}=l,s=(e.currentTarget||e.target).scrollTop,c=Math.floor(s/i),d={startIndex:Math.max(0,c-1-a),endIndex:c+r+a};Tt(t,d,"row");const{startIndex:u,endIndex:p}=d;(c<=o||c>=n-r-1)&&(o===u&&n===p||(l.startIndex=u,l.endIndex=p,D.updateScrollYData()))},bl=e=>function(t){const{fullAllDataRowIdData:l}=$;if(t){const o=l[he(bt,t)];if(o)return o[e]}return-1},xl=e=>function(t){const{fullColumnIdData:l}=$;if(t){const o=l[t.id];if(o)return o[e]}return-1},wl=e.debounce((function(e){rl(e)}),20,{leading:!1,trailing:!0});let Cl;M={dispatchEvent(e,t,l){m(e,Object.assign({$table:bt,$grid:Se,$event:l},t))},clearAll:()=>function(e){return e.clearFilter&&e.clearFilter(),function(e){const{props:t,internalData:l}=e;return l.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}(e)}(bt),syncData:()=>(O("vxe.error.delFunc",["syncData","getData"]),c().then((()=>(k.tableData=[],m("update:data",$.tableFullData),c())))),updateData(){const{scrollXLoad:e,scrollYLoad:t}=k;return D.handleTableData(!0).then((()=>{if(M.updateFooter(),e||t)return e&&D.updateScrollXSpace(),t&&D.updateScrollYSpace(),M.refreshScroll()})).then((()=>(M.updateCellAreas(),M.recalculate(!0)))).then((()=>{setTimeout((()=>bt.recalculate()),50)}))},loadData(e){const{inited:t,initStatus:l}=$;return Gt(e).then((()=>($.inited=!0,$.initStatus=!0,l||Kt(),t||Zt(),M.recalculate())))},reloadData(e){const{inited:t}=$;return M.clearAll().then((()=>($.inited=!0,$.initStatus=!0,Gt(e)))).then((()=>(Kt(),t||Zt(),M.recalculate())))},setRow(t,l){if(l){let o=t;e.isArray(t)||(o=[t]),o.forEach((e=>Object.assign(e,l)))}return c()},reloadRow(l,o,n){const{keepSource:r}=t,{tableData:a}=k,{tableSourceData:i}=$;if(r){const t=i[M.getRowIndex(l)];if(t&&l)if(n){const r=e.get(o||l,n);e.set(l,n,r),e.set(t,n,r)}else{const n=e.clone(Object.assign({},o),!0);e.destructuring(t,Object.assign(l,n))}k.tableData=a.slice(0)}return c()},loadTreeChildren(l,o){const{keepSource:n}=t,{tableSourceData:r,fullDataRowIdData:a,fullAllDataRowIdData:i,sourceDataRowIdData:s}=$,c=it.value,{transform:d,mapChildrenField:u}=c,p=c.children||c.childrenField,m=i[he(bt,l)],f=m?m.level:0;return M.createData(o).then((t=>{if(n){const o=he(bt,l),n=e.findTree(r,(e=>o===he(bt,e)),{children:p});n&&(n.item[p]=e.clone(t,!0)),t.forEach((t=>{const l=he(bt,t);s[l]=e.clone(t,!0)}))}return e.eachTree(t,((e,t,l,o,n,r)=>{const s=he(bt,e),c={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,items:l,parent:n||m.row,level:f+r.length};a[s]=c,i[s]=c}),{children:p}),l[p]=t,d&&(l[u]=t),Nt(),t}))},loadColumn(t){const l=e.mapTree(t,(e=>o(Qo.createColumn(bt,e))));return ll(l)},reloadColumn:e=>M.clearAll().then((()=>M.loadColumn(e))),getRowNode(e){if(e){const{fullAllDataRowIdData:t}=$,l=e.getAttribute("rowid");if(l){const e=t[l];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=$,l=e.getAttribute("colid");if(l){const e=t[l];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:bl("seq"),getRowIndex:bl("index"),getVTRowIndex:bl("_index"),getVMRowIndex:bl("$index"),getColumnIndex:xl("index"),getVTColumnIndex:xl("_index"),getVMColumnIndex:xl("$index"),createData:e=>c().then((()=>o(D.defineField(e)))),createRow(t){const l=e.isArray(t);return l||(t=[t||{}]),M.createData(t).then((e=>l?e:e[0]))},revertData(l,o){const{keepSource:n}=t,{tableSourceData:r,sourceDataRowIdData:a}=$;if(!n)return c();let i=l;return l?e.isArray(l)||(i=[l]):i=e.toArray(bt.getUpdateRecords()),i.length&&i.forEach((t=>{if(!M.isInsertByRow(t)){const l=he(bt,t),n=a[l];n&&t&&(o?e.set(t,o,e.clone(e.get(n,o),!0)):e.destructuring(t,e.clone(n,!0)))}})),l?c():M.reloadData(r)},clearData(t,l){const{tableFullData:o,visibleColumn:n}=$;return arguments.length?t&&!e.isArray(t)&&(t=[t]):t=o,l?t.forEach((t=>e.set(t,l,null))):t.forEach((e=>{n.forEach((t=>{t.field&&Ee(e,t,null)}))})),c()},isInsertByRow(e){const{editStore:t}=k,l=he(bt,e);return t.insertMaps[l]},removeInsertRow(){const{editStore:e}=k;return e.insertMaps={},bt.remove(bt.getInsertRecords())},isUpdateByRow(e,l){const{keepSource:o}=t,{tableFullColumn:n,fullDataRowIdData:r,sourceDataRowIdData:a}=$;if(o){const t=he(bt,e);if(!r[t])return!1;const o=a[t];if(o){if(arguments.length>1)return!xt(o,e,l);for(let t=0,l=n.length;t<l;t++){const l=n[t].field;if(l&&!xt(o,e,l))return!0}}}return!1},getColumns(t){const l=$.visibleColumn;return e.isUndefined(t)?l.slice(0):l[t]},getColumnById(e){const t=$.fullColumnIdData;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=$.fullColumnFieldData;return e&&t[e]?t[e].column:null},getTableColumn:()=>({collectColumn:$.collectColumn.slice(0),fullColumn:$.tableFullColumn.slice(0),visibleColumn:$.visibleColumn.slice(0),tableColumn:k.tableColumn.slice(0)}),getData(l){const o=t.data||$.tableSynchData;return e.isUndefined(l)?o.slice(0):o[l]},getCheckboxRecords(l){const{treeConfig:o}=t,{tableFullData:n,afterFullData:r,afterTreeFullData:a,tableFullTreeData:i,fullDataRowIdData:s,afterFullRowMaps:c}=$,d=it.value,u=je.value,{transform:p,mapChildrenField:m}=d,{checkField:f}=u,g=d.children||d.childrenField;let h=[];const v=l?p?i:n:p?a:r;if(f)h=o?e.filterTree(v,(t=>e.get(t,f)),{children:p?m:g}):v.filter((t=>e.get(t,f)));else{const{selectCheckboxMaps:t}=k;e.each(t,((e,t)=>{l?s[t]&&h.push(s[t].row):c[t]&&h.push(c[t])}))}return h},getParentRow(l){const{treeConfig:o}=t,{fullDataRowIdData:n}=$;if(l&&o){let t;if(t=e.isString(l)?l:he(bt,l),t){const e=n[t];return e?e.parent:null}}return null},getRowById(t){const{fullDataRowIdData:l}=$,o=e.eqNull(t)?"":encodeURIComponent(t||"");return l[o]?l[o].row:null},getRowid:e=>he(bt,e),getTableData(){const{tableData:e,footerTableData:l}=k,{tableFullData:o,afterFullData:n,tableFullTreeData:r}=$;return{fullData:t.treeConfig?r.slice(0):o.slice(0),visibleData:n.slice(0),tableData:e.slice(0),footerData:l.slice(0)}},setColumnFixed(t,l){const o=ve(bt,t),n=ke(bt,o),r=mt.value,a=Fe.value,{maxFixedSize:i}=a;return n&&n.fixed!==l?!n.fixed&&r?(Xt.modal&&Xt.modal.message({status:"error",content:E.i18n("vxe.table.maxFixedCol",[i])}),c()):(e.eachTree([n],(e=>{e.fixed=l})),D.saveCustomFixed(),M.refreshColumn()):c()},clearColumnFixed(t){const l=ve(bt,t),o=ke(bt,l);return o&&o.fixed?(e.eachTree([o],(e=>{e.fixed=null})),D.saveCustomFixed(),M.refreshColumn()):c()},hideColumn(e){const t=ve(bt,e);return t&&t.visible?(t.visible=!1,D.handleCustom()):c()},showColumn(e){const t=ve(bt,e);return t&&!t.visible?(t.visible=!0,D.handleCustom()):c()},setColumnWidth(t,l){const o=ve(bt,t);if(o){const t=e.toInteger(l);let n=t;if(Y(l)){const e=le.value,l=e?e.$el:null,o=l?l.clientWidth-1:0;n=Math.floor(t*o)}o.renderWidth=n}return c()},getColumnWidth(e){const t=ve(bt,e);return t?t.renderWidth:0},resetColumn(t){const{collectColumn:l}=$,o=ut.value,{checkMethod:n}=o,r=Object.assign({visible:!0,resizable:!0===t,fixed:!0===t,sort:!0===t},t);return e.eachTree(l,(e=>{r.resizable&&(e.resizeWidth=0),r.fixed&&(e.fixed=e.defaultFixed),r.sort&&(e.renderSortNumber=e.sortNumber),n&&!n({column:e})||(e.visible=e.defaultVisible)})),r.resizable&&D.saveCustomResizable(!0),r.sort&&D.saveCustomSort(!0),r.fixed&&D.saveCustomFixed(),D.handleCustom()},refreshColumn(t){if(t){const t=e.orderBy($.collectColumn,"renderSortNumber");$.collectColumn=t;const l=el(t);$.tableFullColumn=l,Mt()}return tl().then((()=>M.refreshScroll())).then((()=>M.recalculate()))},refreshScroll(){const{lastScrollLeft:e,lastScrollTop:t}=$,l=le.value,o=ne.value,n=ae.value,r=de.value,a=l?l.$el:null,i=n?n.$el:null,s=r?r.$el:null,c=o?o.$el:null;return new Promise((l=>{if(e||t)return ue(bt,e,t).then().then((()=>{setTimeout(l,30)}));ee(a,t),ee(i,t),ee(s,t),te(c,e),setTimeout(l,30)}))},recalculate:e=>(Dt(),!0===e?Yt().then((()=>(Dt(),Yt()))):Yt()),openTooltip(e,t){const l=_.value;return l?l.open(e,t):c()},closeTooltip(){const{tooltipStore:e}=k,t=B.value,l=_.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1}),t&&t.close()),l&&l.close(),c()},isAllCheckboxChecked:()=>k.isAllSelected,isAllCheckboxIndeterminate:()=>!k.isAllSelected&&k.isIndeterminate,getCheckboxIndeterminateRecords(l){const{treeConfig:o}=t,{fullDataRowIdData:n}=$,{treeIndeterminateMaps:r}=k;if(o){const t=[],o=[];return e.each(r,((e,l)=>{e&&(t.push(e),n[l]&&o.push(e))})),l?t:o}return[]},setCheckboxRow:(e,t)=>_t(e,t,!0),isCheckedByCheckboxRow(t){const{selectCheckboxMaps:l}=k,o=je.value,{checkField:n}=o;return n?e.get(t,n):!!l[he(bt,t)]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateMaps:t}=k;return!!t[he(bt,e)]&&!M.isCheckedByCheckboxRow(e)},toggleCheckboxRow(t){const{selectCheckboxMaps:l}=k,o=je.value,{checkField:n}=o,r=n?!e.get(t,n):!l[he(bt,t)];return D.handleSelectRow({row:t},r,!0),c()},setAllCheckboxRow:e=>Ht(e,!0),getRadioReserveRecord(l){const{treeConfig:o}=t,{fullDataRowIdData:n,radioReserveRow:r,afterFullData:a}=$,i=Ve.value,s=it.value,c=s.children||s.childrenField;if(i.reserve&&r){const t=he(bt,r);if(l){if(!n[t])return r}else{const l=ge(bt);if(o){if(e.findTree(a,(o=>t===e.get(o,l)),{children:c}))return r}else if(!a.some((o=>t===e.get(o,l))))return r}}return null},clearRadioReserve:()=>($.radioReserveRow=null,c()),getCheckboxReserveRecords(l){const{treeConfig:o}=t,{afterFullData:n,fullDataRowIdData:r,checkboxReserveRowMap:a}=$,i=je.value,s=it.value,c=s.children||s.childrenField,d=[];if(i.reserve){const t={};o?e.eachTree(n,(e=>{t[he(bt,e)]=1}),{children:c}):n.forEach((e=>{t[he(bt,e)]=1})),e.each(a,((e,o)=>{e&&(l?r[o]||d.push(e):t[o]||d.push(e))}))}return d},clearCheckboxReserve:()=>($.checkboxReserveRowMap={},c()),toggleAllCheckboxRow:()=>(D.triggerCheckAllEvent(null,!k.isAllSelected),c()),clearCheckboxRow(){const{treeConfig:l}=t,{tableFullData:o}=$,n=it.value,r=n.children||n.childrenField,a=je.value,{checkField:i,reserve:s}=a,d=a.indeterminateField||a.halfField;if(i){const t=t=>{l&&d&&e.set(t,d,!1),e.set(t,i,!1)};l?e.eachTree(o,t,{children:r}):o.forEach(t)}return s&&o.forEach((e=>jt(e,!1))),k.isAllSelected=!1,k.isIndeterminate=!1,k.selectCheckboxMaps={},k.treeIndeterminateMaps={},c()},setCurrentRow(l){const o=Ne.value,n=F.value;return M.clearCurrentRow(),k.currentRow=l,(o.isCurrent||t.highlightCurrentRow)&&n&&e.arrayEach(n.querySelectorAll(`[rowid="${he(bt,l)}"]`),(e=>K(e,"row--current"))),c()},isCheckedByRadioRow:e=>bt.eqRow(k.selectRadioRow,e),setRadioRow:e=>Bt(e,!0),clearCurrentRow(){const t=F.value;return k.currentRow=null,$.hoverRow=null,t&&e.arrayEach(t.querySelectorAll(".row--current"),(e=>G(e,"row--current"))),c()},clearRadioRow:()=>(k.selectRadioRow=null,c()),getCurrentRecord:()=>Ne.value.isCurrent||t.highlightCurrentRow?k.currentRow:null,getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:l}=$,{selectRadioRow:o}=k;if(o){const n=he(bt,o);if(e){if(t[n])return o}else if(l[n])return o}return null},getCurrentColumn:()=>Fe.value.isCurrent||t.highlightCurrentColumn?k.currentColumn:null,setCurrentColumn(e){const t=ve(bt,e);return t&&(M.clearCurrentColumn(),k.currentColumn=t),c()},clearCurrentColumn:()=>(k.currentColumn=null,c()),setPendingRow(t,l){const o=Object.assign({},k.pendingRowMaps),n=[...k.pendingRowList];return t&&!e.isArray(t)&&(t=[t]),l?t.forEach((e=>{const t=he(bt,e);t&&!o[t]&&(n.push(e),o[t]=e)})):t.forEach((e=>{const t=he(bt,e);if(t&&o[t]){const l=bt.findRowIndexOf(n,e);l>-1&&n.splice(l,1),delete o[t]}})),k.pendingRowMaps=o,k.pendingRowList=n,c()},togglePendingRow(t){const l=Object.assign({},k.pendingRowMaps),o=[...k.pendingRowList];return t&&!e.isArray(t)&&(t=[t]),t.forEach((e=>{const t=he(bt,e);if(t)if(l[t]){const n=bt.findRowIndexOf(o,e);n>-1&&o.splice(n,1),delete l[t]}else o.push(e),l[t]=e})),k.pendingRowMaps=l,k.pendingRowList=o,c()},hasPendingByRow(e){const{pendingRowMaps:t}=k;return!!t[he(bt,e)]},getPendingRecords(){const{pendingRowList:e}=k;return e.slice(0)},clearPendingRow:()=>(k.pendingRowMaps={},k.pendingRowList=[],c()),sort(t,l){const o=We.value,{multiple:n,remote:r,orders:a}=o;return t&&e.isString(t)&&(t=[{field:t,order:l}]),e.isArray(t)||(t=[t]),t.length?(n||kt(),(n?t:[t[0]]).forEach(((t,l)=>{let{field:o,order:n}=t,r=o;e.isString(o)&&(r=M.getColumnByField(o)),r&&r.sortable&&(-1===a.indexOf(n)&&(n=wt(r)),r.order!==n&&(r.order=n),r.sortTime=Date.now()+l)})),r||D.handleTableData(!0),c().then((()=>(M.updateCellAreas(),At())))):c()},clearSort(e){const t=We.value;if(e){const t=ve(bt,e);t&&(t.order=null)}else kt();return t.remote||D.handleTableData(!0),c().then(At)},isSort(e){if(e){const t=ve(bt,e);return!!t&&(t.sortable&&!!t.order)}return M.getSortColumns().length>0},getSortColumns(){const t=We.value,{multiple:l,chronological:o}=t,n=[],{tableFullColumn:r}=$;return r.forEach((e=>{const{field:t,order:l}=e;e.sortable&&l&&n.push({column:e,field:t,property:t,order:l,sortTime:e.sortTime})})),l&&o&&n.length>1?e.orderBy(n,"sortTime"):n},closeFilter(){const{filterStore:e}=k,{column:t,visible:l}=e;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),l&&bt.dispatchEvent("filter-visible",{column:t,property:t.field,field:t.field,filterList:bt.getCheckedFilters(),visible:!1},null),c()},isActiveFilterByColumn(e){const t=ve(bt,e);return t?t.filters&&t.filters.some((e=>e.checked)):bt.getCheckedFilters().length>0},isFilter:e=>M.isActiveFilterByColumn(e),isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=$,l=t[he(bt,e)];return l&&!!l.expandLoaded},clearRowExpandLoaded(e){const{rowExpandLazyLoadedMaps:t}=k,{fullAllDataRowIdData:l}=$,o=at.value,{lazy:n}=o,r=he(bt,e),a=l[r];return n&&a&&(a.expandLoaded=!1,delete t[r]),c()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:t}=k,l=at.value,{lazy:o}=l,n=he(bt,e);return o&&!t[n]&&M.clearRowExpandLoaded(e).then((()=>qt(e))),c()},reloadExpandContent:e=>M.reloadRowExpand(e),toggleRowExpand:e=>M.setRowExpand(e,!M.isRowExpandByRow(e)),setAllRowExpand(l){const o=it.value,{tableFullData:n,tableFullTreeData:r}=$,a=o.children||o.childrenField;let i=[];return t.treeConfig?e.eachTree(r,(e=>{i.push(e)}),{children:a}):i=n,M.setRowExpand(i,l)},setRowExpand(t,l){const{rowExpandedMaps:o,rowExpandLazyLoadedMaps:n,expandColumn:r}=k,{fullAllDataRowIdData:a}=$;let i=Object.assign({},o);const s=at.value,{reserve:c,lazy:d,accordion:u,toggleMethod:p}=s,m=[],f=M.getColumnIndex(r),g=M.getVMColumnIndex(r);if(t){e.isArray(t)||(t=[t]),u&&(i={},t=t.slice(t.length-1,t.length));const o=p?t.filter((e=>p({$table:bt,expanded:l,column:r,columnIndex:f,$columnIndex:g,row:e,rowIndex:M.getRowIndex(e),$rowIndex:M.getVMRowIndex(e)}))):t;l?o.forEach((e=>{const t=he(bt,e);if(!i[t]){const l=a[t];d&&!l.expandLoaded&&!n[t]?m.push(qt(e)):i[t]=e}})):o.forEach((e=>{const t=he(bt,e);i[t]&&delete i[t]})),c&&o.forEach((e=>Ut(e,l)))}return k.rowExpandedMaps=i,Promise.all(m).then((()=>M.recalculate()))},isRowExpandByRow(e){const{rowExpandedMaps:t}=k;return!!t[he(bt,e)]},isExpandByRow:e=>M.isRowExpandByRow(e),clearRowExpand(){const{tableFullData:e}=$,t=at.value,{reserve:l}=t,o=M.getRowExpandRecords();return k.rowExpandedMaps={},l&&e.forEach((e=>Ut(e,!1))),c().then((()=>{o.length&&M.recalculate()}))},clearRowExpandReserve:()=>($.rowExpandedReserveRowMap={},c()),getRowExpandRecords(){const t=[];return e.each(k.rowExpandedMaps,(e=>{e&&t.push(e)})),t},getTreeExpandRecords(){const t=[];return e.each(k.treeExpandedMaps,(e=>{e&&t.push(e)})),t},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=$,l=t[he(bt,e)];return l&&!!l.treeLoaded},clearTreeExpandLoaded(e){const{treeExpandedMaps:t}=k,{fullAllDataRowIdData:l}=$,o=it.value,{transform:n,lazy:r}=o,a=he(bt,e),i=l[a];return r&&i&&(i.treeLoaded=!1,t[a]&&delete t[a]),n?(Lt(),D.handleTableData()):c()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:t}=k,l=it.value,o=l.hasChild||l.hasChildField,{transform:n,lazy:r}=l,a=he(bt,e);return r&&e[o]&&!t[a]&&M.clearTreeExpandLoaded(e).then((()=>zt(e))).then((()=>{if(n)return Lt(),D.handleTableData()})).then((()=>M.recalculate())),c()},reloadTreeChilds:e=>M.reloadTreeExpand(e),toggleTreeExpand:e=>M.setTreeExpand(e,!M.isTreeExpandByRow(e)),setAllTreeExpand(t){const{tableFullData:l}=$,o=it.value,{transform:n,lazy:r}=o,a=o.children||o.childrenField,i=[];return e.eachTree(l,(e=>{const t=e[a];(r||t&&t.length)&&i.push(e)}),{children:a}),M.setTreeExpand(i,t).then((()=>{if(n)return Lt(),M.recalculate()}))},setTreeExpand(t,l){const o=it.value,{transform:n}=o;return t&&(e.isArray(t)||(t=[t]),t.length)?n?((e,t)=>nl(e,t).then((()=>(Lt(),D.handleTableData()))).then((()=>M.recalculate())))(t,l):nl(t,l):c()},isTreeExpandByRow(e){const{treeExpandedMaps:t}=k;return!!t[he(bt,e)]},clearTreeExpand(){const{tableFullTreeData:t}=$,l=it.value,o=l.children||l.childrenField,{transform:n,reserve:r}=l,a=M.getTreeExpandRecords();return k.treeExpandedMaps={},r&&e.eachTree(t,(e=>Wt(e,!1)),{children:o}),D.handleTableData().then((()=>{if(n)return Lt(),D.handleTableData()})).then((()=>{if(a.length)return M.recalculate()}))},clearTreeExpandReserve:()=>($.treeExpandedReserveRowMap={},c()),getScroll(){const{scrollXLoad:e,scrollYLoad:t}=k,l=le.value.$el;return{virtualX:e,virtualY:t,scrollTop:l.scrollTop,scrollLeft:l.scrollLeft}},scrollTo(t,l){const o=le.value,n=ne.value,r=de.value,a=o?o.$el:null,i=r?r.$el:null,s=n?n.$el:null;return e.isNumber(t)&&te(s||a,t),e.isNumber(l)&&ee(i||a,l),k.scrollXLoad||k.scrollYLoad?new Promise((e=>{setTimeout((()=>{c((()=>{e()}))}),50)})):c()},scrollToRow(e,l){const o=[];return e&&(t.treeConfig?o.push(D.scrollToTreeRow(e)):o.push(Me(bt,e))),l&&o.push(M.scrollToColumn(l)),Promise.all(o)},scrollToColumn(e){const{fullColumnIdData:t}=$,l=ve(bt,e);return l&&t[l.id]?function(e,t){const{reactData:l,internalData:o}=e,{refTableBody:n}=e.getRefMaps(),{scrollXLoad:r}=l,{visibleColumn:a}=o,i=n.value,s=i?i.$el:null;if(s){const l=s.querySelector(`.${t.id}`);if(l){const t=s.clientWidth,o=s.scrollLeft,n=l.offsetParent,r=l.offsetLeft+(n?n.offsetLeft:0),a=l.clientWidth;if(r<o||r>o+t)return e.scrollTo(r);if(r+a>=t+o)return e.scrollTo(o+a)}else if(r){let l=0;for(let e=0;e<a.length&&a[e]!==t;e++)l+=a[e].renderWidth;return e.scrollTo(l)}}return Promise.resolve()}(bt,l):c()},clearScroll(){const{scrollXStore:e,scrollYStore:t}=$,l=le.value,o=ne.value,n=de.value,r=l?l.$el:null,a=n?n.$el:null,i=o?o.$el:null;return a&&(me(a),a.scrollTop=0),i&&(i.scrollLeft=0),r&&(me(r),r.scrollTop=0,r.scrollLeft=0),e.startIndex=0,t.startIndex=0,c()},updateFooter(){const{showFooter:e,footerData:l,footerMethod:o}=t,{visibleColumn:n,afterFullData:r}=$;let a=[];return e&&l&&l.length?a=l.slice(0):e&&o&&(a=n.length?o({columns:n,data:r,$table:bt,$grid:Se}):[]),k.footerTableData=a,c()},updateStatus(l,o){const n=!e.isUndefined(o);return c().then((()=>{const{editRules:e}=t,{validStore:r}=k,a=le.value;if(l&&a&&e){const{row:e,column:t}=l,a="change";if(bt.hasCellRules&&bt.hasCellRules(a,e,t)){const l=D.getCell(e,t);if(l)return bt.validCellRules(a,e,t,o).then((()=>{n&&r.visible&&Ee(e,t,o),bt.clearValidate(e,t)})).catch((({rule:r})=>{n&&Ee(e,t,o),bt.showValidTooltip({rule:r,row:e,column:t,cell:l})}))}}}))},setMergeCells:e=>(t.spanMethod&&R("vxe.error.errConflicts",["merge-cells","span-method"]),Ot(e,k.mergeList,$.afterFullData),c().then((()=>(M.updateCellAreas(),At())))),removeMergeCells(e){t.spanMethod&&R("vxe.error.errConflicts",["merge-cells","span-method"]);const l=Rt(e,k.mergeList,$.afterFullData);return c().then((()=>(M.updateCellAreas(),At(),l)))},getMergeCells:()=>k.mergeList.slice(0),clearMergeCells:()=>(k.mergeList=[],c().then((()=>At()))),setMergeFooterItems:e=>(t.footerSpanMethod&&R("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Ot(e,k.mergeFooterList),c().then((()=>(M.updateCellAreas(),At())))),removeMergeFooterItems(e){t.footerSpanMethod&&R("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const l=Rt(e,k.mergeFooterList);return c().then((()=>(M.updateCellAreas(),At(),l)))},getMergeFooterItems:()=>k.mergeFooterList.slice(0),clearMergeFooterItems:()=>(k.mergeFooterList=[],c().then((()=>At()))),updateCellAreas(){const{mouseConfig:e}=t,l=Ue.value;return e&&l.area&&bt.handleUpdateCellAreas?bt.handleUpdateCellAreas():c()},focus:()=>($.isActivated=!0,c()),blur:()=>($.isActivated=!1,c()),connect:e=>(e?(Te=e,Te.syncUpdate({collectColumn:$.collectColumn,$table:bt})):R("vxe.error.barUnableLink"),c())};const yl=e=>{const{editStore:l,ctxMenuStore:o,filterStore:n,customStore:r}=k,{mouseConfig:a,editRules:i}=t,s=F.value,c=ze.value,d=Oe.value,u=Ye.value,{actived:p}=l,m=z.value,f=q.value,g=Z.value,h=W.value;if(f&&(oe(e,s,"vxe-cell--filter").flag||oe(e,f.$el).flag||oe(e,document.body,"vxe-table--ignore-clear").flag||D.preventEvent(e,"event.clearFilter",n.args,M.closeFilter)),g&&(r.btnEl===e.target||oe(e,document.body,"vxe-toolbar-custom-target").flag||oe(e,g.$el).flag||oe(e,document.body,"vxe-table--ignore-clear").flag||D.preventEvent(e,"event.clearCustom",{},(()=>{bt.closeCustom&&bt.closeCustom()}))),p.row){if(!1!==c.autoClear){const l=p.args.cell;l&&oe(e,l).flag||m&&oe(e,m.$el).flag||(!$._lastCallTime||$._lastCallTime+50<Date.now())&&(oe(e,document.body,"vxe-table--ignore-clear").flag||D.preventEvent(e,"event.clearEdit",p.args,(()=>{let l;if("row"===c.mode){const t=oe(e,s,"vxe-body--row"),o=t.flag?M.getRowNode(t.targetElem):null;l=!!o&&!bt.eqRow(o.item,p.args.row)}else l=!oe(e,s,"col--edit").flag;if(l||(l=oe(e,s,"vxe-header--row").flag),l||(l=oe(e,s,"vxe-footer--row").flag),!l&&t.height&&!k.overflowY){const t=e.target;X(t,"vxe-table--body-wrapper")&&(l=e.offsetY<t.clientHeight)}!l&&oe(e,s).flag||setTimeout((()=>bt.clearEdit(e)))})))}}else a&&(oe(e,s).flag||Se&&oe(e,Se.getRefMaps().refElem.value).flag||h&&oe(e,h.getRefMaps().refElem.value).flag||Te&&oe(e,Te.getRefMaps().refElem.value).flag||(bt.clearSelected&&bt.clearSelected(),u.autoClear&&bt.clearCellAreas&&(oe(e,document.body,"vxe-table--ignore-areas-clear").flag||D.preventEvent(e,"event.clearAreas",{},(()=>{bt.clearCellAreas(),bt.clearCopyCellArea()})))));bt.closeMenu&&o.visible&&h&&!oe(e,h.getRefMaps().refElem.value).flag&&bt.closeMenu();const v=oe(e,Se?Se.getRefMaps().refElem.value:s).flag;!v&&i&&d.autoClear&&(k.validErrorMaps={}),$.isActivated=v},Sl=()=>{M.closeFilter(),bt.closeMenu&&bt.closeMenu()},Ol=()=>{M.closeTooltip(),bt.closeMenu&&bt.closeMenu()},Rl=e=>{const{mouseConfig:l,keyboardConfig:o}=t,{filterStore:n,ctxMenuStore:r,editStore:a}=k,i=Ue.value,s=Xe.value,{actived:d}=a;El(e,il)&&D.preventEvent(e,"event.keydown",null,(()=>{if(M.dispatchEvent("keydown-start",{},e),o&&l&&i.area&&bt.handleKeyboardEvent)bt.handleKeyboardEvent(e);else if((d.row||n.visible||r.visible)&&(e.stopPropagation(),bt.closeMenu&&bt.closeMenu(),M.closeFilter(),o&&s.isEsc&&d.row)){const t=d.args;bt.clearEdit(e),i.selected&&c((()=>bt.handleSelected(t,e)))}M.dispatchEvent("keydown",{},e),M.dispatchEvent("keydown-end",{},e)}))},kl=l=>{$.isActivated&&D.preventEvent(l,"event.keydown",null,(()=>{const{mouseConfig:o,keyboardConfig:n,treeConfig:r,editConfig:a,highlightCurrentRow:i}=t,{ctxMenuStore:s,editStore:d,currentRow:u}=k,p=tt.value,m=Qe.value,f=Xe.value,g=Ue.value,h=ze.value,v=it.value,b=lt.value,x=Ne.value,{selected:w,actived:C}=d,y=v.children||v.childrenField,E=l.keyCode,S=El(l,il),T=El(l,ul),O=El(l,cl),R=El(l,sl),F=El(l,pl),N=El(l,hl),L=El(l,fl),P=El(l,vl),V=El(l,gl),j=El(l,dl),B=El(l,al),_=El(l,ml),H=l.metaKey,z=l.ctrlKey,W=l.shiftKey,q=l.altKey,U=N||L||P||V,Y=p&&s.visible&&(R||F||U),X=I(a)&&C.column&&C.row;let G;if(Y)l.preventDefault(),s.showChild&&A(s.selected)?bt.moveCtxMenu(l,s,"selectChild",N,!1,s.selected.children):bt.moveCtxMenu(l,s,"selected",P,!0,b);else if(n&&o&&g.area&&bt.handleKeyboardEvent)bt.handleKeyboardEvent(l);else if(S){if(bt.closeMenu&&bt.closeMenu(),M.closeFilter(),n&&f.isEsc&&C.row){const e=C.args;bt.clearEdit(l),g.selected&&c((()=>bt.handleSelected(e,l)))}}else if(F&&n&&f.isChecked&&w.row&&w.column&&("checkbox"===w.column.type||"radio"===w.column.type))l.preventDefault(),"checkbox"===w.column.type?D.handleToggleCheckRowEvent(l,w.args):D.triggerRadioRowEvent(l,w.args);else if(B&&I(a))X||w.row&&w.column&&(l.preventDefault(),bt.handleActived(w.args,l));else if(_)$._keyCtx=w.row&&w.column&&m.length,clearTimeout(Cl),Cl=setTimeout((()=>{$._keyCtx=!1}),1e3);else if(R&&!q&&n&&f.isEnter&&(w.row||C.row||r&&(x.isCurrent||i)&&u)){if(z)C.row&&(G=C.args,bt.clearEdit(l),g.selected&&c((()=>bt.handleSelected(G,l))));else if(w.row||C.row){const e=w.row?w.args:C.args;W?f.enterToTab?bt.moveTabSelected(e,W,l):bt.moveSelected(e,N,!0,P,!1,l):f.enterToTab?bt.moveTabSelected(e,W,l):bt.moveSelected(e,N,!1,P,!0,l)}else if(r&&(x.isCurrent||i)&&u){const e=u[y];if(e&&e.length){l.preventDefault();const t=e[0];G={$table:bt,row:t,rowIndex:M.getRowIndex(t),$rowIndex:M.getVMRowIndex(t)},M.setTreeExpand(u,!0).then((()=>M.scrollToRow(t))).then((()=>D.triggerCurrentRowEvent(l,G)))}}}else if(U&&n&&f.isArrow)X||(w.row&&w.column?bt.moveSelected(w.args,N,L,P,V,l):(L||V)&&(x.isCurrent||i)&&bt.moveCurrentRow(L,V,l));else if(O&&n&&f.isTab)w.row||w.column?bt.moveTabSelected(w.args,W,l):(C.row||C.column)&&bt.moveTabSelected(C.args,W,l);else if(n&&I(a)&&(j||(r&&(x.isCurrent||i)&&u?T&&f.isArrow:T))){if(!X){const{delMethod:t,backMethod:o}=f;if(f.isDel&&(w.row||w.column)){const e={row:w.row,rowIndex:M.getRowIndex(w.row),column:w.column,columnIndex:M.getColumnIndex(w.column),$table:bt};t?t(e):Ee(w.row,w.column,null),T?o?o({row:w.row,rowIndex:M.getRowIndex(w.row),column:w.column,columnIndex:M.getColumnIndex(w.column),$table:bt}):bt.handleActived(w.args,l):j&&M.updateFooter(),bt.dispatchEvent("cell-delete-value",e,l)}else if(T&&f.isArrow&&r&&(x.isCurrent||i)&&u){const{parent:t}=e.findTree($.afterFullData,(e=>e===u),{children:y});t&&(l.preventDefault(),G={$table:bt,row:t,rowIndex:M.getRowIndex(t),$rowIndex:M.getVMRowIndex(t)},M.setTreeExpand(t,!1).then((()=>M.scrollToRow(t))).then((()=>D.triggerCurrentRowEvent(l,G))))}}}else if(n&&I(a)&&f.isEdit&&!z&&!H&&(F||E>=48&&E<=57||E>=65&&E<=90||E>=96&&E<=111||E>=186&&E<=192||E>=219&&E<=222)){const{editMethod:e}=f;if(w.column&&w.row&&I(w.column.editRender)){const t=h.beforeEditMethod||h.activeMethod;if(!t||t(Object.assign(Object.assign({},w.args),{$table:bt,$grid:Se}))){e?e({row:w.row,rowIndex:M.getRowIndex(w.row),column:w.column,columnIndex:M.getColumnIndex(w.column),$table:bt,$grid:Se}):(Ee(w.row,w.column,null),bt.handleActived(w.args,l));const t=h.afterEditMethod;t&&c((()=>{t({row:w.row,rowIndex:M.getRowIndex(w.row),column:w.column,columnIndex:M.getColumnIndex(w.column),$table:bt,$grid:Se})}))}}}M.dispatchEvent("keydown",{},l)}))},$l=e=>{const{keyboardConfig:l,mouseConfig:o}=t,{editStore:n,filterStore:r}=k,{isActivated:a}=$,i=Ue.value,s=Xe.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&bt.handlePasteCellAreaEvent&&bt.handlePasteCellAreaEvent(e),M.dispatchEvent("paste",{},e))},Ml=e=>{const{keyboardConfig:l,mouseConfig:o}=t,{editStore:n,filterStore:r}=k,{isActivated:a}=$,i=Ue.value,s=Xe.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&bt.handleCopyCellAreaEvent&&bt.handleCopyCellAreaEvent(e),M.dispatchEvent("copy",{},e))},Il=e=>{const{keyboardConfig:l,mouseConfig:o}=t,{editStore:n,filterStore:r}=k,{isActivated:a}=$,i=Ue.value,s=Xe.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&bt.handleCutCellAreaEvent&&bt.handleCutCellAreaEvent(e),M.dispatchEvent("cut",{},e))},Dl=()=>{bt.closeMenu&&bt.closeMenu(),M.updateCellAreas(),M.recalculate(!0)},Fl=e=>{const t=B.value;clearTimeout($.tooltipTimeout),e?M.closeTooltip():t&&t.setActived(!0)},Ll=(t,l,o,n,r)=>{r.cell=l;const{tooltipStore:a}=k,i=Be.value,{column:s,row:d}=r,{showAll:u,contentMethod:p}=i,m=p?p(r):null,f=p&&!e.eqNull(m),g=f?m:e.toString("html"===s.type?o.innerText:o.textContent).trim(),h=o.scrollWidth>o.clientWidth;return g&&(u||f||h)&&(Object.assign(a,{row:d,column:s,visible:!0}),c((()=>{const e=B.value;e&&e.open(h?o:n||o,V(g))}))),c()};D={getSetupOptions:()=>E,updateAfterDataIndex:Nt,callSlot(t,l){if(t){if(Se)return Se.callSlot(t,l);if(e.isFunction(t))return De(t(l))}return[]},getParentElem(){const e=F.value;if(Se){const e=Se.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:l}=t,o=F.value;if(o){const t=o.parentNode,n="auto"===l?Q(t):0;return Math.floor(Se?Se.getParentHeight():e.toNumber(getComputedStyle(t).height)-n)}return 0},getExcludeHeight:()=>Se?Se.getExcludeHeight():0,defineField(l){const{treeConfig:o}=t,n=at.value,r=it.value,a=Ve.value,i=je.value,s=r.children||r.childrenField,c=ge(bt);return e.isArray(l)||(l=[l]),l.map((t=>{$.tableFullColumn.forEach((l=>{const{field:o,editRender:n}=l;if(o&&!e.has(t,o)&&!t[o]){let r=null;if(n){const{defaultValue:t}=n;e.isFunction(t)?r=t({column:l}):e.isUndefined(t)||(r=t)}e.set(t,o,r)}}));return[a.labelField,i.checkField,i.labelField,n.labelField].forEach((l=>{l&&j(e.get(t,l))&&e.set(t,l,null)})),o&&r.lazy&&e.isUndefined(t[s])&&(t[s]=null),j(e.get(t,c))&&e.set(t,c,fe()),t}))},handleTableData(l){const{scrollYLoad:o}=k,{scrollYStore:n,fullDataRowIdData:r}=$;let a=$.afterFullData;l&&((()=>{const{treeConfig:l}=t,{tableFullColumn:o,tableFullData:n,tableFullTreeData:r}=$,a=qe.value,i=We.value,s=it.value,{transform:c}=s,{remote:d,filterMethod:u}=a,{remote:p,sortMethod:m,multiple:f,chronological:g}=i;let h=[],v=[];if(d&&p)l&&c?(v=e.searchTree(r,(()=>!0),Object.assign(Object.assign({},s),{original:!0})),h=v):(h=l?r.slice(0):n.slice(0),v=h);else{const t=[];let a=[];if(o.forEach((e=>{const{field:l,sortable:o,order:n,filters:r}=e;if(!d&&r&&r.length){const l=[],o=[];r.forEach((e=>{e.checked&&(o.push(e),l.push(e.value))})),o.length&&t.push({column:e,valueList:l,itemList:o})}!p&&o&&n&&a.push({column:e,field:l,property:l,order:n,sortTime:e.sortTime})})),f&&g&&a.length>1&&(a=e.orderBy(a,"sortTime")),!d&&t.length){const o=l=>t.every((({column:t,valueList:o,itemList:n})=>{const{filterMethod:r,filterRender:a}=t,i=a?Xt.renderer.get(a.name):null,s=i?i.filterMethod:null,c=i?i.defaultFilterMethod:null,d=ye(l,t);return r?n.some((e=>r({value:e.value,option:e,cellValue:d,row:l,column:t,$table:bt}))):s?n.some((e=>s({value:e.value,option:e,cellValue:d,row:l,column:t,$table:bt}))):u?u({options:n,values:o,cellValue:d,row:l,column:t}):c?n.some((e=>c({value:e.value,option:e,cellValue:d,row:l,column:t,$table:bt}))):o.indexOf(e.get(l,t.field))>-1}));l&&c?(v=e.searchTree(r,o,Object.assign(Object.assign({},s),{original:!0})),h=v):(h=l?r.filter(o):n.filter(o),v=h)}else l&&c?(v=e.searchTree(r,(()=>!0),Object.assign(Object.assign({},s),{original:!0})),h=v):(h=l?r.slice(0):n.slice(0),v=h);if(!p&&a.length)if(l&&c){if(m){const t=m({data:v,sortList:a,$table:bt});v=e.isArray(t)?t:v}else v=e.orderBy(v,a.map((({column:e,order:t})=>[Ft(e),t])));h=v}else{if(m){const t=m({data:h,sortList:a,$table:bt});h=e.isArray(t)?t:h}else h=e.orderBy(h,a.map((({column:e,order:t})=>[Ft(e),t])));v=h}}$.afterFullData=h,$.afterTreeFullData=v,Nt()})(),a=Lt());const i=o?a.slice(n.startIndex,n.endIndex):a.slice(0);return i.forEach(((e,t)=>{const l=he(bt,e),o=r[l];o&&(o.$index=t)})),k.tableData=i,c()},cacheRowMap(l){const{treeConfig:o}=t,n=it.value;let{fullDataRowIdData:r,fullAllDataRowIdData:a,tableFullData:i,tableFullTreeData:s}=$;const c=n.children||n.childrenField,d=n.hasChild||n.hasChildField,u=ge(bt),p=o&&n.lazy,m=(t,n,i,s,m,f)=>{let g=he(bt,t);const h=o&&s?function(e){return e.map(((e,t)=>t%2==0?Number(e)+1:".")).join("")}(s):n+1,v=f?f.length-1:0;j(g)&&(g=fe(),e.set(t,u,g)),p&&t[d]&&e.isUndefined(t[c])&&(t[c]=null);const b={row:t,rowid:g,seq:h,index:o&&m?-1:n,_index:-1,$index:-1,items:i,parent:m,level:v};l&&(r[g]=b),a[g]=b};l&&(r=$.fullDataRowIdData={}),a=$.fullAllDataRowIdData={},o?e.eachTree(s,m,{children:c}):i.forEach(m)},cacheSourceMap(l){const{treeConfig:o}=t,n=it.value;let{sourceDataRowIdData:r}=$;const a=e.clone(l,!0),i=ge(bt);r=$.sourceDataRowIdData={};const s=t=>{let l=he(bt,t);j(l)&&(l=fe(),e.set(t,i,l)),r[l]=t};if(o){const t=n.children||n.childrenField;e.eachTree(a,s,{children:n.transform?n.mapChildrenField:t})}else a.forEach(s);$.tableSourceData=a},analyColumnWidth(){const{tableFullColumn:e}=$,t=Fe.value,{width:l,minWidth:o}=t,n=[],r=[],a=[],i=[],s=[],c=[];e.forEach((e=>{l&&!e.width&&(e.width=l),o&&!e.minWidth&&(e.minWidth=o),e.visible&&(e.resizeWidth?n.push(e):U(e.width)?r.push(e):Y(e.width)?i.push(e):U(e.minWidth)?a.push(e):Y(e.minWidth)?s.push(e):c.push(e))})),Object.assign(k.columnStore,{resizeList:n,pxList:r,pxMinList:a,scaleList:i,scaleMinList:s,autoList:c})},saveCustomResizable(l){const{id:o,customConfig:n}=t,r=ut.value,{collectColumn:a}=$,{storage:i}=r,s=!0===i,c=s?{}:Object.assign({},i||{}),d=s||c.resizable;if(n&&d){const t=Ct(Tn);let n;if(!o)return void R("vxe.error.reqProp",["id"]);l||(n=e.isPlainObject(t[o])?t[o]:{},e.eachTree(a,(e=>{if(e.resizeWidth){const t=e.getKey();t&&(n[t]=e.renderWidth)}}))),t[o]=e.isEmpty(n)?void 0:n,localStorage.setItem(Tn,e.toJSONString(t))}},saveCustomSort(l){const{id:o,customConfig:n}=t,r=ut.value,{collectColumn:a}=$,{storage:i}=r,s=!0===i,c=s?{}:Object.assign({},i||{}),d=s||c.sort;if(n&&d){const t=Ct(kn);let n;if(!o)return void R("vxe.error.reqProp",["id"]);l||(n=e.isPlainObject(t[o])?t[o]:{},a.forEach((e=>{if(e.sortNumber!==e.renderSortNumber){const t=e.getKey();t&&(n[t]=e.renderSortNumber)}}))),t[o]=e.isEmpty(n)?void 0:n,localStorage.setItem(kn,e.toJSONString(t))}},saveCustomFixed(){const{id:l,customConfig:o}=t,{collectColumn:n}=$,r=ut.value,{storage:a}=r,i=!0===a,s=i?{}:Object.assign({},a||{}),c=i||s.fixed;if(o&&c){const t=Ct(Rn),o=[];if(!l)return void R("vxe.error.reqProp",["id"]);e.eachTree(n,(e=>{if(e.fixed&&e.fixed!==e.defaultFixed){const t=e.getKey();t&&o.push(`${t}|${e.fixed}`)}})),t[l]=o.join(",")||void 0,localStorage.setItem(Rn,e.toJSONString(t))}},saveCustomVisible(){const{id:l,customConfig:o}=t,{collectColumn:n}=$,r=ut.value,{checkMethod:a,storage:i}=r,s=!0===i,c=s?{}:Object.assign({},i||{}),d=s||c.visible;if(o&&d){const t=Ct(On),o=[],r=[];if(!l)return void R("vxe.error.reqProp",["id"]);e.eachTree(n,(e=>{if(!a||a({column:e}))if(!e.visible&&e.defaultVisible){const t=e.getKey();t&&o.push(t)}else if(e.visible&&!e.defaultVisible){const t=e.getKey();t&&r.push(t)}})),t[l]=[o.join(",")].concat(r.length?[r.join(",")]:[]).join("|")||void 0,localStorage.setItem(On,e.toJSONString(t))}},handleCustom(){const{mouseConfig:e}=t;return e&&(bt.clearSelected&&bt.clearSelected(),bt.clearCellAreas&&(bt.clearCellAreas(),bt.clearCopyCellArea())),D.saveCustomVisible(),D.saveCustomSort(),D.analyColumnWidth(),M.refreshColumn(!0)},handleUpdateDataQueue(){k.upDataFlag++},handleRefreshColumnQueue(){k.reColumnFlag++},preventEvent(e,t,l,o,n){let r,a=Xt.interceptor.get(t);return a.length||"event.clearEdit"!==t||(a=Xt.interceptor.get("event.clearActived")),a.some((t=>!1===t(Object.assign({$grid:Se,$table:bt,$event:e},l))))||o&&(r=o()),n&&n(),r},checkSelectionStatus(){const{treeConfig:l}=t,{selectCheckboxMaps:o,treeIndeterminateMaps:n}=k,{afterFullData:r}=$,a=je.value,{checkField:i,checkStrictly:s,checkMethod:c}=a,d=a.indeterminateField||a.halfField;if(!s){const t=[];let a=!1,s=!1,u=!1;i?(a=r.every(c?l=>c({row:l})?!!e.get(l,i):(t.push(l),!0):t=>e.get(t,i)),s=a&&r.length!==t.length,u=l?d?!s&&r.some((t=>e.get(t,i)||e.get(t,d)||!!n[he(bt,t)])):!s&&r.some((t=>e.get(t,i)||!!n[he(bt,t)])):d?!s&&r.some((t=>e.get(t,i)||e.get(t,d))):!s&&r.some((t=>e.get(t,i)))):(a=r.every(c?e=>c({row:e})?!!o[he(bt,e)]:(t.push(e),!0):e=>o[he(bt,e)]),s=a&&r.length!==t.length,u=l?!s&&r.some((e=>{const t=he(bt,e);return n[t]||o[t]})):!s&&r.some((e=>o[he(bt,e)]))),k.isAllSelected=s,k.isIndeterminate=u}},handleSelectRow({row:l},o,n){const{treeConfig:r}=t,{selectCheckboxMaps:a,treeIndeterminateMaps:i}=k,s=Object.assign({},a),{afterFullData:c}=$,d=it.value,u=d.children||d.childrenField,p=je.value,{checkField:m,checkStrictly:f,checkMethod:g}=p,h=p.indeterminateField||p.halfField,v=he(bt,l);if(m)if(r&&!f){-1===o?(i[v]||(h&&e.set(l,h,!0),i[v]=l),e.set(l,m,!1)):e.eachTree([l],(t=>{(bt.eqRow(t,l)||n||!g||g({row:t}))&&(e.set(t,m,o),h&&e.set(l,h,!1),delete i[he(bt,t)],jt(l,o))}),{children:u});const t=e.findTree(c,(e=>bt.eqRow(e,l)),{children:u});if(t&&t.parent){let l;const r=[],a={};!n&&g?t.items.forEach((e=>{if(g({row:e})){const t=he(bt,e);a[t]=e,r.push(e)}})):t.items.forEach((e=>{const t=he(bt,e);a[t]=e,r.push(e)}));if(e.find(t.items,(e=>!!i[he(bt,e)])))l=-1;else{const n=[];t.items.forEach((t=>{e.get(t,m)&&n.push(t)})),l=n.filter((e=>a[he(bt,e)])).length===r.length||!(!n.length&&-1!==o)&&-1}return k.selectCheckboxMaps=s,D.handleSelectRow({row:t.parent},l,n)}}else(n||!g||g({row:l}))&&(e.set(l,m,o),jt(l,o));else if(r&&!f){-1===o?(i[v]||(h&&e.set(l,h,!0),i[v]=l),s[v]&&delete s[v]):e.eachTree([l],(t=>{const r=he(bt,t);(bt.eqRow(t,l)||n||!g||g({row:t}))&&(o?s[r]=t:s[r]&&delete s[r],h&&e.set(l,h,!1),delete i[he(bt,t)],jt(l,o))}),{children:u});const t=e.findTree(c,(e=>bt.eqRow(e,l)),{children:u});if(t&&t.parent){let l;const r=[],a={};!n&&g?t.items.forEach((e=>{if(g({row:e})){const t=he(bt,e);a[t]=e,r.push(e)}})):t.items.forEach((e=>{const t=he(bt,e);a[t]=e,r.push(e)}));if(e.find(t.items,(e=>!!i[he(bt,e)])))l=-1;else{const e=[];t.items.forEach((t=>{const l=he(bt,t);s[l]&&e.push(t)})),l=e.filter((e=>a[he(bt,e)])).length===r.length||!(!e.length&&-1!==o)&&-1}return k.selectCheckboxMaps=s,D.handleSelectRow({row:t.parent},l,n)}}else(n||!g||g({row:l}))&&(o?s[v]||(s[v]=l):s[v]&&delete s[v],jt(l,o));k.selectCheckboxMaps=s,D.checkSelectionStatus()},triggerHeaderTitleEvent(e,t,l){const o=t.content||t.message;if(o){const{tooltipStore:t}=k,{column:n}=l,r=P(o);Fl(!0),t.row=null,t.column=n,t.visible=!0,c((()=>{const t=B.value;t&&t.open(e.currentTarget,r)}))}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:l}=k,{column:o}=t,n=e.currentTarget;Fl(!0),l.column===o&&l.visible||Ll(0,n,n,null,t)},triggerBodyTooltipEvent(e,l){const{editConfig:o}=t,{editStore:n}=k,{tooltipStore:r}=k,a=ze.value,{actived:i}=n,{row:s,column:c}=l,d=e.currentTarget;if(Fl(r.column!==c||r.row!==s),c.editRender&&I(o)){if("row"===a.mode&&i.row===s)return;if(i.row===s&&i.column===c)return}if(r.column!==c||r.row!==s||!r.visible){let e,t;c.treeNode?(e=d.querySelector(".vxe-tree-cell"),"html"===c.type&&(t=d.querySelector(".vxe-cell--html"))):t=d.querySelector("html"===c.type?".vxe-cell--html":".vxe-cell--label"),Ll(0,d,e||d.children[0],t,l)}},triggerFooterTooltipEvent(e,t){const{column:l}=t,{tooltipStore:o}=k,n=e.currentTarget;Fl(o.column!==l||!!o.row),o.column===l&&o.visible||Ll(0,n,n.querySelector(".vxe-cell--item")||n.children[0],null,t)},handleTargetLeaveEvent(){const e=Be.value;let t=B.value;t&&t.setActived(!1),e.enterable?$.tooltipTimeout=setTimeout((()=>{t=B.value,t&&!t.isActived()&&M.closeTooltip()}),e.leaveDelay):M.closeTooltip()},triggerHeaderCellClickEvent(e,l){const{_lastResizeTime:o}=$,n=We.value,r=Fe.value,{column:a}=l,i=e.currentTarget,s=o&&o>Date.now()-300,c=oe(e,i,"vxe-cell--sort").flag,d=oe(e,i,"vxe-cell--filter").flag;"cell"!==n.trigger||s||c||d||D.triggerSortEvent(e,a,wt(a)),M.dispatchEvent("header-cell-click",Object.assign({triggerResizable:s,triggerSort:c,triggerFilter:d,cell:i},l),e),(r.isCurrent||t.highlightCurrentColumn)&&M.setCurrentColumn(a)},triggerHeaderCellDblclickEvent(e,t){M.dispatchEvent("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(e,l){const{highlightCurrentRow:o,editConfig:n}=t,{editStore:r}=k,a=at.value,i=ze.value,s=it.value,c=Ve.value,d=je.value,u=Xe.value,p=Ne.value,{actived:m,focused:f}=r,{row:g,column:h}=l,{type:v,treeNode:b}=h,x="radio"===v,w="checkbox"===v,C="expand"===v,y=e.currentTarget,E=x&&oe(e,y,"vxe-cell--radio").flag,S=w&&oe(e,y,"vxe-cell--checkbox").flag,T=b&&oe(e,y,"vxe-tree--btn-wrapper").flag,O=C&&oe(e,y,"vxe-table--expanded").flag;l=Object.assign({cell:y,triggerRadio:E,triggerCheckbox:S,triggerTreeNode:T,triggerExpandNode:O},l),S||E||(!O&&("row"===a.trigger||C&&"cell"===a.trigger)&&D.triggerRowExpandEvent(e,l),("row"===s.trigger||b&&"cell"===s.trigger)&&D.triggerTreeExpandEvent(e,l)),T||(O||((p.isCurrent||o)&&(S||E||D.triggerCurrentRowEvent(e,l)),!E&&("row"===c.trigger||x&&"cell"===c.trigger)&&D.triggerRadioRowEvent(e,l),!S&&("row"===d.trigger||w&&"cell"===d.trigger)&&D.handleToggleCheckRowEvent(e,l)),I(n)&&(u.arrowCursorLock&&e&&"cell"===i.mode&&e.target&&/^input|textarea$/i.test(e.target.tagName)&&(f.column=h,f.row=g),"manual"===i.trigger?m.args&&m.row===g&&h!==m.column&&Vt(e,l):m.args&&g===m.row&&h===m.column||("click"===i.trigger||"dblclick"===i.trigger&&"row"===i.mode&&m.row===g)&&Vt(e,l))),M.dispatchEvent("cell-click",l,e)},triggerCellDblclickEvent(e,l){const{editConfig:o}=t,{editStore:n}=k,r=ze.value,{actived:a}=n,i=e.currentTarget;l=Object.assign({cell:i},l),I(o)&&"dblclick"===r.trigger&&(a.args&&e.currentTarget===a.args.cell||("row"===r.mode?Pt("blur").catch((e=>e)).then((()=>{bt.handleActived(l,e).then((()=>Pt("change"))).catch((e=>e))})):"cell"===r.mode&&bt.handleActived(l,e).then((()=>Pt("change"))).catch((e=>e)))),M.dispatchEvent("cell-dblclick",l,e)},handleToggleCheckRowEvent(t,l){const{selectCheckboxMaps:o}=k,n=je.value,{checkField:r}=n,{row:a}=l;let i=!1;i=r?!e.get(a,r):!o[he(bt,a)],t?D.triggerCheckRowEvent(t,l,i):D.handleSelectRow(l,i)},triggerCheckRowEvent(e,l,o){const n=je.value,{row:r}=l,{afterFullData:a}=$,{checkMethod:i}=n;if(n.isShiftKey&&e.shiftKey&&!t.treeConfig){const t=M.getCheckboxRecords();if(t.length){const o=t[0],n=M.getVTRowIndex(r),i=M.getVTRowIndex(o);if(n!==i){M.setAllCheckboxRow(!1);const t=n<i?a.slice(n,i+1):a.slice(i,n+1);return _t(t,!0,!1),void M.dispatchEvent("checkbox-range-select",Object.assign({rangeRecords:t},l),e)}}}i&&!i({row:r})||(D.handleSelectRow(l,o),M.dispatchEvent("checkbox-change",Object.assign({records:M.getCheckboxRecords(),reserves:M.getCheckboxReserveRecords(),indeterminates:M.getCheckboxIndeterminateRecords(),checked:o},l),e))},triggerCheckAllEvent(e,t){Ht(t),e&&M.dispatchEvent("checkbox-all",{records:M.getCheckboxRecords(),reserves:M.getCheckboxReserveRecords(),indeterminates:M.getCheckboxIndeterminateRecords(),checked:t},e)},triggerRadioRowEvent(e,t){const{selectRadioRow:l}=k,{row:o}=t,n=Ve.value;let r=o,a=l!==r;a?Bt(r):n.strict||(a=l===r,a&&(r=null,M.clearRadioRow())),a&&M.dispatchEvent("radio-change",Object.assign({oldValue:l,newValue:r},t),e)},triggerCurrentRowEvent(e,t){const{currentRow:l}=k,{row:o}=t,n=l!==o;M.setCurrentRow(o),n&&M.dispatchEvent("current-change",Object.assign({oldValue:l,newValue:o},t),e)},triggerRowExpandEvent(e,t){const{rowExpandLazyLoadedMaps:l,expandColumn:o}=k,n=at.value,{row:r}=t,{lazy:a}=n,i=he(bt,r);if(!a||!l[i]){const t=!M.isRowExpandByRow(r),l=M.getColumnIndex(o),n=M.getVMColumnIndex(o);M.setRowExpand(r,t),M.dispatchEvent("toggle-row-expand",{expanded:t,column:o,columnIndex:l,$columnIndex:n,row:r,rowIndex:M.getRowIndex(r),$rowIndex:M.getVMRowIndex(r)},e)}},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:l}=k,o=it.value,{row:n,column:r}=t,{lazy:a}=o,i=he(bt,n);if(!a||!l[i]){const t=!M.isTreeExpandByRow(n),l=M.getColumnIndex(r),o=M.getVMColumnIndex(r);M.setTreeExpand(n,t),M.dispatchEvent("toggle-tree-expand",{expanded:t,column:r,columnIndex:l,$columnIndex:o,row:n},e)}},triggerSortEvent(e,l,o){const{mouseConfig:n}=t,r=We.value,a=Ue.value,{field:i,sortable:s}=l;if(s){o&&l.order!==o?M.sort({field:i,order:o}):M.clearSort(r.multiple?l:null);const t={$table:bt,$event:e,column:l,field:i,property:i,order:l.order,sortList:M.getSortColumns(),sortTime:l.sortTime};n&&a.area&&bt.handleSortEvent&&bt.handleSortEvent(e,t),M.dispatchEvent("sort-change",t,e)}},triggerScrollXEvent(){Qt()},triggerScrollYEvent(e){const{scrollYStore:t}=$,{adaptive:l,offsetSize:o,visibleSize:n}=t;Sn&&l&&2*o+n<=40?rl(e):wl(e)},scrollToTreeRow(l){const{treeConfig:o}=t,{tableFullData:n}=$,r=[];if(o){const t=it.value,o=t.children||t.childrenField,a=e.findTree(n,(e=>bt.eqRow(e,l)),{children:o});if(a){const e=a.nodes;e.forEach(((t,l)=>{l<e.length-1&&!M.isTreeExpandByRow(t)&&r.push(M.setTreeExpand(t,!0))}))}}return Promise.all(r).then((()=>Me(bt,l)))},updateScrollYStatus:ol,updateScrollXSpace(){const{isGroup:e,scrollXLoad:t,scrollbarWidth:l}=k,{visibleColumn:o,scrollXStore:n,elemStore:r,tableWidth:a}=$,i=J.value,s=le.value,d=ne.value,u=s?s.$el:null;if(u){const s=i?i.$el:null,p=d?d.$el:null,m=s?s.querySelector(".vxe-table--header"):null,f=u.querySelector(".vxe-table--body"),g=p?p.querySelector(".vxe-table--footer"):null,h=o.slice(0,n.startIndex).reduce(((e,t)=>e+t.renderWidth),0);let v="";t&&(v=`${h}px`),m&&(m.style.marginLeft=e?"":v),f.style.marginLeft=v,g&&(g.style.marginLeft=v);["main"].forEach((e=>{["header","body","footer"].forEach((o=>{const n=r[`${e}-${o}-xSpace`],i=n?n.value:null;i&&(i.style.width=t?`${a+("header"===o?l:0)}px`:"")}))})),c(At)}},updateScrollYSpace(){const{scrollYLoad:e}=k,{scrollYStore:t,elemStore:l,afterFullData:o}=$,{startIndex:n,rowHeight:r}=t,a=o.length*r,i=Math.max(0,n*r);let s="",d="";e&&(s=`${i}px`,d=`${a}px`),["main","left","right"].forEach((e=>{const t=l[`${e}-body-table`],o=t?t.value:null;o&&(o.style.marginTop=s),["header","body","footer"].forEach((t=>{const o=l[`${e}-${t}-ySpace`],n=o?o.value:null;n&&(n.style.height=d)}))})),c(At)},updateScrollXData(){c((()=>{Jt(),D.updateScrollXSpace()}))},updateScrollYData(){c((()=>{D.handleTableData(),D.updateScrollYSpace()}))},checkScrolling(){const e=be.value,t=xe.value,l=le.value,o=l?l.$el:null;o&&(e&&(o.scrollLeft>0?K(e,"scrolling--middle"):G(e,"scrolling--middle")),t&&(o.clientWidth<o.scrollWidth-Math.ceil(o.scrollLeft)?K(t,"scrolling--middle"):G(t,"scrolling--middle")))},updateZindex(){t.zIndex?$.tZindex=t.zIndex:$.tZindex<L()&&($.tZindex=N())},handleCheckedCheckboxRow:_t,triggerHoverEvent(e,{row:t}){D.setHoverRow(t)},setHoverRow(t){const l=he(bt,t),o=F.value;D.clearHoverRow(),o&&e.arrayEach(o.querySelectorAll(`[rowid="${l}"]`),(e=>K(e,"row--hover"))),$.hoverRow=t},clearHoverRow(){const t=F.value;t&&e.arrayEach(t.querySelectorAll(".vxe-body--row.row--hover"),(e=>G(e,"row--hover"))),$.hoverRow=null},getCell(e,t){const l=he(bt,e),o=le.value,n=ae.value,r=de.value;let a;return t&&(t.fixed&&("left"===t.fixed?n&&(a=n.$el):r&&(a=r.$el)),a||(a=o.$el),a)?a.querySelector(`.vxe-body--row[rowid="${l}"] .${t.id}`):null},getCellLabel(t,l){const o=l.formatter,n=ye(t,l);let r=n;if(o){let a;const{fullAllDataRowIdData:i}=$,s=he(bt,t),c=l.id,d=i[s];if(d&&(a=d.formatData,a||(a=i[s].formatData={}),d&&a[c]&&a[c].value===n))return a[c].label;const u={cellValue:n,row:t,rowIndex:M.getRowIndex(t),column:l,columnIndex:M.getColumnIndex(l)};if(e.isString(o)){const e=Xt.formats.get(o);r=e&&e.cellFormatMethod?e.cellFormatMethod(u):""}else if(e.isArray(o)){const e=Xt.formats.get(o[0]);r=e&&e.cellFormatMethod?e.cellFormatMethod(u,...o.slice(1)):""}else r=o(u);a&&(a[c]={value:n,label:r})}return r},findRowIndexOf:(t,l)=>l?e.findIndexOf(t,(e=>bt.eqRow(e,l))):-1,eqRow:(e,t)=>!(!e||!t)&&(e===t||he(bt,e)===he(bt,t))},Object.assign(bt,M,D);const Al=e=>{const{showHeader:l,showFooter:o}=t,{tableData:r,tableColumn:a,tableGroupColumn:i,columnStore:s,footerTableData:c}=k,d="left"===e,p=d?s.leftList:s.rightList;return n("div",{ref:d?be:xe,class:`vxe-table--fixed-${e}-wrapper`},[l?n(xn,{ref:d?re:se,fixedType:e,tableData:r,tableColumn:a,tableGroupColumn:i,fixedColumn:p}):u(),n(vn,{ref:d?ae:de,fixedType:e,tableData:r,tableColumn:a,fixedColumn:p}),o?n(Cn,{ref:d?ie:pe,footerTableData:c,tableColumn:a,fixedColumn:p,fixedType:e}):u()])},Vl=()=>{const e=st.value,l={$table:bt};if(d.empty)return d.empty(l);{const t=e.name?Xt.renderer.get(e.name):null,o=t?t.renderTableEmptyView||t.renderEmpty:null;if(o)return De(o(e,l))}return P(t.emptyText)||E.i18n("vxe.table.emptyText")};function jl(){const e=F.value;e&&e.clientWidth&&e.clientHeight&&M.recalculate()}const Bl=p(0);l((()=>t.data?t.data.length:-1),(()=>{Bl.value++})),l((()=>t.data),(()=>{Bl.value++})),l(Bl,(()=>{const{inited:e,initStatus:l}=$;Gt(t.data||[]).then((()=>{$.inited=!0,$.initStatus=!0,l||Kt(),e||Zt(),M.recalculate()}))}));const _l=p(0);l((()=>k.staticColumns.length),(()=>{_l.value++})),l((()=>k.staticColumns),(()=>{_l.value++})),l(_l,(()=>{ll(k.staticColumns)}));const Hl=p(0);l((()=>k.tableColumn.length),(()=>{Hl.value++})),l((()=>k.tableColumn),(()=>{Hl.value++})),l(Hl,(()=>{D.analyColumnWidth()})),l((()=>k.upDataFlag),(()=>{c((()=>{M.updateData()}))})),l((()=>k.reColumnFlag),(()=>{c((()=>{M.refreshColumn()}))})),l((()=>t.showHeader),(()=>{c((()=>{M.recalculate(!0).then((()=>M.refreshScroll()))}))})),l((()=>t.showFooter),(()=>{c((()=>{M.recalculate(!0).then((()=>M.refreshScroll()))}))}));const zl=p(0);l((()=>t.footerData?t.footerData.length:-1),(()=>{zl.value++})),l((()=>t.footerData),(()=>{zl.value++})),l(zl,(()=>{M.updateFooter()})),l((()=>t.height),(()=>{c((()=>M.recalculate(!0)))})),l((()=>t.maxHeight),(()=>{c((()=>M.recalculate(!0)))})),l((()=>t.syncResize),(e=>{e&&(jl(),c((()=>{jl(),setTimeout((()=>jl()))})))}));const Wl=p(0);l((()=>t.mergeCells?t.mergeCells.length:-1),(()=>{Wl.value++})),l((()=>t.mergeCells),(()=>{Wl.value++})),l(Wl,(()=>{M.clearMergeCells(),c((()=>{t.mergeCells&&M.setMergeCells(t.mergeCells)}))}));const ql=p(0);let Ul;l((()=>t.mergeFooterItems?t.mergeFooterItems.length:-1),(()=>{ql.value++})),l((()=>t.mergeFooterItems),(()=>{ql.value++})),l(ql,(()=>{M.clearMergeFooterItems(),c((()=>{t.mergeFooterItems&&M.setMergeFooterItems(t.mergeFooterItems)}))})),Xt.hooks.forEach((t=>{const{setupTable:l}=t;if(l){const t=l(bt);t&&e.isObject(t)&&Object.assign(bt,t)}})),D.preventEvent(null,"created",{$table:bt}),w((()=>{M.recalculate().then((()=>M.refreshScroll())),D.preventEvent(null,"activated",{$table:bt})})),C((()=>{$.isActivated=!1,D.preventEvent(null,"deactivated",{$table:bt})})),g((()=>{c((()=>{const{data:l,treeConfig:o,showOverflow:n}=t,{scrollXStore:r,scrollYStore:a}=$,i=$e.value;if(ze.value,it.value,Ve.value,je.value,at.value,Ne.value,Object.assign(a,{startIndex:0,endIndex:0,visibleSize:0,adaptive:!1!==i.adaptive}),Object.assign(r,{startIndex:0,endIndex:0,visibleSize:0}),Gt(l||[]).then((()=>{l&&l.length&&($.inited=!0,$.initStatus=!0,Kt(),Zt()),At()})),t.autoResize){const l=Le.value,{refreshDelay:o}=l,n=F.value,r=D.getParentElem(),a=o?e.throttle((()=>M.recalculate(!0)),o,{leading:!0,trailing:!0}):null;Ul=fn(a?()=>{t.autoResize&&requestAnimationFrame(a)}:()=>{t.autoResize&&M.recalculate(!0)}),n&&Ul.observe(n),r&&Ul.observe(r)}})),Tl.on(bt,"paste",$l),Tl.on(bt,"copy",Ml),Tl.on(bt,"cut",Il),Tl.on(bt,"mousedown",yl),Tl.on(bt,"blur",Sl),Tl.on(bt,"mousewheel",Ol),Tl.on(bt,"keydown",kl),Tl.on(bt,"resize",Dl),bt.handleGlobalContextmenuEvent&&Tl.on(bt,"contextmenu",bt.handleGlobalContextmenuEvent),D.preventEvent(null,"mounted",{$table:bt})})),v((()=>{Ul&&Ul.disconnect(),M.closeFilter(),bt.closeMenu&&bt.closeMenu(),D.preventEvent(null,"beforeUnmount",{$table:bt})})),h((()=>{Tl.off(bt,"paste"),Tl.off(bt,"copy"),Tl.off(bt,"cut"),Tl.off(bt,"mousedown"),Tl.off(bt,"blur"),Tl.off(bt,"mousewheel"),Tl.off(bt,"keydown"),Tl.off(bt,"resize"),Tl.off(bt,"contextmenu"),D.preventEvent(null,"unmounted",{$table:bt})}));return bt.renderVN=()=>{const{loading:e,stripe:l,showHeader:o,height:a,treeConfig:i,mouseConfig:s,showFooter:c,highlightCell:p,highlightHoverRow:m,highlightHoverColumn:f,editConfig:g,editRules:h}=t,{isGroup:v,overflowX:x,overflowY:w,scrollXLoad:C,scrollYLoad:T,scrollbarHeight:O,tableData:R,tableColumn:$,tableGroupColumn:M,footerTableData:I,initStore:D,columnStore:N,filterStore:L,customStore:A}=k,{leftList:P,rightList:V}=N,j=d.loading,H=_e.value,U=Oe.value,Y=it.value,X=Ne.value,G=Fe.value,K=S.value,Q=ft.value,ee=Ue.value,te=He.value,oe=ct.value,re=tt.value;return n("div",{ref:F,class:["vxe-table","vxe-table--render-default",`tid_${y}`,`border--${Q}`,{[`size--${K}`]:K,[`valid-msg--${U.msgMode}`]:!!h,"vxe-editable":!!g,"old-cell-valid":h&&"obsolete"===E.cellVaildMode,"cell--highlight":p,"cell--selected":s&&ee.selected,"cell--area":s&&ee.area,"row--highlight":X.isHover||m,"column--highlight":G.isHover||f,"is--header":o,"is--footer":c,"is--group":v,"is--tree-line":i&&(Y.showLine||Y.line),"is--fixed-left":P.length,"is--fixed-right":V.length,"is--animat":!!t.animat,"is--round":t.round,"is--stripe":!i&&l,"is--loading":e,"is--empty":!e&&!R.length,"is--scroll-y":w,"is--scroll-x":x,"is--virtual-x":C,"is--virtual-y":T}],onKeydown:Rl},[n("div",{class:"vxe-table-slots"},d.default?d.default({}):[]),n("div",{class:"vxe-table--render-wrapper"},[n("div",{class:"vxe-table--main-wrapper"},[o?n(xn,{ref:J,tableData:R,tableColumn:$,tableGroupColumn:M}):u(),n(vn,{ref:le,tableData:R,tableColumn:$}),c?n(Cn,{ref:ne,footerTableData:I,tableColumn:$}):u()]),n("div",{class:"vxe-table--fixed-wrapper"},[P&&P.length&&x?Al("left"):u(),V&&V.length&&x?Al("right"):u()])]),n("div",{ref:Ce,class:"vxe-table--empty-placeholder"},[n("div",{class:"vxe-table--empty-content"},Vl())]),n("div",{class:"vxe-table--border-line"}),n("div",{ref:we,class:"vxe-table--resizable-bar",style:x?{"padding-bottom":`${O}px`}:null}),n(Pl,{class:"vxe-table--loading",modelValue:e,icon:oe.icon,text:oe.text},j?{default:()=>j({$table:bt,$grid:Se})}:{}),D.custom?n(r("vxe-table-custom-panel"),{ref:Z,customStore:A}):u(),D.filter?n(r("vxe-table-filter-panel"),{ref:q,filterStore:L}):u(),D.import&&t.importConfig?n(r("vxe-table-import-panel"),{defaultOptions:k.importParams,storeData:k.importStore}):u(),D.export&&(t.exportConfig||t.printConfig)?n(r("vxe-table-export-panel"),{defaultOptions:k.exportParams,storeData:k.exportStore}):u(),re?n(r("vxe-table-menu-panel"),{ref:W}):u(),b?n(r("vxe-tooltip"),{ref:_,isArrow:!1,enterable:!1}):u(),b?n(r("vxe-tooltip"),Object.assign({ref:B},H)):u(),b&&t.editRules&&U.showMessage&&("default"===U.message?!a:"tooltip"===U.message)?n(r("vxe-tooltip"),Object.assign({ref:z,class:[{"old-cell-valid":h&&"obsolete"===E.cellVaildMode},"vxe-table--valid-error"]},"tooltip"===U.message||1===R.length?te:{})):u()])},f("xecolgroup",null),f("$xetable",bt),bt},render(){return this.renderVN()}}),Mn=Object.assign($n,{install:function(e){e.component($n.name,$n)}}),In=Mn;tl.component($n.name,$n);const Dn=Object.assign(Xl,{install:function(e){e.component(Xl.name,Xl)}}),Fn=Dn;tl.component(Xl.name,Xl);const Nn=a({name:"VxePager",props:{size:{type:String,default:()=>E.pager.size||E.size},layouts:{type:Array,default:()=>E.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>E.pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>E.pager.pagerCount||7},pageSizes:{type:Array,default:()=>E.pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>E.pager.align},border:{type:Boolean,default:()=>E.pager.border},background:{type:Boolean,default:()=>E.pager.background},perfect:{type:Boolean,default:()=>E.pager.perfect},autoHidden:{type:Boolean,default:()=>E.pager.autoHidden},transfer:{type:Boolean,default:()=>E.pager.transfer},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(t,r){const{slots:a,emit:d}=r,u=e.uniqueId(),m=Nl(t),f=i("$xegrid",null),g=o({inpCurrPage:t.currentPage}),h=p(),v={refElem:h},b={xID:u,props:t,context:r,getRefMaps:()=>v};let x={},w={};const C=(e,t)=>Math.max(Math.ceil(e/t),1),y=s((()=>C(t.total,t.pageSize))),S=(e,l)=>{d("update:currentPage",l),e&&l!==t.currentPage&&x.dispatchEvent("page-change",{type:"current",pageSize:t.pageSize,currentPage:l},e)},T=(e,l)=>{d("update:currentPage",e),l&&e!==t.currentPage&&x.dispatchEvent("page-change",{type:"current",pageSize:t.pageSize,currentPage:e},l)},O=t=>{const l=t.target,o=e.toInteger(l.value),n=y.value,r=o<=0?1:o>=n?n:o,a=e.toValueString(r);l.value=a,g.inpCurrPage=a,T(r,t)},R=s((()=>{const{pagerCount:e}=t,l=y.value>e?e-2:e,o=[];for(let t=0;t<l;t++)o.push(t);return o})),k=s((()=>Math.floor((t.pagerCount-2)/2))),$=s((()=>t.pageSizes.map((t=>e.isNumber(t)?{value:t,label:`${E.i18n("vxe.pager.pagesize",[t])}`}:Object.assign({value:"",label:""},t))))),M=e=>{const{currentPage:l}=t;l>1&&T(1,e)},I=e=>{const{currentPage:l}=t,o=y.value;l<o&&T(o,e)},D=e=>{const{currentPage:l}=t,o=y.value;l>1&&T(Math.min(o,Math.max(l-1,1)),e)},F=e=>{const{currentPage:l}=t,o=y.value;l<o&&T(Math.min(o,l+1),e)},N=e=>{const l=R.value;T(Math.max(t.currentPage-l.length,1),e)},L=e=>{const l=y.value,o=R.value;T(Math.min(t.currentPage+o.length,l),e)},A=l=>{const{value:o}=l,n=e.toNumber(o),r=C(t.total,n);let a=t.currentPage;a>r&&(a=r,d("update:currentPage",r)),d("update:pageSize",n),x.dispatchEvent("page-change",{type:"size",pageSize:n,currentPage:a})},P=e=>{const t=e.target;g.inpCurrPage=t.value},V=e=>{El(e,sl)?O(e):El(e,fl)?(e.preventDefault(),F(e)):El(e,gl)&&(e.preventDefault(),D(e))},j=()=>n("button",{class:["vxe-pager--prev-btn",{"is--disabled":t.currentPage<=1}],type:"button",title:E.i18n("vxe.pager.homePageTitle"),onClick:M},[n("i",{class:["vxe-pager--btn-icon",t.iconHomePage||E.icon.PAGER_HOME]})]),B=()=>n("button",{class:["vxe-pager--prev-btn",{"is--disabled":t.currentPage<=1}],type:"button",title:E.i18n("vxe.pager.prevPageTitle"),onClick:D},[n("i",{class:["vxe-pager--btn-icon",t.iconPrevPage||E.icon.PAGER_PREV_PAGE]})]),_=e=>n(e||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!e,"is--disabled":t.currentPage<=1}],type:"button",title:E.i18n("vxe.pager.prevJumpTitle"),onClick:N},[e?n("i",{class:["vxe-pager--jump-more-icon",t.iconJumpMore||E.icon.PAGER_JUMP_MORE]}):null,n("i",{class:["vxe-pager--jump-icon",t.iconJumpPrev||E.icon.PAGER_JUMP_PREV]})]),H=e=>{const l=y.value;return n(e||"button",{class:["vxe-pager--jump-next",{"is--fixed":!e,"is--disabled":t.currentPage>=l}],type:"button",title:E.i18n("vxe.pager.nextJumpTitle"),onClick:L},[e?n("i",{class:["vxe-pager--jump-more-icon",t.iconJumpMore||E.icon.PAGER_JUMP_MORE]}):null,n("i",{class:["vxe-pager--jump-icon",t.iconJumpNext||E.icon.PAGER_JUMP_NEXT]})])},z=()=>{const e=y.value;return n("button",{class:["vxe-pager--next-btn",{"is--disabled":t.currentPage>=e}],type:"button",title:E.i18n("vxe.pager.nextPageTitle"),onClick:F},[n("i",{class:["vxe-pager--btn-icon",t.iconNextPage||E.icon.PAGER_NEXT_PAGE]})])},W=()=>{const e=y.value;return n("button",{class:["vxe-pager--prev-btn",{"is--disabled":t.currentPage>=e}],type:"button",title:E.i18n("vxe.pager.endPageTitle"),onClick:I},[n("i",{class:["vxe-pager--btn-icon",t.iconEndPage||E.icon.PAGER_END]})])},q=e=>{const{currentPage:l,pagerCount:o}=t,r=[],a=y.value,i=R.value,s=k.value,c=a>o,d=c&&l>s+1,u=c&&l<a-s;let p=1;return c&&(p=l>=a-s?Math.max(a-i.length+1,1):Math.max(l-s,1)),e&&d&&r.push(n("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>S(e,1)},1),_("span")),i.forEach(((e,t)=>{const o=p+t;o<=a&&r.push(n("button",{key:o,class:["vxe-pager--num-btn",{"is--active":l===o}],type:"button",onClick:e=>S(e,o)},o))})),e&&u&&r.push(H("button"),n("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>S(e,a)},a)),n("span",{class:"vxe-pager--btn-wrapper"},r)},U=()=>q(!0),Y=()=>{const e=$.value;return n(Dn,{class:"vxe-pager--sizes",modelValue:t.pageSize,placement:"top",transfer:t.transfer,options:e,onChange:A})},X=e=>n("span",{class:"vxe-pager--jump"},[e?n("span",{class:"vxe-pager--goto-text"},E.i18n("vxe.pager.goto")):null,n("input",{class:"vxe-pager--goto",value:g.inpCurrPage,type:"text",autocomplete:"off",onInput:P,onKeydown:V,onBlur:O}),e?n("span",{class:"vxe-pager--classifier-text"},E.i18n("vxe.pager.pageClassifier")):null]),G=()=>X(!0),K=()=>{const e=y.value;return n("span",{class:"vxe-pager--count"},[n("span",{class:"vxe-pager--separator"}),n("span",e)])},Z=()=>n("span",{class:"vxe-pager--total"},E.i18n("vxe.pager.total",[t.total]));x={dispatchEvent(e,t,l){d(e,Object.assign({$pager:b,$event:l},t))},homePage:()=>(M(),c()),endPage:()=>(I(),c()),prevPage:()=>(D(),c()),nextPage:()=>(F(),c()),prevJump:()=>(N(),c()),nextJump:()=>(L(),c())},w={handlePrevPage:D,handleNextPage:F,handlePrevJump:N,handleNextJump:L},Object.assign(b,x,w),l((()=>t.currentPage),(e=>{g.inpCurrPage=e}));return b.renderVN=()=>{const{align:l,layouts:o,className:r}=t,i=[],s=m.value,c=y.value;return a.left&&i.push(n("span",{class:"vxe-pager--left-wrapper"},a.left({$grid:f}))),o.forEach((e=>{let t;switch(e){case"Home":t=j;break;case"PrevJump":t=_;break;case"PrevPage":t=B;break;case"Number":t=q;break;case"JumpNumber":t=U;break;case"NextPage":t=z;break;case"NextJump":t=H;break;case"End":t=W;break;case"Sizes":t=Y;break;case"FullJump":t=G;break;case"Jump":t=X;break;case"PageCount":t=K;break;case"Total":t=Z}t&&i.push(t())})),a.right&&i.push(n("span",{class:"vxe-pager--right-wrapper"},a.right({$grid:f}))),n("div",{ref:h,class:["vxe-pager",r?e.isFunction(r)?r({$pager:b}):r:"",{[`size--${s}`]:s,[`align--${l}`]:l,"is--border":t.border,"is--background":t.background,"is--perfect":t.perfect,"is--hidden":t.autoHidden&&1===c,"is--loading":t.loading}]},[n("div",{class:"vxe-pager--wrapper"},i)])},b},render(){return this.renderVN()}}),Ln=Object.assign(Nn,{install:function(e){e.component(Nn.name,Nn)}}),An=Ln;tl.component(Nn.name,Nn);const Pn=Object.assign(Ll,{install(e){e.component(Ll.name,Ll)}}),Vn=Pn;tl.component(Ll.name,Ll);const jn=a({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>E.toolbar.buttons},tools:{type:Array,default:()=>E.toolbar.tools},perfect:{type:Boolean,default:()=>E.toolbar.perfect},size:{type:String,default:()=>E.toolbar.size||E.size},className:[String,Function]},emits:["button-click","tool-click"],setup(t,l){const{slots:r,emit:a}=l,d=e.uniqueId(),m=Nl(t),f=o({isRefresh:!1,columns:[]}),g=p(),h={refElem:g},v={xID:d,props:t,context:l,reactData:f,getRefMaps:()=>h};let b={};const x=i("$xegrid",null);let w;const C=p(0),y=s((()=>Object.assign({},E.toolbar.refresh,t.refresh))),S=s((()=>Object.assign({},E.toolbar.import,t.import))),T=s((()=>Object.assign({},E.toolbar.export,t.export))),k=s((()=>Object.assign({},E.toolbar.print,t.print))),$=s((()=>Object.assign({},E.toolbar.zoom,t.zoom))),M=s((()=>Object.assign({},E.toolbar.custom,t.custom))),I=s((()=>{if((C.value||w)&&w){const{computeCustomOpts:e}=w.getComputeMaps();return e.value}return{}})),D=s((()=>I.value.trigger)),F=()=>{if(w)return!0;R("vxe.error.barUnableLink")},N=({$event:e})=>{w&&(w.triggerCustomEvent?w.triggerCustomEvent(e):R("vxe.error.reqModule",["VxeTableCustomModule"]))},L=({$event:e})=>{w?w.customOpenEvent(e):R("vxe.error.reqModule",["VxeTableCustomModule"])},A=({$event:e})=>{const{customStore:t}=w.reactData;t.activeBtn=!1,setTimeout((()=>{t.activeBtn||t.activeWrapper||w.customColseEvent(e)}),350)},P=e=>{const{isRefresh:t}=f,l=y.value;if(!t){const t=l.queryMethod||l.query;if(t){f.isRefresh=!0;try{Promise.resolve(t({})).catch((e=>e)).then((()=>{f.isRefresh=!1}))}catch(o){f.isRefresh=!1}}else x&&(f.isRefresh=!0,x.triggerToolbarCommitEvent({code:l.code||"reload"},e).catch((e=>e)).then((()=>{f.isRefresh=!1})))}},V=e=>{x&&x.triggerZoomEvent(e)},j=(e,t)=>{const{code:l}=t;if(l)if(x)x.triggerToolbarBtnEvent(t,e);else{const o=Xt.commands.get(l),n={code:l,button:t,$table:w,$grid:x,$event:e};o&&o.commandMethod&&o.commandMethod(n),v.dispatchEvent("button-click",n,e)}},B=(e,t)=>{const{code:l}=t;if(l)if(x)x.triggerToolbarTolEvent(t,e);else{const o=Xt.commands.get(l),n={code:l,tool:t,$table:w,$grid:x,$event:e};o&&o.commandMethod&&o.commandMethod(n),v.dispatchEvent("tool-click",n,e)}},_=()=>{F()&&w.openImport()},H=()=>{F()&&w.openExport()},z=()=>{F()&&w.openPrint()},W=(e,t)=>{const{dropdowns:l}=e;return l?l.map(((e,l)=>!1===e.visible?u():n(Pn,{key:l,disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,onClick:l=>t?j(l,e):B(l,e)}))):[]},q=()=>{const{buttons:l}=t,o=r.buttons;if(o)return De(o({$grid:x,$table:w}));const a=[];return l&&l.forEach((t=>{const{dropdowns:l,buttonRender:o}=t;if(!1!==t.visible){const r=o?Xt.renderer.get(o.name):null;if(o&&r&&r.renderToolbarButton){const l=r.toolbarButtonClassName,i={$grid:x,$table:w,button:t};a.push(n("span",{class:["vxe-button--item",l?e.isFunction(l)?l(i):l:""]},De(r.renderToolbarButton(o,i))))}else a.push(n(Pn,{disabled:t.disabled,loading:t.loading,type:t.type,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,destroyOnClose:t.destroyOnClose,placement:t.placement,transfer:t.transfer,onClick:e=>j(e,t)},l&&l.length?{dropdowns:()=>W(t,!0)}:{}))}})),a},U=()=>{const{tools:l}=t,o=r.tools;if(o)return De(o({$grid:x,$table:w}));const a=[];return l&&l.forEach(((t,l)=>{const{dropdowns:o,toolRender:r}=t;if(!1!==t.visible){const i=r?r.name:null,s=r?Xt.renderer.get(i):null;if(r&&s&&s.renderToolbarTool){const l=s.toolbarToolClassName,o={$grid:x,$table:w,tool:t};a.push(n("span",{key:i,class:["vxe-tool--item",l?e.isFunction(l)?l(o):l:""]},De(s.renderToolbarTool(r,o))))}else a.push(n(Pn,{key:l,disabled:t.disabled,loading:t.loading,type:t.type,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,destroyOnClose:t.destroyOnClose,placement:t.placement,transfer:t.transfer,onClick:e=>B(e,t)},o&&o.length?{dropdowns:()=>W(t,!1)}:{}))}})),a},Y=()=>{const e=S.value;return n(Pn,{key:"import",circle:!0,icon:e.icon||E.icon.TOOLBAR_TOOLS_IMPORT,title:E.i18n("vxe.toolbar.import"),onClick:_})},X=()=>{const e=T.value;return n(Pn,{key:"export",circle:!0,icon:e.icon||E.icon.TOOLBAR_TOOLS_EXPORT,title:E.i18n("vxe.toolbar.export"),onClick:H})},G=()=>{const e=k.value;return n(Pn,{key:"print",circle:!0,icon:e.icon||E.icon.TOOLBAR_TOOLS_PRINT,title:E.i18n("vxe.toolbar.print"),onClick:z})},K=()=>{const e=y.value;return n(Pn,{key:"refresh",circle:!0,icon:f.isRefresh?e.iconLoading||E.icon.TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||E.icon.TOOLBAR_TOOLS_REFRESH,title:E.i18n("vxe.toolbar.refresh"),onClick:P})},Z=()=>{const e=$.value;return x?n(Pn,{key:"zoom",circle:!0,icon:x.isMaximized()?e.iconOut||E.icon.TOOLBAR_TOOLS_MINIMIZE:e.iconIn||E.icon.TOOLBAR_TOOLS_FULLSCREEN,title:E.i18n("vxe.toolbar.zoom"+(x.isMaximized()?"Out":"In")),onClick:V}):u()},J=()=>{const e=M.value,t=D.value,l={};return"manual"===t||("hover"===t?(l.onMouseenter=L,l.onMouseleave=A):l.onClick=N),n(Pn,Object.assign({key:"custom",circle:!0,icon:e.icon||E.icon.TOOLBAR_TOOLS_CUSTOM,title:E.i18n("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},l))};b={dispatchEvent(e,t,l){a(e,Object.assign({$toolbar:v,$event:l},t))},syncUpdate(e){const{collectColumn:t}=e;w=e.$table,f.columns=t,C.value++}},Object.assign(v,b),c((()=>{const{refresh:e}=t,l=y.value,o=l.queryMethod||l.query;!e||x||o||O("vxe.error.notFunc",["queryMethod"]),M.value}));return v.renderVN=()=>{const{perfect:l,loading:o,refresh:r,zoom:a,custom:i,className:s}=t,c=m.value;return n("div",{ref:g,class:["vxe-toolbar",s?e.isFunction(s)?s({$toolbar:v}):s:"",{[`size--${c}`]:c,"is--perfect":l,"is--loading":o}]},[n("div",{class:"vxe-buttons--wrapper"},q()),n("div",{class:"vxe-tools--wrapper"},U()),n("div",{class:"vxe-tools--operate"},[t.import?Y():u(),t.export?X():u(),t.print?G():u(),r?K():u(),a&&x?Z():u(),i?J():u()])])},v},render(){return this.renderVN()}}),Bn=Object.assign(jn,{install:function(e){e.component(jn.name,jn)}}),_n=Bn;tl.component(jn.name,jn);class Hn{constructor(t,l){Object.assign(this,{id:e.uniqueId("item_"),title:l.title,field:l.field,span:l.span,align:l.align,titleAlign:l.titleAlign,titleWidth:l.titleWidth,titleColon:l.titleColon,titleAsterisk:l.titleAsterisk,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,titleOverflow:l.titleOverflow,showTitle:l.showTitle,resetValue:l.resetValue,visibleMethod:l.visibleMethod,visible:l.visible,folding:l.folding,collapseNode:l.collapseNode,className:l.className,contentClassName:l.contentClassName,contentStyle:l.contentStyle,titleClassName:l.titleClassName,titleStyle:l.titleStyle,itemRender:l.itemRender,rules:l.rules,showError:!1,errRule:null,slots:l.slots,children:[]})}update(e,t){this[e]=t}}function zn(e,t){return t instanceof Hn?t:new Hn(e,t)}function Wn(t,l){return l?e.isString(l)?t.getItemByField(l):l:null}function qn(e,t){let{visibleMethod:l,itemRender:o,visible:n,field:r}=t;if(!1===n)return n;const a=I(o)?Xt.renderer.get(o.name):null;if(!l&&a&&a.itemVisibleMethod&&(l=a.itemVisibleMethod),!l)return!0;const{data:i}=e.props;return l({data:i,field:r,property:r,item:t,$form:e,$grid:e.xegrid})}function Un(e,t){Object.keys(e).forEach((o=>{l((()=>e[o]),(e=>{t.update(o,e)}))}))}function Yn(t,l,o,n){const{reactData:r}=t,{staticItems:a}=r,i=l.parentNode,s=n?n.formItem:null,c=s?s.children:a;i&&(c.splice(e.arrayIndexOf(i.children,l),0,o),r.staticItems=a.slice(0))}function Xn(t,l){const{reactData:o}=t,{staticItems:n}=o,r=e.findIndexOf(n,(e=>e.id===l.id));r>-1&&n.splice(r,1),o.staticItems=n.slice(0)}const Gn=Object.assign(_o,{install:function(e){Xt.tooltip=!0,e.component(_o.name,_o)}}),Kn=Gn;function Zn(e){return n("span",{class:"vxe-form--item-title-prefix"},[n("i",{class:e.icon||E.icon.FORM_PREFIX})])}function Jn(e){return n("span",{class:"vxe-form--item-title-suffix"},[n("i",{class:e.icon||E.icon.FORM_SUFFIX})])}function Qn(e,t){const{data:l}=e.props,{computeTooltipOpts:o}=e.getComputeMaps(),{slots:r,field:a,itemRender:i,titlePrefix:s,titleSuffix:c}=t,d=o.value,u=I(i)?Xt.renderer.get(i.name):null,p={data:l,field:a,property:a,item:t,$form:e,$grid:e.xegrid},m=r?r.title:null,f=[],g=[];s&&g.push(s.content||s.message?n(Gn,Object.assign(Object.assign(Object.assign({},d),s),{content:P(s.content||s.message)}),{default:()=>Zn(s)}):Zn(s)),g.push(n("span",{class:"vxe-form--item-title-label"},u&&u.renderItemTitle?De(u.renderItemTitle(i,p)):m?e.callSlot(m,p):P(t.title))),f.push(n("div",{class:"vxe-form--item-title-content"},g));const h=[];return c&&h.push(c.content||c.message?n(Gn,Object.assign(Object.assign(Object.assign({},d),c),{content:P(c.content||c.message)}),{default:()=>Jn(c)}):Jn(c)),f.push(n("div",{class:"vxe-form--item-title-postfix"},h)),f}tl.component(_o.name,_o);const er=a({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(t){const l=i("$xeform",{}),o={itemConfig:t.itemConfig};f("$xeformiteminfo",o),f("$xeformgather",null);return{renderVN:()=>{const{reactData:o}=l,{data:r,rules:a,span:i,align:s,titleAlign:c,titleWidth:d,titleColon:p,titleAsterisk:m,titleOverflow:f,vertical:g}=l.props,{computeValidOpts:h}=l.getComputeMaps(),v=t.itemConfig,{collapseAll:b}=o,x=h.value,{slots:w,title:C,visible:y,folding:S,field:T,collapseNode:O,itemRender:R,showError:k,errRule:$,className:M,titleOverflow:D,vertical:F,children:N,showTitle:L,contentClassName:A,contentStyle:V,titleClassName:j,titleStyle:B}=v,_=I(R)?Xt.renderer.get(R.name):null,H=_?_.itemClassName:"",z=_?_.itemStyle:null,W=_?_.itemContentClassName:"",q=_?_.itemContentStyle:null,U=_?_.itemTitleClassName:"",Y=_?_.itemTitleStyle:null,X=w?w.default:null,G=w?w.title:null,K=v.span||i,Z=v.align||s,J=e.eqNull(v.titleAlign)?c:v.titleAlign,Q=e.eqNull(v.titleWidth)?d:v.titleWidth,ee=e.eqNull(v.titleColon)?p:v.titleColon,te=e.eqNull(v.titleAsterisk)?m:v.titleAsterisk,le=e.isUndefined(D)||e.isNull(D)?f:D,oe=e.isUndefined(F)||e.isNull(F)?g:F,ne="title"===le,re=!0===le||"tooltip"===le,ae=ne||re||"ellipsis"===le,ie={data:r,field:T,property:T,item:v,$form:l,$grid:l.xegrid};if(!1===y)return u();let se=!1;if(a){const e=a[T];e&&(se=e.some((e=>e.required)))}if(N&&N.length>0){const t=N.map(((e,t)=>n(er,{key:t,itemConfig:e})));return t.length?n("div",{class:["vxe-form--gather vxe-form--item-row",v.id,K?`vxe-form--item-col_${K} is--span`:"",M?e.isFunction(M)?M(ie):M:""]},t):u()}let ce=[];X?ce=l.callSlot(X,ie):_&&_.renderItemContent?ce=De(_.renderItemContent(R,ie)):T&&(ce=[e.toValueString(e.get(r,T))]),O&&ce.push(n("div",{class:"vxe-form--item-trigger-node",onClick:l.toggleCollapseEvent},[n("span",{class:"vxe-form--item-trigger-text"},b?E.i18n("vxe.form.unfolding"):E.i18n("vxe.form.folding")),n("i",{class:["vxe-form--item-trigger-icon",b?E.icon.FORM_FOLDING:E.icon.FORM_UNFOLDING]})])),$&&x.showMessage&&ce.push(n("div",{class:"vxe-form--item-valid",style:$.maxWidth?{width:`${$.maxWidth}px`}:null},$.content));const de=re?{onMouseenter(e){l.triggerTitleTipEvent(e,ie)},onMouseleave:l.handleTitleTipLeaveEvent}:{};return n("div",{class:["vxe-form--item",v.id,K?`vxe-form--item-col_${K} is--span`:"",M?e.isFunction(M)?M(ie):M:"",H?e.isFunction(H)?H(ie):H:"",{"is--title":C,"is--colon":ee,"is--vertical":oe,"is--asterisk":te,"is--required":se,"is--hidden":S&&b,"is--active":qn(l,v),"is--error":k}],style:e.isFunction(z)?z(ie):z},[n("div",{class:"vxe-form--item-inner"},[!1!==L&&(C||G)?n("div",Object.assign({class:["vxe-form--item-title",J?`align--${J}`:"",ae?"is--ellipsis":"",U?e.isFunction(U)?U(ie):U:"",j?e.isFunction(j)?j(ie):j:""],style:Object.assign({},e.isFunction(Y)?Y(ie):Y,e.isFunction(B)?B(ie):B,Q?{width:isNaN(Q)?Q:`${Q}px`}:null),title:ne?P(C):null},de),Qn(l,v)):null,n("div",{class:["vxe-form--item-content",Z?`align--${Z}`:"",W?e.isFunction(W)?W(ie):W:"",A?e.isFunction(A)?A(ie):A:""],style:Object.assign({},e.isFunction(q)?q(ie):q,e.isFunction(V)?V(ie):V)},ce)])])}}},render(){return this.renderVN()}});class tr{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return P(this.$options.content||this.$options.message)}get message(){return this.content}}const lr=(t,l)=>{const{type:o,min:n,max:r,pattern:a}=t,i="number"===o,s=i?e.toNumber(l):e.getSize(l);return!(!i||!isNaN(l))||(!e.eqNull(n)&&s<e.toNumber(n)||(!e.eqNull(r)&&s>e.toNumber(r)||!(!a||(e.isRegExp(a)?a:new RegExp(a)).test(l))))};const or=a({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>E.form.size||E.size},span:{type:[String,Number],default:()=>E.form.span},align:{type:String,default:()=>E.form.align},titleAlign:{type:String,default:()=>E.form.titleAlign},titleWidth:{type:[String,Number],default:()=>E.form.titleWidth},titleColon:{type:Boolean,default:()=>E.form.titleColon},titleAsterisk:{type:Boolean,default:()=>E.form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:null},vertical:{type:Boolean,default:null},className:[String,Function],readonly:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>E.form.preventSubmit},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:()=>E.form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(t,r){const a=Xt.tooltip,{slots:d,emit:m}=r,g=e.uniqueId(),h=Nl(t),v=o({collapseAll:t.collapseStatus,staticItems:[],formItems:[]}),b=o({tooltipTimeout:null,tooltipStore:{item:null,visible:!1}}),x=i("$xegrid",null),w=p(),C=p();let y={};const S=s((()=>Object.assign({},E.form.validConfig,t.validConfig))),T=s((()=>Object.assign({},E.tooltip,E.form.tooltipConfig,t.tooltipConfig))),O={refElem:w},R={computeSize:h,computeValidOpts:S,computeTooltipOpts:T},k={xID:g,props:t,context:r,reactData:v,xegrid:x,getRefMaps:()=>O,getComputeMaps:()=>R},$=t=>(t.length,v.staticItems=e.mapTree(t,(e=>zn(k,e)),{children:"children"}),c()),M=()=>{const t=[];return e.eachTree(v.formItems,(e=>{t.push(e)}),{children:"children"}),t},D=t=>{const l=e.findTree(v.formItems,(e=>e.field===t),{children:"children"});return l?l.item:null},F=()=>v.collapseAll,N=()=>{const e=!F();return v.collapseAll=e,m("update:collapseStatus",e),c()},L=t=>{if(t){let l=t;e.isArray(t)||(l=[t]),l.forEach((e=>{if(e){const t=Wn(k,e);t&&(t.showError=!1)}}))}else M().forEach((e=>{e.showError=!1}));return c()},A=()=>{const{data:l}=t,o=M();return l&&o.forEach((t=>{const{field:o,resetValue:n,itemRender:r}=t;if(I(r)){const a=Xt.renderer.get(r.name);a&&a.itemResetMethod?a.itemResetMethod({data:l,field:o,property:o,item:t,$form:k,$grid:k.xegrid}):o&&e.set(l,o,null===n?function(t,l){return e.isArray(t)&&(l=[]),l}(e.get(l,o),void 0):e.clone(n,!0))}})),L()},P=e=>{e.preventDefault(),A(),y.dispatchEvent("reset",{data:t.data},e)},V=(l,o,n)=>{const{data:r,rules:a}=t,i={};return e.isArray(o)||(o=[o]),Promise.all(o.map((t=>{const o=[],s=[];if(t&&a){const i=e.get(a,t);if(i){const a=e.isUndefined(n)?e.get(r,t):n;i.forEach((n=>{const{type:c,trigger:d,required:u,validator:p}=n;if("all"===l||!d||l===d)if(p){const l={itemValue:a,rule:n,rules:i,data:r,field:t,property:t,$form:k};let c;if(e.isString(p)){const e=Xt.validators.get(p);e&&e.itemValidatorMethod&&(c=e.itemValidatorMethod(l))}else c=p(l);c&&(e.isError(c)?o.push(new tr({type:"custom",trigger:d,content:c.message,rule:new tr(n)})):c.catch&&s.push(c.catch((e=>{o.push(new tr({type:"custom",trigger:d,content:e?e.message:n.content||n.message,rule:new tr(n)}))}))))}else{const t="array"===c,l=e.isArray(a);let r=!0;r=t||l?!l||!a.length:e.isString(a)?j(a.trim()):j(a),(u?r||lr(n,a):!r&&lr(n,a))&&o.push(new tr(n))}}))}}return Promise.all(s).then((()=>{o.length&&(i[t]=o.map((e=>({$form:k,rule:e,data:r,field:t,property:t}))))}))}))).then((()=>{if(!e.isEmpty(i))return Promise.reject(i)}))};let B;const _=(e,l,o)=>{const{data:n,rules:r}=t,a=S.value,i={},s=[],d=[];return clearTimeout(B),n&&r?(e.forEach((e=>{const{field:t}=e;t&&!function(e,t){const{reactData:l}=e,{collapseAll:o}=l,{folding:n,visible:r}=t;return!1===r||n&&o}(k,e)&&qn(k,e)&&d.push(V(l||"all",t).then((()=>{e.errRule=null})).catch((l=>{const o=l[t];return i[t]||(i[t]=[]),i[t].push(o),s.push(t),e.errRule=o[0].rule,Promise.reject(o)})))})),Promise.all(d).then((()=>{o&&o()})).catch((()=>new Promise((t=>{B=window.setTimeout((()=>{e.forEach((e=>{e.errRule&&(e.showError=!0)}))}),20),!1!==a.autoPos&&c((()=>{(e=>{const t=w.value;for(let l=0;l<e.length;l++){const o=e[l],n=D(o);if(n&&I(n.itemRender)){const{itemRender:e}=n,o=Xt.renderer.get(e.name);let r=null;if(l||se(t.querySelector(`.${n.id}`)),e.autofocus&&(r=t.querySelector(`.${n.id} ${e.autofocus}`)),!r&&o&&o.autofocus&&(r=t.querySelector(`.${n.id} ${o.autofocus}`)),r){r.focus();break}}}})(s)})),o?(o(i),t()):t(i)}))))):(o&&o(),Promise.resolve())},H=e=>{e.preventDefault(),t.preventSubmit||(L(),_(M()).then((l=>{l?y.dispatchEvent("submit-invalid",{data:t.data,errMap:l},e):y.dispatchEvent("submit",{data:t.data},e)})))},z=()=>{const{tooltipStore:e}=b,t=C.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),t&&t.close()),c()},W=(e,t,l)=>t?V(e?["blur"].includes(e.type)?"blur":"change":"all",t,l).then((()=>{L(t)})).catch((e=>{const l=e[t],o=D(t);l&&o&&(o.showError=!0,o.errRule=l[0].rule)})):c();y={dispatchEvent(e,t,l){m(e,Object.assign({$form:k,$grid:x,$event:l},t))},reset:A,validate:e=>(L(),_(M(),"",e)),validateField:(t,l)=>{let o=[];return o=e.isArray(t)?t:[t],_(o.map((e=>Wn(k,e))),"",l)},clearValidate:L,updateStatus:(e,t)=>{const{field:l}=e;return W(new Event("change"),l,t)},toggleCollapse:N,getItems:M,getItemByField:D,closeTooltip:z};const q={callSlot:(t,l)=>t&&(e.isString(t)&&(t=d[t]||null),e.isFunction(t))?De(t(l)):[],triggerItemEvent:W,toggleCollapseEvent:e=>{N();const l=F();y.dispatchEvent("toggle-collapse",{status:l,collapse:l,data:t.data},e),y.dispatchEvent("collapse",{status:l,collapse:l,data:t.data},e)},triggerTitleTipEvent:(e,t)=>{const{item:l}=t,{tooltipStore:o}=b,n=C.value,r=e.currentTarget.children[0],a=(r.textContent||"").trim(),i=r.scrollWidth>r.clientWidth;clearTimeout(b.tooltipTimeout),o.item!==l&&z(),a&&i&&(Object.assign(o,{item:l,visible:!0}),n&&n.open(r,a))},handleTitleTipLeaveEvent:()=>{const e=T.value;let t=C.value;t&&t.setActived(!1),e.enterable?b.tooltipTimeout=setTimeout((()=>{t=C.value,t&&!t.isActived()&&z()}),e.leaveDelay):z()}};Object.assign(k,y,q);const U=p(0);l((()=>v.staticItems.length),(()=>{U.value++})),l((()=>v.staticItems),(()=>{U.value++})),l(U,(()=>{v.formItems=v.staticItems}));const Y=p(0);l((()=>t.items?t.items.length:-1),(()=>{Y.value++})),l((()=>t.items),(()=>{Y.value++})),l(Y,(()=>{$(t.items||[])})),l((()=>t.collapseStatus),(e=>{v.collapseAll=!!e}));return k.renderVN=()=>{const{loading:l,className:o,data:r,customLayout:i}=t,{formItems:s}=v,c=h.value,p=T.value,m=d.default;return n("form",{ref:w,class:["vxe-form",o?e.isFunction(o)?o({items:s,data:r,$form:k}):o:"",{[`size--${c}`]:c,"is--loading":l}],onSubmit:H,onReset:P},[n("div",{class:"vxe-form--wrapper vxe-form--item-row"},i?m?m({}):[]:s.map(((e,t)=>n(er,{key:t,itemConfig:e})))),n("div",{class:"vxe-form-slots",ref:"hideItem"},i?[]:m?m({}):[]),n(Pl,{class:"vxe-form--loading",modelValue:l}),a?n(Gn,Object.assign({ref:C},p)):u()])},t.items&&$(t.items),f("$xeform",k),f("$xeformgather",null),f("$xeformitem",null),f("$xeformiteminfo",null),k},render(){return this.renderVN()}}),nr=Object.assign(or,{install(e){e.component(or.name,or)}}),rr=nr;tl.component(or.name,or);const ar=Object.keys(yn),ir=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],sr=[...En,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],cr=a({name:"VxeGrid",props:Object.assign(Object.assign({},yn),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>E.grid.size||E.size}}),emits:sr,setup(t,r){const{slots:a,emit:i}=r,d=e.uniqueId(),u=x(),m=Nl(t),v=o({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:E.pager.pageSize||10,currentPage:1}}),b=p(),w=p(),C=p(),y=p(),S=p(),T=p(),O=p(),k=p(),$=p(),M=p(),D=e=>{const t={};return e.forEach((e=>{t[e]=(...t)=>{const l=w.value;if(l&&l[e])return l[e](...t)}})),t},F=D(ir);ir.forEach((e=>{F[e]=(...t)=>{const l=w.value;if(l&&l[e])return l&&l[e](...t)}}));const A=s((()=>Object.assign({},E.grid.proxyConfig,t.proxyConfig))),P=s((()=>!1!==A.value.message)),V=s((()=>Object.assign({},E.grid.pagerConfig,t.pagerConfig))),j=s((()=>Object.assign({},E.grid.formConfig,t.formConfig))),B=s((()=>Object.assign({},E.grid.toolbarConfig,t.toolbarConfig))),_=s((()=>Object.assign({},E.grid.zoomConfig,t.zoomConfig))),H=s((()=>v.isZMax?{zIndex:v.tZindex}:null)),z=s((()=>{const e={},l=t;return ar.forEach((t=>{e[t]=l[t]})),e})),W={refElem:b,refTable:w,refForm:C,refToolbar:y,refPager:S},q={computeProxyOpts:A,computePagerOpts:V,computeFormOpts:j,computeToolbarOpts:B,computeZoomOpts:_},U={xID:d,props:t,context:r,instance:u,reactData:v,getRefMaps:()=>W,getComputeMaps:()=>q};let Y={};const X=s((()=>{const{seqConfig:e,pagerConfig:l,loading:o,editConfig:n,proxyConfig:r}=t,{isZMax:a,tableLoading:i,tablePage:s,tableData:c}=v,d=z.value,u=A.value,p=V.value,m=Object.assign({},d);return a&&(d.maxHeight?m.maxHeight="auto":m.height="auto"),r&&I(u)&&(m.loading=o||i,m.data=c,l&&u.seq&&I(p)&&(m.seqConfig=Object.assign({},e,{startIndex:(s.currentPage-1)*s.pageSize}))),n&&(m.editConfig=Object.assign({},n)),m})),G=()=>{const e=B.value;t.toolbarConfig&&I(e)&&c((()=>{const e=w.value,t=y.value;e&&t&&e.connect(t)}))},K=()=>{const{tablePage:e}=v,{pagerConfig:l}=t,o=V.value,{currentPage:n,pageSize:r}=o;l&&I(o)&&(n&&(e.currentPage=n),r&&(e.pageSize=r))},ee=(t,l)=>{const o=A.value,n=(o.response||o.props||{}).message;let r;return t&&n&&(r=e.isFunction(n)?n({data:t,$grid:U}):e.get(t,n)),r||E.i18n(l)},te=(e,t,l)=>{const o=P.value,n=F.getCheckboxRecords();if(o){if(n.length)return Xt.modal.confirm({id:`cfm_${e}`,content:E.i18n(t),escClosable:!0}).then((e=>{if("confirm"===e)return l()}));Xt.modal.message({id:`msg_${e}`,content:E.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else n.length&&l();return Promise.resolve()},le=e=>{const{proxyConfig:l}=t,{tablePage:o}=v,{currentPage:n,pageSize:r}=e,a=A.value;o.currentPage=n,o.pageSize=r,Y.dispatchEvent("page-change",e),l&&I(a)&&Y.commitProxy("query").then((t=>{Y.dispatchEvent("proxy-query",t,e.$event)}))},oe=e=>{const l=w.value,{proxyConfig:o}=t,{computeSortOpts:n}=l.getComputeMaps(),r=A.value;n.value.remote&&(v.sortData=e.sortList,o&&I(r)&&(v.tablePage.currentPage=1,Y.commitProxy("query").then((t=>{Y.dispatchEvent("proxy-query",t,e.$event)})))),Y.dispatchEvent("sort-change",e)},ne=e=>{const l=w.value,{proxyConfig:o}=t,{computeFilterOpts:n}=l.getComputeMaps(),r=A.value;n.value.remote&&(v.filterData=e.filterList,o&&I(r)&&(v.tablePage.currentPage=1,Y.commitProxy("query").then((t=>{Y.dispatchEvent("proxy-query",t,e.$event)})))),Y.dispatchEvent("filter-change",e)},re=e=>{const{proxyConfig:l}=t,o=A.value;l&&I(o)&&Y.commitProxy("reload").then((t=>{Y.dispatchEvent("proxy-query",Object.assign(Object.assign({},t),{isReload:!0}),e.$event)})),Y.dispatchEvent("form-submit",e)},ae=e=>{const{proxyConfig:l}=t,o=A.value;l&&I(o)&&Y.commitProxy("reload").then((t=>{Y.dispatchEvent("proxy-query",Object.assign(Object.assign({},t),{isReload:!0}),e.$event)})),Y.dispatchEvent("form-reset",e)},ie=e=>{Y.dispatchEvent("form-submit-invalid",e)},se=e=>{c((()=>F.recalculate(!0))),Y.dispatchEvent("form-toggle-collapse",e),Y.dispatchEvent("form-collapse",e)},ce=e=>{const{isZMax:t}=v;return(e?!t:t)&&(v.isZMax=!t,v.tZindex<L()&&(v.tZindex=N())),c().then((()=>F.recalculate(!0))).then((()=>v.isZMax))},de=(t,l)=>{const o=t[l];if(o){if(!e.isString(o))return o;if(a[o])return a[o]}return null},ue=["Form","Toolbar","Top","Table","Bottom","Pager"],pe=()=>{const{layouts:l}=t,o=[];return(l&&l.length?l:E.grid.layouts||ue).forEach((l=>{switch(l){case"Form":o.push((()=>{const{formConfig:l,proxyConfig:o}=t,{formData:r}=v,i=A.value,s=j.value,c=[];if(l&&I(s)||a.form){let t=[];if(a.form)t=a.form({$grid:U});else if(s.items){const l={};if(!s.inited){s.inited=!0;const e=i.beforeItem;i&&e&&s.items.forEach((t=>{e({$grid:U,item:t})}))}s.items.forEach((t=>{e.each(t.slots,(t=>{e.isFunction(t)||a[t]&&(l[t]=a[t])}))})),t.push(n(nr,Object.assign(Object.assign({ref:C},Object.assign({},s,{data:o&&I(i)&&i.form?r:s.data})),{onSubmit:re,onReset:ae,onSubmitInvalid:ie,onCollapse:se}),l))}c.push(n("div",{ref:T,key:"form",class:"vxe-grid--form-wrapper"},t))}return c})());break;case"Toolbar":o.push((()=>{const{toolbarConfig:e}=t,l=B.value,o=[];if(e&&I(l)||a.toolbar){let e=[];if(a.toolbar)e=a.toolbar({$grid:U});else{const t=l.slots;let o,r;const a={};t&&(o=de(t,"buttons"),r=de(t,"tools"),o&&(a.buttons=o),r&&(a.tools=r)),e.push(n(Bn,Object.assign({ref:y},l),a))}o.push(n("div",{ref:O,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e))}return o})());break;case"Top":o.push(a.top?[n("div",{ref:k,key:"top",class:"vxe-grid--top-wrapper"},a.top({$grid:U}))]:[]);break;case"Table":o.push(fe());break;case"Bottom":o.push(ge());break;case"Pager":o.push(he())}})),o},me={};En.forEach((t=>{const l=e.camelCase(`on-${t}`);me[l]=(...e)=>i(t,...e)}));const fe=()=>{const{proxyConfig:e}=t,l=X.value,o=A.value,r=Object.assign({},me),i=a.empty,s=a.loading;e&&I(o)&&(o.sort&&(r.onSortChange=oe),o.filter&&(r.onFilterChange=ne));const c={};return i&&(c.empty=()=>i({})),s&&(c.loading=()=>s({})),[n(Mn,Object.assign(Object.assign({ref:w,key:"table"},l),r),c)]},ge=()=>a.bottom?[n("div",{ref:$,key:"bottom",class:"vxe-grid--bottom-wrapper"},a.bottom({$grid:U}))]:[],he=()=>{const{proxyConfig:e,pagerConfig:l}=t,o=A.value,r=V.value,i=[];if(l&&I(r)||a.pager){let t=[];if(a.pager)t=a.pager({$grid:U});else{const l=r.slots,a={};let i,s;l&&(i=de(l,"left"),s=de(l,"right"),i&&(a.left=i),s&&(a.right=s)),t.push(n(Ln,Object.assign(Object.assign(Object.assign({ref:S},r),e&&I(o)?v.tablePage:{}),{onPageChange:le}),a))}i.push(n("div",{ref:M,key:"pager",class:"vxe-grid--pager-wrapper"},t))}return i},ve=()=>{const{proxyConfig:l,formConfig:o}=t,{proxyInited:n}=v,r=A.value,a=j.value;if(l&&I(r)){if(o&&I(a)&&r.form&&a.items){const t={};a.items.forEach((l=>{const{field:o,itemRender:n}=l;if(o){let r=null;if(n){const{defaultValue:t}=n;e.isFunction(t)?r=t({item:l}):e.isUndefined(t)||(r=t)}t[o]=r}})),v.formData=t}n||(v.proxyInited=!0,!1!==r.autoLoad&&c().then((()=>Y.commitProxy("_init"))).then((e=>{Y.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isInited:!0}),new Event("init"))})))}};Y={dispatchEvent(e,t,l){i(e,Object.assign({$grid:U,$event:l},t))},commitProxy(l,...o){const{toolbarConfig:n,pagerConfig:r,editRules:a,validConfig:i}=t,{tablePage:s,formData:d}=v,u=P.value,p=A.value,m=V.value,f=B.value,{beforeQuery:g,afterQuery:h,beforeDelete:b,afterDelete:x,beforeSave:C,afterSave:y,ajax:S={}}=p,T=p.response||p.props||{},O=w.value;let R=null,k=null;if(e.isString(l)){const{buttons:t}=f,o=n&&I(f)&&t?e.findTree(t,(e=>e.code===l),{children:"dropdowns"}):null;R=o?o.item:null,k=l}else R=l,k=R.code;const $=R?R.params:null;switch(k){case"insert":return O.insert({});case"insert_edit":case"insert_actived":return O.insert({}).then((({row:e})=>O.setEditRow(e)));case"mark_cancel":(e=>{const t=P.value,l=w.value,o=l.getCheckboxRecords();o.length?(l.togglePendingRow(o),F.clearCheckboxRow()):t&&Xt.modal.message({id:e,content:E.i18n("vxe.grid.selectOneRecord"),status:"warning"})})(k);break;case"remove":return te(k,"vxe.grid.removeSelectRecord",(()=>O.removeCheckboxRow()));case"import":O.importData($);break;case"open_import":O.openImport($);break;case"export":O.exportData($);break;case"open_export":O.openExport($);break;case"reset_custom":return O.resetColumn(!0);case"_init":case"reload":case"query":{const t=S.query;if(t){const l="_init"===k,n="reload"===k;let a=[],i=[],c={};if(r&&((l||n)&&(s.currentPage=1),I(m)&&(c=Object.assign({},s))),l){const{computeSortOpts:t}=O.getComputeMaps();let l=t.value.defaultSort;l&&(e.isArray(l)||(l=[l]),a=l.map((e=>({field:e.field,property:e.field,order:e.order})))),i=O.getCheckedFilters()}else n?O.clearAll():(a=O.getSortColumns(),i=O.getCheckedFilters());const u={code:k,button:R,isInited:l,isReload:n,$grid:U,page:c,sort:a.length?a[0]:{},sorts:a,filters:i,form:d,options:t};v.sortData=a,v.filterData=i,v.tableLoading=!0;const p=[u].concat(o);return Promise.resolve((g||t)(...p)).then((t=>{if(v.tableLoading=!1,t)if(r&&I(m)){const l=T.total,o=(e.isFunction(l)?l({data:t,$grid:U}):e.get(t,l||"page.total"))||0;s.total=e.toNumber(o);const n=T.result;v.tableData=(e.isFunction(n)?n({data:t,$grid:U}):e.get(t,n||"result"))||[];const r=Math.max(Math.ceil(o/s.pageSize),1);s.currentPage>r&&(s.currentPage=r)}else{const l=T.list;v.tableData=(l?e.isFunction(l)?l({data:t,$grid:U}):e.get(t,l):t)||[]}else v.tableData=[];return h&&h(...p),{status:!0}})).catch((()=>(v.tableLoading=!1,{status:!1})))}break}case"delete":{const e=S.delete;if(e){const t=F.getCheckboxRecords(),l=t.filter((e=>!O.isInsertByRow(e))),n=[{$grid:U,code:k,button:R,body:{removeRecords:l},form:d,options:e}].concat(o);if(t.length)return te(k,"vxe.grid.deleteSelectRecord",(()=>l.length?(v.tableLoading=!0,Promise.resolve((b||e)(...n)).then((e=>(v.tableLoading=!1,O.setPendingRow(l,!1),u&&Xt.modal.message({content:ee(e,"vxe.grid.delSuccess"),status:"success"}),x?x(...n):Y.commitProxy("query"),{status:!0}))).catch((e=>(v.tableLoading=!1,u&&Xt.modal.message({id:k,content:ee(e,"vxe.grid.operError"),status:"error"}),{status:!1})))):O.remove(t)));u&&Xt.modal.message({id:k,content:E.i18n("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{const e=S.save;if(e){const t=O.getRecordset(),{insertRecords:l,removeRecords:n,updateRecords:r,pendingRecords:s}=t,c=[{$grid:U,code:k,button:R,body:t,form:d,options:e}].concat(o);l.length&&(t.pendingRecords=s.filter((e=>-1===O.findRowIndexOf(l,e)))),s.length&&(t.insertRecords=l.filter((e=>-1===O.findRowIndexOf(s,e))));let p=Promise.resolve();return a&&(p=O[i&&"full"===i.msgMode?"fullValidate":"validate"](t.insertRecords.concat(r))),p.then((l=>{if(!l)return t.insertRecords.length||n.length||r.length||t.pendingRecords.length?(v.tableLoading=!0,Promise.resolve((C||e)(...c)).then((e=>(v.tableLoading=!1,O.clearPendingRow(),u&&Xt.modal.message({content:ee(e,"vxe.grid.saveSuccess"),status:"success"}),y?y(...c):Y.commitProxy("query"),{status:!0}))).catch((e=>(v.tableLoading=!1,u&&Xt.modal.message({id:k,content:ee(e,"vxe.grid.operError"),status:"error"}),{status:!1})))):void(u&&Xt.modal.message({id:k,content:E.i18n("vxe.grid.dataUnchanged"),status:"info"}))}))}break}default:{const e=Xt.commands.get(k);e&&e.commandMethod&&e.commandMethod({code:k,button:R,$grid:U,$table:O},...o)}}return c()},zoom:()=>v.isZMax?Y.revert():Y.maximize(),isMaximized:()=>v.isZMax,maximize:()=>ce(!0),revert:()=>ce(),getFormItems(l){const o=j.value,{formConfig:n}=t,{items:r}=o,a=[];return e.eachTree(n&&I(o)&&r?r:[],(e=>{a.push(e)}),{children:"children"}),e.isUndefined(l)?a:a[l]},getProxyInfo(){const e=w.value;if(t.proxyConfig){const{sortData:t}=v;return{data:v.tableData,filter:v.filterData,form:v.formData,sort:t.length?t[0]:{},sorts:t,pager:v.tablePage,pendingRecords:e?e.getPendingRecords():[]}}return null}};const be={extendTableMethods:D,callSlot:(t,l)=>t&&(e.isString(t)&&(t=a[t]||null),e.isFunction(t))?De(t(l)):[],getExcludeHeight(){const{height:e}=t,{isZMax:l}=v,o=b.value,n=T.value,r=O.value,a=k.value,i=$.value,s=M.value;return(l||"auto"!==e?0:Q(o.parentNode))+Q(o)+J(n)+J(r)+J(a)+J(i)+J(s)},getParentHeight(){const t=b.value;return t?(v.isZMax?Z().visibleHeight:e.toNumber(getComputedStyle(t.parentNode).height))-be.getExcludeHeight():0},triggerToolbarCommitEvent(e,t){const{code:l}=e;return Y.commitProxy(e,t).then((e=>{l&&e&&e.status&&["query","reload","delete","save"].includes(l)&&Y.dispatchEvent("delete"===l||"save"===l?`proxy-${l}`:"proxy-query",Object.assign(Object.assign({},e),{isReload:"reload"===l}),t)}))},triggerToolbarBtnEvent(e,t){be.triggerToolbarCommitEvent(e,t),Y.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){be.triggerToolbarCommitEvent(e,t),Y.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e,$event:t})},triggerZoomEvent(e){Y.zoom(),Y.dispatchEvent("zoom",{type:v.isZMax?"max":"revert"},e)}};Object.assign(U,F,Y,be);const xe=p(0);l((()=>t.columns?t.columns.length:-1),(()=>{xe.value++})),l((()=>t.columns),(()=>{xe.value++})),l(xe,(()=>{c((()=>U.loadColumn(t.columns||[])))})),l((()=>t.toolbarConfig),(()=>{G()})),l((()=>t.pagerConfig),(()=>{K()})),l((()=>t.proxyConfig),(()=>{ve()}));const we=e=>{const t=_.value;El(e,il)&&v.isZMax&&!1!==t.escRestore&&be.triggerZoomEvent(e)};Xt.hooks.forEach((t=>{const{setupGrid:l}=t;if(l){const t=l(U);t&&e.isObject(t)&&Object.assign(U,t)}})),K(),g((()=>{c((()=>{const{data:e,columns:l,proxyConfig:o}=t,n=A.value,r=j.value;I(o)&&(e||n.form&&r.data)&&R("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),l&&l.length&&U.loadColumn(l),G()})),Tl.on(U,"keydown",we)})),h((()=>{Tl.off(U,"keydown")})),c((()=>{ve()}));return U.renderVN=()=>{const e=m.value,l=H.value;return n("div",{ref:b,class:["vxe-grid",{[`size--${e}`]:e,"is--animat":!!t.animat,"is--round":t.round,"is--maximize":v.isZMax,"is--loading":t.loading||v.tableLoading}],style:l},pe())},f("$xegrid",U),U},render(){return this.renderVN()}}),dr=Object.assign(cr,{install(e){e.component(cr.name,cr)}}),ur=dr;tl.component(cr.name,cr);const pr=Object.assign(Ul,{install(e){e.component(Ul.name,Ul)}}),mr=pr;tl.component(Ul.name,Ul);const fr=a({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:Boolean,max:{type:[String,Number],default:null},size:{type:String,default:()=>E.checkboxGroup.size||E.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:r}=l,a=i("$xeform",null),c=i("$xeformiteminfo",null),d=e.uniqueId(),u=s((()=>{const{modelValue:l,max:o}=t;return!!o&&(l?l.length:0)>=e.toNumber(o)})),p=s((()=>t.optionProps||{})),m=s((()=>p.value.label||"label")),g=s((()=>p.value.value||"value")),h=s((()=>p.value.disabled||"disabled")),v={computeIsMaximize:u},b={xID:d,props:t,context:l,getComputeMaps:()=>v};Nl(t);const x={dispatchEvent(e,t,l){r(e,Object.assign({$checkboxGroup:b,$event:l},t))}},w={handleChecked(e,l){const{checked:o,label:n}=e,i=t.modelValue||[],s=i.indexOf(n);o?-1===s&&i.push(n):i.splice(s,1),r("update:modelValue",i),b.dispatchEvent("change",Object.assign({checklist:i},e),l),a&&c&&a.triggerItemEvent(l,c.itemConfig.field,i)}};Object.assign(b,x,w);const C=()=>{const{options:e}=t,l=o.default,r=g.value,a=m.value,i=h.value;return n("div",{class:"vxe-checkbox-group"},l?l({}):e?e.map((e=>n(Ul,{label:e[r],content:e[a],disabled:e[i]}))):[])};return b.renderVN=C,f("$xecheckboxgroup",b),C}}),gr=Object.assign(fr,{install(e){e.component(fr.name,fr)}}),hr=gr;tl.component(fr.name,fr);const vr=Object.assign(Kl,{install:function(e){e.component(Kl.name,Kl)}}),br=vr;tl.component(Kl.name,Kl);const xr=Object.assign(Jl,{install:function(e){e.component(Jl.name,Jl)}}),wr=xr;tl.component(Jl.name,Jl);const Cr=Object.assign(Zl,{install:function(e){e.component(Zl.name,Zl)}}),yr=Cr;tl.component(Zl.name,Zl);const Er=Object.assign(ql,{install(e){e.component(ql.name,ql)}}),Sr=Er;let Tr;tl.component(ql.name,ql);const Or=a({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>e.eqNull(E.textarea.placeholder)?E.i18n("vxe.base.pleaseInput"):E.textarea.placeholder},maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>E.textarea.resize},size:{type:String,default:()=>E.textarea.size||E.size}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(t,r){const{emit:a}=r,d=i("$xeform",null),u=i("$xeformiteminfo",null),m=e.uniqueId(),f=Nl(t),g=o({inputValue:t.modelValue}),h=p(),v=p(),b={refElem:h,refTextarea:v},x={xID:m,props:t,context:r,reactData:g,getRefMaps:()=>b};let w={};const C=s((()=>e.getSize(g.inputValue))),y=s((()=>{const l=C.value;return t.maxlength&&l>e.toNumber(t.maxlength)})),S=s((()=>Object.assign({minRows:1,maxRows:10},E.textarea.autosize,t.autosize))),T=()=>{const{size:e,autosize:l}=t,{inputValue:o}=g;if(l){Tr||(Tr=document.createElement("div")),Tr.parentNode||document.body.appendChild(Tr);const t=v.value,l=getComputedStyle(t);Tr.className=["vxe-textarea--autosize",e?`size--${e}`:""].join(" "),Tr.style.width=`${t.clientWidth}px`,Tr.style.padding=l.padding,Tr.innerText=(""+(o||"　")).replace(/\n$/,"\n　")}},O=()=>{t.autosize&&c((()=>{const t=S.value,{minRows:l,maxRows:o}=t,n=v.value,r=Tr.clientHeight,a=getComputedStyle(n),i=e.toNumber(a.lineHeight),s=e.toNumber(a.paddingTop)+e.toNumber(a.paddingBottom)+e.toNumber(a.borderTopWidth)+e.toNumber(a.borderBottomWidth),c=(r-s)/i,d=c&&/[0-9]/.test(""+c)?c:Math.floor(c)+1;let u=d;d<l?u=l:d>o&&(u=o),n.style.height=`${u*i+s}px`}))},R=e=>{const t=g.inputValue;x.dispatchEvent(e.type,{value:t},e)},k=(l,o)=>{g.inputValue=l,a("update:modelValue",l),e.toValueString(t.modelValue)!==l&&(w.dispatchEvent("change",{value:l},o),d&&u&&d.triggerItemEvent(o,u.itemConfig.field,l))},$=e=>{const{immediate:l}=t,o=e.target.value;g.inputValue=o,l&&k(o,e),x.dispatchEvent("input",{value:o},e),O()},M=e=>{const{immediate:l}=t;l?R(e):k(g.inputValue,e)},I=e=>{const{immediate:l}=t,{inputValue:o}=g;l||k(o,e),x.dispatchEvent("blur",{value:o},e)};w={dispatchEvent(e,t,l){a(e,Object.assign({$textarea:x,$event:l},t))},focus:()=>(v.value.focus(),c()),blur:()=>(v.value.blur(),c())},Object.assign(x,w),l((()=>t.modelValue),(e=>{g.inputValue=e,T()})),c((()=>{const{autosize:e}=t;e&&(T(),O())}));return x.renderVN=()=>{const{className:l,resize:o,placeholder:r,disabled:a,maxlength:i,autosize:s,showWordCount:c,countMethod:d,rows:u,cols:p}=t,{inputValue:m}=g,b=f.value,x=y.value,w=C.value;return n("div",{ref:h,class:["vxe-textarea",l,{[`size--${b}`]:b,"is--autosize":s,"is--count":c,"is--disabled":a,"def--rows":!e.eqNull(u),"def--cols":!e.eqNull(p)}]},[n("textarea",{ref:v,class:"vxe-textarea--inner",value:m,name:t.name,placeholder:r?P(r):null,maxlength:i,readonly:t.readonly,disabled:a,rows:u,cols:p,style:o?{resize:o}:null,onInput:$,onChange:M,onKeydown:R,onKeyup:R,onClick:R,onFocus:R,onBlur:I}),c?n("span",{class:["vxe-textarea--count",{"is--error":x}]},d?`${d({value:m})}`:`${w}${i?`/${i}`:""}`):null])},x},render(){return this.renderVN()}}),Rr=Object.assign(Or,{install:function(e){e.component(Or.name,Or)}}),kr=Rr;tl.component(Or.name,Or);const $r=a({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,circle:Boolean,className:[String,Function],disabled:Boolean,size:{type:String,default:()=>E.buttonGroup.size||E.size}},emits:["click"],setup(t,l){const{slots:o,emit:r}=l,a=e.uniqueId(),i={},s={xID:a,props:t,context:l,getComputeMaps:()=>i};Nl(t);const c={dispatchEvent(e,t,l){r(e,Object.assign({$buttonGroup:s,$event:l},t))}},d={handleClick(e,l){const{options:o}=t,{name:n}=e,r=o?o.find((e=>e.name===n)):null;c.dispatchEvent("click",Object.assign(Object.assign({},e),{option:r}),l)}};Object.assign(s,c,d);const u=()=>{const{className:l,options:r}=t,a=o.default;return n("div",{class:["vxe-button-group",l?e.isFunction(l)?l({$buttonGroup:s}):l:""]},a?a({}):r?r.map(((e,t)=>n(Ll,Object.assign({key:t},e)))):[])};return s.renderVN=u,f("$xebuttongroup",s),u}}),Mr=Object.assign($r,{install(e){e.component($r.name,$r)}}),Ir=Mr;function Dr(t){return ll(),new Promise((l=>{if(t&&t.id&&Vl.some((e=>e.props.id===t.id)))l("exist");else{const o=t.onHide,n=Object.assign(t,{key:e.uniqueId(),modelValue:!0,onHide(e){const t=el.modals;o&&o(e),el.modals=t.filter((e=>e.key!==n.key)),l(e.type)}});el.modals.push(n)}}))}function Fr(t){return e.find(Vl,(e=>e.props.id===t))}function Nr(t,l,o,n){let r;return r=e.isObject(l)?l:{content:e.toValueString(l),title:o},Dr(Object.assign(Object.assign(Object.assign({},t),n),r))}tl.component($r.name,$r);const Lr={get:Fr,close:function(e){const t=e?[Fr(e)]:Vl,l=[];return t.forEach((e=>{e&&l.push(e.close())})),Promise.all(l)},open:Dr,alert:function(e,t,l){return Nr({type:"alert",showFooter:!0},e,t,l)},confirm:function(e,t,l){return Nr({type:"confirm",status:"question",showFooter:!0},e,t,l)},message:function(e,t){return Nr({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",t)}},Ar=Lr,Pr=Object.assign(Bl,{install:function(e){e.component(Bl.name,Bl),Xt.modal=Lr}}),Vr=Pr;tl.component(Bl.name,Bl);const jr=[],Br=a({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:[String,Object],lockView:{type:Boolean,default:()=>E.drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>E.drawer.mask},maskClosable:{type:Boolean,default:()=>E.drawer.maskClosable},escClosable:{type:Boolean,default:()=>E.drawer.escClosable},showHeader:{type:Boolean,default:()=>E.drawer.showHeader},showFooter:{type:Boolean,default:()=>E.drawer.showFooter},showClose:{type:Boolean,default:()=>E.drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>E.drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>E.drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>E.drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>E.drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>E.drawer.showTitleOverflow},width:[Number,String],height:[Number,String],zIndex:Number,transfer:{type:Boolean,default:()=>E.drawer.transfer},size:{type:String,default:()=>E.drawer.size||E.size},beforeHideMethod:{type:Function,default:()=>E.drawer.beforeHideMethod},slots:Number},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel"],setup(t,r){const{slots:a,emit:i}=r,s=e.uniqueId(),d=Nl(t),u=p(),f=p(),v=p(),b=p(),x=o({inited:!1,visible:!1,contentVisible:!1,drawerZIndex:0,firstOpen:!0}),w={refElem:u},C={},y={xID:s,props:t,context:r,reactData:x,getRefMaps:()=>w,getComputeMaps:()=>C},S=()=>f.value,T=()=>{const{width:e,height:l}=t,o=S();return o.style.width=`${e?isNaN(e)?e:`${e}px`:""}`,o.style.height=`${l?isNaN(l)?l:`${l}px`:""}`,c()},O=()=>{const{zIndex:e}=t,{drawerZIndex:l}=x;e?x.drawerZIndex=e:l<L()&&(x.drawerZIndex=N())},R=()=>c().then((()=>{})),k=l=>{const{beforeHideMethod:o}=t,{visible:n}=x,r={type:l};return n&&Promise.resolve(o?o(r):null).then((t=>{e.isError(t)||(x.contentVisible=!1,e.remove(jr,(e=>e===y)),F.dispatchEvent("before-hide",r),setTimeout((()=>{x.visible=!1,i("update:modelValue",!1),F.dispatchEvent("hide",r)}),200))})).catch((e=>e)),c()},$=e=>{const t="close";F.dispatchEvent(t,{type:t},e),k(t)},M=e=>{const t="confirm";F.dispatchEvent(t,{type:t},e),k(t)},I=e=>{const t="cancel";F.dispatchEvent(t,{type:t},e),k(t)},D=()=>{const{showFooter:e}=t,{inited:l,visible:o}=x;return l||(x.inited=!0),o||(T(),x.visible=!0,x.contentVisible=!1,O(),jr.push(y),setTimeout((()=>{x.contentVisible=!0,c((()=>{if(e){const e=v.value,t=b.value,l=e||t;l&&l.focus()}const t={type:""};i("update:modelValue",!0),F.dispatchEvent("show",t)}))}),10),c((()=>{const{firstOpen:e}=x;e&&R().then((()=>{setTimeout((()=>R()),20)})),e&&(x.firstOpen=!1)}))),c()},F={dispatchEvent(e,t,l){i(e,Object.assign({$drawer:y,$event:l},t))},open:D,close:()=>k("close"),getBox:S},A=e=>{const l=u.value;if(t.maskClosable&&e.target===l){k("mask")}},V=t=>{if(El(t,il)){const t=e.max(jr,(e=>e.reactData.drawerZIndex));t&&setTimeout((()=>{t===y&&t.props.escClosable&&k("exit")}),10)}},j=()=>{const{drawerZIndex:e}=x;jr.some((t=>t.reactData.visible&&t.reactData.drawerZIndex>e))&&O()};Object.assign(y,F,{});const B=()=>{const{slots:e={},showTitleOverflow:l}=t,o=a.header||e.header,r=[];return t.showHeader&&r.push(n("div",{class:["vxe-drawer--header",{"is--ellipsis":l}]},o?!x.inited||t.destroyOnClose&&!x.visible?[]:De(o({$drawer:y})):(()=>{const{slots:e={},showClose:l,title:o}=t,r=a.title||e.title,i=a.corner||e.corner,s=[n("div",{class:"vxe-drawer--header-title"},r?De(r({$drawer:y})):o?P(o):E.i18n("vxe.alert.title"))],c=[];return i&&c.push(n("span",{class:"vxe-drawer--corner-wrapper"},De(i({$drawer:y})))),l&&c.push(n("i",{class:["vxe-drawer--close-btn","trigger--btn",E.icon.MODAL_CLOSE],title:E.i18n("vxe.drawer.close"),onClick:$})),s.push(n("div",{class:"vxe-drawer--header-right"},c)),s})())),r},_=()=>{const{slots:e={},content:l}=t,o=a.default||e.default;return[n("div",{class:"vxe-drawer--body"},[n("div",{class:"vxe-drawer--content"},o?!x.inited||t.destroyOnClose&&!x.visible?[]:De(o({$drawer:y})):P(l)),n(Pl,{class:"vxe-drawer--loading",modelValue:t.loading})])]},H=()=>{const{slots:e={}}=t,l=a.footer||e.footer,o=[];return t.showFooter&&o.push(n("div",{class:"vxe-drawer--footer"},l?!x.inited||t.destroyOnClose&&!x.visible?[]:De(l({$drawer:y})):(()=>{const{showCancelButton:e,showConfirmButton:l}=t,o=[];return e&&o.push(n(Ll,{key:1,ref:b,content:t.cancelButtonText||E.i18n("vxe.button.cancel"),onClick:I})),l&&o.push(n(Ll,{key:2,ref:v,status:"primary",content:t.confirmButtonText||E.i18n("vxe.button.confirm"),onClick:M})),o})())),o};return y.renderVN=()=>{const{className:e,position:l,loading:o,lockScroll:r,lockView:a,mask:i}=t,{inited:s,contentVisible:c,visible:p}=x,g=d.value;return n(m,{to:"body",disabled:!t.transfer||!s},[n("div",{ref:u,class:["vxe-drawer--wrapper",`pos--${l}`,e||"",{[`size--${g}`]:g,"lock--scroll":r,"lock--view":a,"is--mask":i,"is--visible":c,"is--active":p,"is--loading":o}],style:{zIndex:x.drawerZIndex},onClick:A},[n("div",{ref:f,class:"vxe-drawer--box",onMousedown:j},B().concat(_(),H()))])])},l((()=>t.width),T),l((()=>t.height),T),l((()=>t.modelValue),(e=>{e?D():k("model")})),g((()=>{c((()=>{t.modelValue&&D(),T()})),t.escClosable&&Tl.on(y,"keydown",V)})),h((()=>{Tl.off(y,"keydown")})),y},render(){return this.renderVN()}});function _r(t){return e.find(jr,(e=>e.props.id===t))}const Hr={get:_r,close:function(e){const t=e?[_r(e)]:jr,l=[];return t.forEach((e=>{e&&l.push(e.close())})),Promise.all(l)},open:function(t){return ll(),new Promise((l=>{if(t&&t.id&&jr.some((e=>e.props.id===t.id)))l("exist");else{const o=t.onHide,n=Object.assign(t,{key:e.uniqueId(),modelValue:!0,onHide(e){const t=el.drawers;o&&o(e),el.drawers=t.filter((e=>e.key!==n.key)),l(e.type)}});el.drawers.push(n)}}))}},zr=Hr,Wr=Object.assign(Br,{install:function(e){e.component(Br.name,Br),Xt.drawer=Hr}});tl.component(Br.name,Br);const qr=Wr,Ur={title:String,field:String,span:[String,Number],align:String,titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},Yr=a({name:"VxeFormItem",props:Ur,setup(t,{slots:l}){const r=p(),a=i("$xeform",{}),s=i("$xeformgather",null),c=o(zn(a,t)),d={formItem:c},m={itemConfig:c};c.slots=l,f("$xeformiteminfo",m),f("$xeformitem",d),f("$xeformgather",null),Un(t,c),g((()=>{Yn(a,r.value,c,s)})),h((()=>{Xn(a,c)}));return{renderVN:()=>{const t=a?a.props:null;return t&&t.customLayout?((t,l)=>{const{props:o,reactData:a}=t,{data:i,rules:s,titleAlign:c,titleWidth:d,titleColon:p,titleAsterisk:m,titleOverflow:f,vertical:g}=o,{collapseAll:h}=a,{computeValidOpts:v}=t.getComputeMaps(),b=v.value,{slots:x,title:w,visible:C,folding:y,field:S,collapseNode:T,itemRender:O,showError:R,errRule:k,className:$,titleOverflow:M,vertical:D,showTitle:F,contentClassName:N,contentStyle:L,titleClassName:A,titleStyle:V}=l,j=I(O)?Xt.renderer.get(O.name):null,B=j?j.itemClassName:"",_=j?j.itemStyle:null,H=j?j.itemContentClassName:"",z=j?j.itemContentStyle:null,W=j?j.itemTitleClassName:"",q=j?j.itemTitleStyle:null,U=x?x.default:null,Y=x?x.title:null,X=l.span||o.span,G=l.align||o.align,K=e.eqNull(l.titleAlign)?c:l.titleAlign,Z=e.eqNull(l.titleWidth)?d:l.titleWidth,J=e.eqNull(l.titleColon)?p:l.titleColon,Q=e.eqNull(l.titleAsterisk)?m:l.titleAsterisk,ee=e.isUndefined(M)||e.isNull(M)?f:M,te=e.isUndefined(D)||e.isNull(D)?g:D,le="title"===ee,oe=!0===ee||"tooltip"===ee,ne=le||oe||"ellipsis"===ee,re={data:i,field:S,property:S,item:l,$form:t,$grid:t.xegrid};let ae=!1;if(!1===C)return u();if(s){const e=s[S];e&&(ae=e.some((e=>e.required)))}let ie=[];U?ie=t.callSlot(U,re):j&&j.renderItemContent?ie=De(j.renderItemContent(O,re)):S&&(ie=[`${e.get(i,S)}`]),T&&ie.push(n("div",{class:"vxe-form--item-trigger-node",onClick:t.toggleCollapseEvent},[n("span",{class:"vxe-form--item-trigger-text"},h?E.i18n("vxe.form.unfolding"):E.i18n("vxe.form.folding")),n("i",{class:["vxe-form--item-trigger-icon",h?E.icon.FORM_FOLDING:E.icon.FORM_UNFOLDING]})])),k&&b.showMessage&&ie.push(n("div",{class:"vxe-form--item-valid",style:k.maxWidth?{width:`${k.maxWidth}px`}:null},k.message));const se=oe?{onMouseenter(e){t.triggerTitleTipEvent(e,re)},onMouseleave:t.handleTitleTipLeaveEvent}:{};return n("div",{ref:r,class:["vxe-form--item",l.id,X?`vxe-form--item-col--${X} is--span`:"",$?e.isFunction($)?$(re):$:"",B?e.isFunction(B)?B(re):B:"",{"is--title":w,"is--colon":J,"is--vertical":te,"is--asterisk":Q,"is--required":ae,"is--hidden":y&&h,"is--active":qn(t,l),"is--error":R}],style:e.isFunction(_)?_(re):_},[n("div",{class:"vxe-form--item-inner"},[!1!==F&&(w||Y)?n("div",Object.assign({class:["vxe-form--item-title",K?`align--${K}`:"",ne?"is--ellipsis":"",W?e.isFunction(W)?W(re):W:"",A?e.isFunction(A)?A(re):A:""],style:Object.assign({},e.isFunction(q)?q(re):q,e.isFunction(V)?V(re):V,Z?{width:isNaN(Z)?Z:`${Z}px`}:null),title:le?P(w):null},se),Qn(t,l)):null,n("div",{class:["vxe-form--item-content",G?`align--${G}`:"",H?e.isFunction(H)?H(re):H:"",N?e.isFunction(N)?N(re):N:""],style:Object.assign({},e.isFunction(z)?z(re):z,e.isFunction(L)?L(re):L)},ie)])])})(a,c):n("div",{ref:r})}}},render(){return this.renderVN()}}),Xr=Object.assign(Yr,{install(e){e.component(Yr.name,Yr)}}),Gr=Xr;tl.component(Yr.name,Yr);const Kr=a({name:"VxeFormGather",props:Ur,setup(t,{slots:l}){const r=p(),a=i("$xeform",{}),s=i("$xeformgather",null),c=o(zn(a,t)),d={formItem:c},u={itemConfig:c};c.children=[],f("$xeformiteminfo",u),f("$xeformgather",d),f("$xeformitem",null),Un(t,c),g((()=>{Yn(a,r.value,c,s)})),h((()=>{Xn(a,c)}));return{renderVN:()=>{const{className:o,field:i}=t,s=t.span||(a?a.props.span:null),d=l.default;return n("div",{ref:r,class:["vxe-form--gather vxe-form--item-row",c.id,s?`vxe-form--item-col_${s} is--span`:"",o?e.isFunction(o)?o({$form:a,data:a?a.props.data:{},item:c,field:i,property:i}):o:""]},d?d():[])}}},render(){return this.renderVN()}}),Zr=Object.assign(Kr,{install(e){e.component(Kr.name,Kr)}}),Jr=Zr;tl.component(Kr.name,Kr);class Qr{constructor(t,l){Object.assign(this,{id:e.uniqueId("option_"),value:l.value,label:l.label,visible:l.visible,className:l.className,disabled:l.disabled})}update(e,t){this[e]=t}}function ea(e,t){return t instanceof Qr?t:new Qr(e,t)}function ta(e,t){Object.keys(e).forEach((o=>{l((()=>e[o]),(e=>{t.update(o,e)}))}))}function la(t,l,o,n){const{reactData:r}=t,{staticOptions:a}=r,i=l.parentNode,s=n?n.option:null,c=s?s.options:a;i&&c&&(c.splice(e.arrayIndexOf(i.children,l),0,o),r.staticOptions=a.slice(0))}function oa(t,l){const{reactData:o}=t,{staticOptions:n}=o,r=e.findTree(n,(e=>e.id===l.id),{children:"options"});r&&r.items.splice(r.index,1),o.staticOptions=n.slice(0)}const na=a({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const l=p(),o=i("$xeselect",{}),r=ea(o,e),a={option:r};return r.options=[],f("xeoptgroup",a),ta(e,r),g((()=>{la(o,l.value,r)})),h((()=>{oa(o,r)})),()=>n("div",{ref:l},t.default?t.default():[])}}),ra=Object.assign(na,{install:function(e){e.component(na.name,na)}}),aa=ra;tl.component(na.name,na);const ia=a({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const l=p(),o=i("$xeselect",{}),r=i("xeoptgroup",null),a=ea(o,e);return a.slots=t,ta(e,a),g((()=>{la(o,l.value,a,r)})),h((()=>{oa(o,a)})),()=>n("div",{ref:l})}}),sa=Object.assign(ia,{install:function(e){e.component(ia.name,ia)}}),ca=sa;tl.component(ia.name,ia);const da=a({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>E.switch.size||E.size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(t,l){const{emit:r}=l,a=i("$xeform",null),d=i("$xeformiteminfo",null),m=e.uniqueId(),f=Nl(t),g=o({isActivated:!1,hasAnimat:!1,offsetLeft:0}),h={xID:m,props:t,context:l,reactData:g},v=p();let b={};const x=s((()=>P(t.openLabel))),w=s((()=>P(t.closeLabel))),C=s((()=>t.modelValue===t.openValue));let y;const E=e=>{if(!t.disabled){const l=C.value;clearTimeout(y);const o=l?t.closeValue:t.openValue;g.hasAnimat=!0,r("update:modelValue",o),b.dispatchEvent("change",{value:o},e),a&&d&&a.triggerItemEvent(e,d.itemConfig.field,o),y=setTimeout((()=>{g.hasAnimat=!1}),400)}},S=e=>{g.isActivated=!0,b.dispatchEvent("focus",{value:t.modelValue},e)},T=e=>{g.isActivated=!1,b.dispatchEvent("blur",{value:t.modelValue},e)};b={dispatchEvent(e,t,l){r(e,Object.assign({$switch:h,$event:l},t))},focus(){const e=v.value;return g.isActivated=!0,e.focus(),c()},blur:()=>(v.value.blur(),g.isActivated=!1,c())},Object.assign(h,b);return h.renderVN=()=>{const{disabled:e,openIcon:l,closeIcon:o,openActiveIcon:r,closeActiveIcon:a}=t,i=C.value,s=f.value,c=x.value,d=w.value;return n("div",{class:["vxe-switch",i?"is--on":"is--off",{[`size--${s}`]:s,"is--disabled":e,"is--animat":g.hasAnimat}]},[n("button",{ref:v,class:"vxe-switch--button",type:"button",disabled:e,onClick:E,onFocus:S,onBlur:T},[n("span",{class:"vxe-switch--label vxe-switch--label-on"},[l?n("i",{class:["vxe-switch--label-icon",l]}):u(),c]),n("span",{class:"vxe-switch--label vxe-switch--label-off"},[o?n("i",{class:["vxe-switch--label-icon",o]}):u(),d]),n("span",{class:"vxe-switch--icon"},r||a?[n("i",{class:i?r:a})]:[])])])},h},render(){return this.renderVN()}}),ua=Object.assign(da,{install:function(e){e.component(da.name,da)}}),pa=ua;tl.component(da.name,da);const ma=a({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>E.list.size||E.size},autoResize:{type:Boolean,default:()=>E.list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(t,r){const{slots:a,emit:i}=r,d=e.uniqueId(),u=Nl(t),m=o({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),f=p(),g=p(),v=p(),b={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},x={refElem:f},C={xID:d,props:t,context:r,reactData:m,internalData:b,getRefMaps:()=>x};let y={};const S=s((()=>Object.assign({},E.list.scrollY,t.scrollY))),T=s((()=>{const{height:e,maxHeight:l}=t,o={};return e?o.height=`${isNaN(e)?e:`${e}px`}`:l&&(o.height="auto",o.maxHeight=`${isNaN(l)?l:`${l}px`}`),o})),O=()=>{const{scrollYLoad:e}=m,{scrollYStore:t,fullData:l}=b;m.bodyHeight=e?l.length*t.rowHeight:0,m.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},R=()=>{const{scrollYLoad:e}=m,{fullData:t,scrollYStore:l}=b;return m.items=e?t.slice(l.startIndex,l.endIndex):t.slice(0),c()},k=()=>{R(),O()},$=()=>c().then((()=>{const{scrollYLoad:t}=m,{scrollYStore:l}=b,o=v.value,n=S.value;let r,a=0;if(o&&(n.sItem&&(r=o.querySelector(n.sItem)),r||(r=o.children[0])),r&&(a=r.offsetHeight),a=Math.max(20,a),l.rowHeight=a,t){const t=g.value,o=Math.max(8,Math.ceil(t.clientHeight/a)),r=n.oSize?e.toNumber(n.oSize):H.edge?10:0;l.offsetSize=r,l.visibleSize=o,l.endIndex=Math.max(l.startIndex,o+r,l.endIndex),k()}else O();m.rowHeight=a})),M=()=>{const e=g.value;return e&&(e.scrollTop=0),c()},I=(t,l)=>{const o=g.value;return e.isNumber(t)&&(o.scrollLeft=t),e.isNumber(l)&&(o.scrollTop=l),m.scrollYLoad?new Promise((e=>{setTimeout((()=>{c((()=>{e()}))}),50)})):c()},D=()=>{const{lastScrollLeft:e,lastScrollTop:t}=b;return M().then((()=>{if(e||t)return b.lastScrollLeft=0,b.lastScrollTop=0,I(e,t)}))},F=()=>{const e=f.value;return e.clientWidth&&e.clientHeight?$():Promise.resolve()},N=e=>{const t=e.target,l=t.scrollTop,o=t.scrollLeft,n=o!==b.lastScrollLeft,r=l!==b.lastScrollTop;b.lastScrollTop=l,b.lastScrollLeft=o,m.scrollYLoad&&(e=>{const{scrollYStore:t}=b,{startIndex:l,endIndex:o,visibleSize:n,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),d=s+n+r;(s<=l||s>=o-n-1)&&(l===c&&o===d||(t.startIndex=c,t.endIndex=d,k()))})(e),y.dispatchEvent("scroll",{scrollLeft:o,scrollTop:l,isX:n,isY:r},e)};y={dispatchEvent(e,t,l){i(e,Object.assign({$list:C,$event:l},t))},loadData(e){const{scrollYStore:t}=b,l=S.value,o=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),b.fullData=o,m.scrollYLoad=!!l.enabled&&l.gt>-1&&(0===l.gt||l.gt<=o.length),R(),$().then((()=>{D()}))},reloadData:e=>(M(),y.loadData(e)),recalculate:F,scrollTo:I,refreshScroll:D,clearScroll:M},Object.assign(C,y);const L=p(0);let A;l((()=>t.data?t.data.length:-1),(()=>{L.value++})),l((()=>t.data),(()=>{L.value++})),l(L,(()=>{y.loadData(t.data||[])})),l((()=>t.syncResize),(e=>{e&&(F(),c((()=>setTimeout((()=>F())))))})),w((()=>{F().then((()=>D()))})),c((()=>{if(Tl.on(C,"resize",(()=>{F()})),t.autoResize){const e=f.value;A=fn((()=>F())),A.observe(e)}y.loadData(t.data||[])})),h((()=>{A&&A.disconnect(),Tl.off(C,"resize")}));return C.renderVN=()=>{const{className:l,loading:o}=t,{bodyHeight:r,topSpaceHeight:i,items:s}=m,c=u.value,d=T.value;return n("div",{ref:f,class:["vxe-list",l?e.isFunction(l)?l({$list:C}):l:"",{[`size--${c}`]:c,"is--loading":o}]},[n("div",{ref:g,class:"vxe-list--virtual-wrapper",style:d,onScroll:N},[n("div",{class:"vxe-list--y-space",style:{height:r?`${r}px`:""}}),n("div",{ref:v,class:"vxe-list--body",style:{marginTop:i?`${i}px`:""}},a.default?a.default({items:s,$list:C}):[])]),n(Pl,{class:"vxe-list--loading",modelValue:o})])},C},render(){return this.renderVN()}}),fa=Object.assign(ma,{install(e){e.component(ma.name,ma)}}),ga=fa;tl.component(ma.name,ma);const ha=a({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:()=>E.size},className:[String,Function],popupClassName:[String,Function],destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup(t,r){const{slots:a,emit:i}=r,s=e.uniqueId(),d=Nl(t),f=o({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),g=p(),v=p(),b=p(),x={refElem:g},w={xID:s,props:t,context:r,reactData:f,getRefMaps:()=>x};let C={};const y=()=>c().then((()=>{const{transfer:e,placement:l}=t,{panelIndex:o,visiblePanel:n}=f;if(n){const t=v.value,n=b.value;if(n&&t){const r=t.offsetHeight,a=t.offsetWidth,i=n.offsetHeight,s=n.offsetWidth,c=5,d={zIndex:o},{boundingTop:u,boundingLeft:p,visibleHeight:m,visibleWidth:g}=re(t);let h="bottom";if(e){let e=p,t=u+r;"top"===l?(h="top",t=u-i):l||(t+i+c>m&&(h="top",t=u-i),t<c&&(h="bottom",t=u+r)),e+s+c>g&&(e-=e+s+c-g),e<c&&(e=c),Object.assign(d,{left:`${e}px`,top:`${t}px`,minWidth:`${a}px`})}else"top"===l?(h="top",d.bottom=`${r}px`):l||u+r+i>m&&u-r-i>c&&(h="top",d.bottom=`${r}px`);f.panelStyle=d,f.panelPlacement=h}}return c()}));let E;const S=()=>(f.inited||(f.inited=!0),new Promise((e=>{t.disabled?c((()=>{e()})):(clearTimeout(E),f.isActivated=!0,f.animatVisible=!0,setTimeout((()=>{f.visiblePanel=!0,i("update:modelValue",!0),y(),setTimeout((()=>{e(y())}),40)}),10),f.panelIndex<L()&&(f.panelIndex=N()))}))),T=()=>(f.visiblePanel=!1,i("update:modelValue",!1),new Promise((e=>{f.animatVisible?E=window.setTimeout((()=>{f.animatVisible=!1,c((()=>{e()}))}),350):c((()=>{e()}))}))),O=e=>{const{disabled:l}=t,{visiblePanel:o}=f,n=b.value;l||o&&(oe(e,n).flag?y():(T(),C.dispatchEvent("hide-panel",{},e)))},R=e=>{const{disabled:l}=t,{visiblePanel:o}=f,n=g.value,r=b.value;l||(f.isActivated=oe(e,n).flag||oe(e,r).flag,o&&!f.isActivated&&(T(),C.dispatchEvent("hide-panel",{},e)))},k=e=>{f.visiblePanel&&(f.isActivated=!1,T(),C.dispatchEvent("hide-panel",{},e))};C={dispatchEvent(e,t,l){i(e,Object.assign({$pulldown:w,$event:l},t))},isPanelVisible:()=>f.visiblePanel,togglePanel:()=>f.visiblePanel?T():S(),showPanel:S,hidePanel:T},Object.assign(w,C),l((()=>t.modelValue),(e=>{e?S():T()})),c((()=>{Tl.on(w,"mousewheel",O),Tl.on(w,"mousedown",R),Tl.on(w,"blur",k)})),h((()=>{Tl.off(w,"mousewheel"),Tl.off(w,"mousedown"),Tl.off(w,"blur")}));return w.renderVN=()=>{const{className:l,popupClassName:o,destroyOnClose:r,transfer:i,disabled:s}=t,{inited:c,isActivated:p,animatVisible:h,visiblePanel:x,panelStyle:C,panelPlacement:y}=f,E=d.value,S=a.default,T=a.header,O=a.footer,R=a.dropdown;return n("div",{ref:g,class:["vxe-pulldown",l?e.isFunction(l)?l({$pulldown:w}):l:"",{[`size--${E}`]:E,"is--visivle":x,"is--disabled":s,"is--active":p}]},[n("div",{ref:v,class:"vxe-pulldown--content"},S?S({$pulldown:w}):[]),n(m,{to:"body",disabled:!i||!c},[n("div",{ref:b,class:["vxe-table--ignore-clear vxe-pulldown--panel",o?e.isFunction(o)?o({$pulldown:w}):o:"",{[`size--${E}`]:E,"is--transfer":i,"animat--leave":h,"animat--enter":x}],placement:y,style:C},R?[n("div",{class:"vxe-pulldown--panel-wrapper"},!c||r&&!x&&!h?[]:[T?n("div",{class:"vxe-pulldown--panel-header"},T({$pulldown:w})):u(),n("div",{class:"vxe-pulldown--panel-body"},R({$pulldown:w})),O?n("div",{class:"vxe-pulldown--panel-footer"},O({$pulldown:w})):u()])]:[])])])},w},render(){return this.renderVN()}}),va=Object.assign(ha,{install:function(e){e.component(ha.name,ha)}}),ba=va;tl.component(ha.name,ha);const xa={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择"},loading:{text:"加载中..."},error:{groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"#",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",maxFixedCol:"最大冻结列的数量不能超过 {0} 个"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动目标：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"标题",colVisible:"是否显示",colFixed:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖",insert:"新增"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{zoomIn:"最大化",zoomOut:"还原",close:"关闭"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},formDesign:{widget:{input:"输入框",textarea:"文本域",select:"下拉框"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},wa=[ol,kl,Dl,Io,No,jo,qo,Xo,ln,rn,dr,Bn,Ln,pr,gr,vr,xr,Cr,Er,Rr,Pn,Mr,Pr,Wr,Gn,nr,Xr,Zr,Dn,ra,sa,ua,fa,va,Mn];Vt({i18n:(t,l)=>e.toFormatString(e.get(xa,t),l)});const Ca=Object.freeze(Object.defineProperty({__proto__:null,Button:Vn,ButtonGroup:Ir,Checkbox:mr,CheckboxGroup:hr,Colgroup:an,Column:on,Custom:Uo,Drawer:qr,Edit:Fl,Export:Do,Filter:nl,Form:rr,FormGather:Jr,FormItem:Gr,Grid:ur,Icon:Go,Input:Sr,Keyboard:Lo,List:ga,Menu:$l,Modal:Vr,Optgroup:aa,Option:ca,Pager:An,Pulldown:ba,Radio:br,RadioButton:yr,RadioGroup:wr,Select:Fn,Switch:pa,Table:In,Textarea:kr,Toolbar:_n,Tooltip:Kn,VXETable:Xt,Validator:Bo,VxeButton:Pn,VxeButtonGroup:Mr,VxeCheckbox:pr,VxeCheckboxGroup:gr,VxeColgroup:rn,VxeColumn:ln,VxeDrawer:Wr,VxeForm:nr,VxeFormGather:Zr,VxeFormItem:Xr,VxeGrid:dr,VxeIcon:Xo,VxeInput:Er,VxeList:fa,VxeModal:Pr,VxeOptgroup:ra,VxeOption:sa,VxePager:Ln,VxePulldown:va,VxeRadio:vr,VxeRadioButton:Cr,VxeRadioGroup:xr,VxeSelect:Dn,VxeSwitch:ua,VxeTable:Mn,VxeTableCustomModule:qo,VxeTableEditModule:Dl,VxeTableExportModule:Io,VxeTableFilterModule:ol,VxeTableKeyboardModule:No,VxeTableMenuModule:kl,VxeTableValidatorModule:jo,VxeTextarea:Rr,VxeToolbar:Bn,VxeTooltip:Gn,VxeUI:Gt,_t:Pt,commands:Rt,component:function(e){e&&e.name&&(Wt[e.name]=e)},config:_t,drawer:zr,formats:M,getComponent:qt,globalConfs:jt,globalStore:zt,hooks:It,install:function(t,l){e.isPlainObject(l)&&(Vt(l),l.theme&&Dt(l.theme)),wa.forEach((e=>e.install(t)))},interceptor:$,menus:kt,modal:Ar,print:Mo,readFile:io,renderer:Ot,saveFile:mo,setConfig:Vt,setIcon:Ht,setup:Bt,t:At,tableVersion:Yt,use:Lt,v:"v4",validators:Mt,version:Ut},Symbol.toStringTag,{value:"Module"}));export{Ca as V};
